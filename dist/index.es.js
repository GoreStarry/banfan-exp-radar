function e(){return(e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function t(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||i(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||i(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function s(e,t,n){return e(n={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/(null==t&&n.path)}},n.exports),n.exports}var l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;function h(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var d=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,r,i=h(e),o=1;o<arguments.length;o++){for(var a in n=Object(arguments[o]))c.call(n,a)&&(i[a]=n[a]);if(l){r=l(n);for(var s=0;s<r.length;s++)u.call(n,r[s])&&(i[r[s]]=n[r[s]])}}return i},f=s((function(e,t){var n=60103,r=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,o=60110,a=60112;t.Suspense=60113;var s=60115,l=60116;if("function"==typeof Symbol&&Symbol.for){var c=Symbol.for;n=c("react.element"),r=c("react.portal"),t.Fragment=c("react.fragment"),t.StrictMode=c("react.strict_mode"),t.Profiler=c("react.profiler"),i=c("react.provider"),o=c("react.context"),a=c("react.forward_ref"),t.Suspense=c("react.suspense"),s=c("react.memo"),l=c("react.lazy")}var u="function"==typeof Symbol&&Symbol.iterator;function h(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p={};function m(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}function g(){}function v(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(h(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var y=v.prototype=new g;y.constructor=v,d(y,m.prototype),y.isPureReactComponent=!0;var b={current:null},x=Object.prototype.hasOwnProperty,_={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!_.hasOwnProperty(i)&&(o[i]=t[i]);var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===o[i]&&(o[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:b.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function M(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===o?"."+M(l,0):o,Array.isArray(a)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",Array.isArray(e))for(var c=0;c<e.length;c++){var d=o+M(s=e[c],c);l+=T(s,t,i,d,a)}else if("function"==typeof(d=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=u&&e[u]||e["@@iterator"])?e:null}(e)))for(e=d.call(e),c=0;!(s=e.next()).done;)l+=T(s=s.value,t,i,d=o+M(s,c++),a);else if("object"===s)throw t=""+e,Error(h(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function k(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var C={current:null};function P(){var e=C.current;if(null===e)throw Error(h(321));return e}var A={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:d};t.Children={map:k,forEach:function(e,t,n){k(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return k(e,(function(){t++})),t},toArray:function(e){return k(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(h(143));return e}},t.Component=m,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null==e)throw Error(h(267,e));var i=d({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)x.call(t,c)&&!_.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:o,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:a,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:s,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return P().useCallback(e,t)},t.useContext=function(e,t){return P().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return P().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return P().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return P().useLayoutEffect(e,t)},t.useMemo=function(e,t){return P().useMemo(e,t)},t.useReducer=function(e,t,n){return P().useReducer(e,t,n)},t.useRef=function(e){return P().useRef(e)},t.useState=function(e){return P().useState(e)},t.version="17.0.1"})),p=s((function(e,t){"production"!==process.env.NODE_ENV&&function(){var e=d,n=60103,r=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var i=60109,o=60110,a=60112;t.Suspense=60113;var s=60120,l=60115,c=60116,u=60121,h=60122,f=60117,p=60129,m=60131;if("function"==typeof Symbol&&Symbol.for){var g=Symbol.for;n=g("react.element"),r=g("react.portal"),t.Fragment=g("react.fragment"),t.StrictMode=g("react.strict_mode"),t.Profiler=g("react.profiler"),i=g("react.provider"),o=g("react.context"),a=g("react.forward_ref"),t.Suspense=g("react.suspense"),s=g("react.suspense_list"),l=g("react.memo"),c=g("react.lazy"),u=g("react.block"),h=g("react.server.block"),f=g("react.fundamental"),g("react.scope"),g("react.opaque.id"),p=g("react.debug_trace_mode"),g("react.offscreen"),m=g("react.legacy_hidden")}var v="function"==typeof Symbol&&Symbol.iterator;function y(e){if(null===e||"object"!=typeof e)return null;var t=v&&e[v]||e["@@iterator"];return"function"==typeof t?t:null}var b={current:null},x={current:null},_={},w=null;function S(e){w=e}_.setExtraStackFrame=function(e){w=e},_.getCurrentStack=null,_.getStackAddendum=function(){var e="";w&&(e+=w);var t=_.getCurrentStack;return t&&(e+=t()||""),e};var E={ReactCurrentDispatcher:b,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:x,IsSomeRendererActing:{current:!1},assign:e};function M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];k("warn",e,n)}function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];k("error",e,n)}function k(e,t,n){var r=E.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(t+="%s",n=n.concat([r]));var i=n.map((function(e){return""+e}));i.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,i)}E.ReactDebugCurrentFrame=_;var R={};function C(e,t){var n=e.constructor,r=n&&(n.displayName||n.name)||"ReactClass",i=r+"."+t;R[i]||(T("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",t,r),R[i]=!0)}var P={isMounted:function(e){return!1},enqueueForceUpdate:function(e,t,n){C(e,"forceUpdate")},enqueueReplaceState:function(e,t,n,r){C(e,"replaceState")},enqueueSetState:function(e,t,n,r){C(e,"setState")}},A={};function L(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||P}Object.freeze(A),L.prototype.isReactComponent={},L.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},L.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};var O={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},I=function(e,t){Object.defineProperty(L.prototype,e,{get:function(){M("%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var N in O)O.hasOwnProperty(N)&&I(N,O[N]);function D(){}function z(e,t,n){this.props=e,this.context=t,this.refs=A,this.updater=n||P}D.prototype=L.prototype;var F=z.prototype=new D;function U(e){return e.displayName||"Context"}function B(e){if(null==e)return null;if("number"==typeof e.tag&&T("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case t.Fragment:return"Fragment";case r:return"Portal";case t.Profiler:return"Profiler";case t.StrictMode:return"StrictMode";case t.Suspense:return"Suspense";case s:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case o:return U(e)+".Consumer";case i:return U(e._context)+".Provider";case a:return f=e,p=e.render,m="ForwardRef",g=p.displayName||p.name||"",f.displayName||(""!==g?m+"("+g+")":m);case l:return B(e.type);case u:return B(e._render);case c:var n=e,h=n._payload,d=n._init;try{return B(d(h))}catch(e){return null}}var f,p,m,g;return null}F.constructor=z,e(F,L.prototype),F.isPureReactComponent=!0;var j,H,V,G=Object.prototype.hasOwnProperty,W={key:!0,ref:!0,__self:!0,__source:!0};function q(e){if(G.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}function X(e){if(G.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}function Y(e,t){var n=function(){j||(j=!0,T("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}function Z(e,t){var n=function(){H||(H=!0,T("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}function Q(e){if("string"==typeof e.ref&&x.current&&e.__self&&x.current.stateNode!==e.__self){var t=B(x.current.type);V[t]||(T('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',t,e.ref),V[t]=!0)}}V={};var $=function(e,t,r,i,o,a,s){var l={$$typeof:n,type:e,key:t,ref:r,props:s,_owner:a,_store:{}};return Object.defineProperty(l._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(l,"_self",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.defineProperty(l,"_source",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.freeze&&(Object.freeze(l.props),Object.freeze(l)),l};function K(e,t,n){var r,i={},o=null,a=null,s=null,l=null;if(null!=t)for(r in q(t)&&(a=t.ref,Q(t)),X(t)&&(o=""+t.key),s=void 0===t.__self?null:t.__self,l=void 0===t.__source?null:t.__source,t)G.call(t,r)&&!W.hasOwnProperty(r)&&(i[r]=t[r]);var c=arguments.length-2;if(1===c)i.children=n;else if(c>1){for(var u=Array(c),h=0;h<c;h++)u[h]=arguments[h+2];Object.freeze&&Object.freeze(u),i.children=u}if(e&&e.defaultProps){var d=e.defaultProps;for(r in d)void 0===i[r]&&(i[r]=d[r])}if(o||a){var f="function"==typeof e?e.displayName||e.name||"Unknown":e;o&&Y(i,f),a&&Z(i,f)}return $(e,o,a,s,l,x.current,i)}function J(t,n,r){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i,o,a=e({},t.props),s=t.key,l=t.ref,c=t._self,u=t._source,h=t._owner;if(null!=n)for(i in q(n)&&(l=n.ref,h=x.current),X(n)&&(s=""+n.key),t.type&&t.type.defaultProps&&(o=t.type.defaultProps),n)G.call(n,i)&&!W.hasOwnProperty(i)&&(void 0===n[i]&&void 0!==o?a[i]=o[i]:a[i]=n[i]);var d=arguments.length-2;if(1===d)a.children=r;else if(d>1){for(var f=Array(d),p=0;p<d;p++)f[p]=arguments[p+2];a.children=f}return $(t.type,s,l,c,u,h,a)}function ee(e){return"object"==typeof e&&null!==e&&e.$$typeof===n}var te=!1,ne=/\/+/g;function re(e){return e.replace(ne,"$&/")}function ie(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,(function(e){return r[e]}))):t.toString(36);var n,r}function oe(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u,h=!1;if(null===e)h=!0;else switch(s){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case n:case r:h=!0}}if(h){var d=e,f=a(d),p=""===o?"."+ie(d,0):o;if(Array.isArray(f)){var m="";null!=p&&(m=re(p)+"/"),oe(f,t,m,"",(function(e){return e}))}else null!=f&&(ee(f)&&(l=f,c=i+(!f.key||d&&d.key===f.key?"":re(""+f.key)+"/")+p,f=$(l.type,c,l.ref,l._self,l._source,l._owner,l.props)),t.push(f));return 1}var g=0,v=""===o?".":o+":";if(Array.isArray(e))for(var b=0;b<e.length;b++)g+=oe(u=e[b],t,i,v+ie(u,b),a);else{var x=y(e);if("function"==typeof x){var _=e;x===_.entries&&(te||M("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),te=!0);for(var w,S=x.call(_),E=0;!(w=S.next()).done;)g+=oe(u=w.value,t,i,v+ie(u,E++),a)}else if("object"===s){var T=""+e;throw Error("Objects are not valid as a React child (found: "+("[object Object]"===T?"object with keys {"+Object.keys(e).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}}return g}function ae(e,t,n){if(null==e)return e;var r=[],i=0;return oe(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function se(e){if(-1===e._status){var t=(0,e._result)(),n=e;n._status=0,n._result=t,t.then((function(t){if(0===e._status){var n=t.default;void 0===n&&T("lazy: Expected the result of a dynamic import() call. Instead received: %s\n\nYour code should look like: \n  const MyComponent = lazy(() => import('./MyComponent'))",t);var r=e;r._status=1,r._result=n}}),(function(t){if(0===e._status){var n=e;n._status=2,n._result=t}}))}if(1===e._status)return e._result;throw e._result}function le(e){return"string"==typeof e||"function"==typeof e||(e===t.Fragment||e===t.Profiler||e===p||e===t.StrictMode||e===t.Suspense||e===s||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===c||e.$$typeof===l||e.$$typeof===i||e.$$typeof===o||e.$$typeof===a||e.$$typeof===f||e.$$typeof===u||e[0]===h))}function ce(){var e=b.current;if(null===e)throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.");return e}var ue,he,de,fe,pe,me,ge,ve=0;function ye(){}ye.__reactDisabledLog=!0;var be,xe=E.ReactCurrentDispatcher;function _e(e,t,n){if(void 0===be)try{throw Error()}catch(e){var r=e.stack.trim().match(/\n( *(at )?)/);be=r&&r[1]||""}return"\n"+be+e}var we,Se=!1,Ee="function"==typeof WeakMap?WeakMap:Map;function Me(t,n){if(!t||Se)return"";var r,i=we.get(t);if(void 0!==i)return i;Se=!0;var o,a=Error.prepareStackTrace;Error.prepareStackTrace=void 0,o=xe.current,xe.current=null,function(){if(0===ve){ue=console.log,he=console.info,de=console.warn,fe=console.error,pe=console.group,me=console.groupCollapsed,ge=console.groupEnd;var e={configurable:!0,enumerable:!0,value:ye,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}ve++}();try{if(n){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(s,[])}catch(e){r=e}Reflect.construct(t,[],s)}else{try{s.call()}catch(e){r=e}t.call(s.prototype)}}else{try{throw Error()}catch(e){r=e}t()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var l=e.stack.split("\n"),c=r.stack.split("\n"),u=l.length-1,h=c.length-1;u>=1&&h>=0&&l[u]!==c[h];)h--;for(;u>=1&&h>=0;u--,h--)if(l[u]!==c[h]){if(1!==u||1!==h)do{if(u--,--h<0||l[u]!==c[h]){var d="\n"+l[u].replace(" at new "," at ");return"function"==typeof t&&we.set(t,d),d}}while(u>=1&&h>=0);break}}}finally{Se=!1,xe.current=o,function(){if(0==--ve){var t={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:e({},t,{value:ue}),info:e({},t,{value:he}),warn:e({},t,{value:de}),error:e({},t,{value:fe}),group:e({},t,{value:pe}),groupCollapsed:e({},t,{value:me}),groupEnd:e({},t,{value:ge})})}ve<0&&T("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}(),Error.prepareStackTrace=a}var f=t?t.displayName||t.name:"",p=f?_e(f):"";return"function"==typeof t&&we.set(t,p),p}function Te(e,t,n){return Me(e,!1)}function ke(e,n,r){if(null==e)return"";if("function"==typeof e)return Me(e,function(e){var t=e.prototype;return!(!t||!t.isReactComponent)}(e));if("string"==typeof e)return _e(e);switch(e){case t.Suspense:return _e("Suspense");case s:return _e("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case a:return Te(e.render);case l:return ke(e.type,n,r);case u:return Te(e._render);case c:var i=e,o=i._payload,h=i._init;try{return ke(h(o),n,r)}catch(e){}}return""}we=new Ee;var Re,Ce={},Pe=E.ReactDebugCurrentFrame;function Ae(e){if(e){var t=e._owner,n=ke(e.type,e._source,t?t.type:null);Pe.setExtraStackFrame(n)}else Pe.setExtraStackFrame(null)}function Le(e){if(e){var t=e._owner;S(ke(e.type,e._source,t?t.type:null))}else S(null)}function Oe(){if(x.current){var e=B(x.current.type);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}function Ie(e){return null!=e&&void 0!==(t=e.__source)?"\n\nCheck your code at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+".":"";var t}Re=!1;var Ne={};function De(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=Oe();if(!t){var n="string"==typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!Ne[n]){Ne[n]=!0;var r="";e&&e._owner&&e._owner!==x.current&&(r=" It was passed a child from "+B(e._owner.type)+"."),Le(e),T('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,r),Le(null)}}}function ze(e,t){if("object"==typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];ee(r)&&De(r,t)}else if(ee(e))e._store&&(e._store.validated=!0);else if(e){var i=y(e);if("function"==typeof i&&i!==e.entries)for(var o,a=i.call(e);!(o=a.next()).done;)ee(o.value)&&De(o.value,t)}}function Fe(e){var t,n=e.type;if(null!=n&&"string"!=typeof n){if("function"==typeof n)t=n.propTypes;else{if("object"!=typeof n||n.$$typeof!==a&&n.$$typeof!==l)return;t=n.propTypes}if(t){var r=B(n);!function(e,t,n,r,i){var o=Function.call.bind(Object.prototype.hasOwnProperty);for(var a in e)if(o(e,a)){var s=void 0;try{if("function"!=typeof e[a]){var l=Error((r||"React class")+": "+n+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw l.name="Invariant Violation",l}s=e[a](t,a,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){s=e}!s||s instanceof Error||(Ae(i),T("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,a,typeof s),Ae(null)),s instanceof Error&&!(s.message in Ce)&&(Ce[s.message]=!0,Ae(i),T("Failed %s type: %s",n,s.message),Ae(null))}}(t,e.props,"prop",r,e)}else if(void 0!==n.PropTypes&&!Re){Re=!0,T("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",B(n)||"Unknown")}"function"!=typeof n.getDefaultProps||n.getDefaultProps.isReactClassApproved||T("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ue(e){for(var t=Object.keys(e.props),n=0;n<t.length;n++){var r=t[n];if("children"!==r&&"key"!==r){Le(e),T("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",r),Le(null);break}}null!==e.ref&&(Le(e),T("Invalid attribute `ref` supplied to `React.Fragment`."),Le(null))}function Be(e,r,i){var o=le(e);if(!o){var a="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(a+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var s,l=Ie(r);a+=l||Oe(),null===e?s="null":Array.isArray(e)?s="array":void 0!==e&&e.$$typeof===n?(s="<"+(B(e.type)||"Unknown")+" />",a=" Did you accidentally export a JSX literal instead of a component?"):s=typeof e,T("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",s,a)}var c=K.apply(this,arguments);if(null==c)return c;if(o)for(var u=2;u<arguments.length;u++)ze(arguments[u],e);return e===t.Fragment?Ue(c):Fe(c),c}var je=!1;try{var He=Object.freeze({});new Map([[He,null]]),new Set([He])}catch(e){}var Ve=Be,Ge=function(e,t,n){for(var r=J.apply(this,arguments),i=2;i<arguments.length;i++)ze(arguments[i],r.type);return Fe(r),r},We=function(e){var t=Be.bind(null,e);return t.type=e,je||(je=!0,M("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(t,"type",{enumerable:!1,get:function(){return M("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},qe={map:ae,forEach:function(e,t,n){ae(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return ae(e,(function(){t++})),t},toArray:function(e){return ae(e,(function(e){return e}))||[]},only:function(e){if(!ee(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Children=qe,t.Component=L,t.PureComponent=z,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=E,t.cloneElement=Ge,t.createContext=function(e,t){void 0===t?t=null:null!==t&&"function"!=typeof t&&T("createContext: Expected the optional second argument to be a function. Instead received: %s",t);var n={$$typeof:o,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null};n.Provider={$$typeof:i,_context:n};var r=!1,a=!1,s=!1,l={$$typeof:o,_context:n,_calculateChangedBits:n._calculateChangedBits};return Object.defineProperties(l,{Provider:{get:function(){return a||(a=!0,T("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),n.Provider},set:function(e){n.Provider=e}},_currentValue:{get:function(){return n._currentValue},set:function(e){n._currentValue=e}},_currentValue2:{get:function(){return n._currentValue2},set:function(e){n._currentValue2=e}},_threadCount:{get:function(){return n._threadCount},set:function(e){n._threadCount=e}},Consumer:{get:function(){return r||(r=!0,T("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),n.Consumer}},displayName:{get:function(){return n.displayName},set:function(e){s||(M("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",e),s=!0)}}}),n.Consumer=l,n._currentRenderer=null,n._currentRenderer2=null,n},t.createElement=Ve,t.createFactory=We,t.createRef=function(){var e={current:null};return Object.seal(e),e},t.forwardRef=function(e){null!=e&&e.$$typeof===l?T("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):"function"!=typeof e?T("forwardRef requires a render function but was given %s.",null===e?"null":typeof e):0!==e.length&&2!==e.length&&T("forwardRef render functions accept exactly two parameters: props and ref. %s",1===e.length?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),null!=e&&(null==e.defaultProps&&null==e.propTypes||T("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?"));var t,n={$$typeof:a,render:e};return Object.defineProperty(n,"displayName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(n){t=n,null==e.displayName&&(e.displayName=n)}}),n},t.isValidElement=ee,t.lazy=function(e){var t,n,r={$$typeof:c,_payload:{_status:-1,_result:e},_init:se};return Object.defineProperties(r,{defaultProps:{configurable:!0,get:function(){return t},set:function(e){T("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),t=e,Object.defineProperty(r,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return n},set:function(e){T("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),n=e,Object.defineProperty(r,"propTypes",{enumerable:!0})}}}),r},t.memo=function(e,t){le(e)||T("memo: The first argument must be a component. Instead received: %s",null===e?"null":typeof e);var n,r={$$typeof:l,type:e,compare:void 0===t?null:t};return Object.defineProperty(r,"displayName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(t){n=t,null==e.displayName&&(e.displayName=t)}}),r},t.useCallback=function(e,t){return ce().useCallback(e,t)},t.useContext=function(e,t){var n=ce();if(void 0!==t&&T("useContext() second argument is reserved for future use in React. Passing it is not supported. You passed: %s.%s",t,"number"==typeof t&&Array.isArray(arguments[2])?"\n\nDid you call array.map(useContext)? Calling Hooks inside a loop is not supported. Learn more at https://reactjs.org/link/rules-of-hooks":""),void 0!==e._context){var r=e._context;r.Consumer===e?T("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):r.Provider===e&&T("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return n.useContext(e,t)},t.useDebugValue=function(e,t){return ce().useDebugValue(e,t)},t.useEffect=function(e,t){return ce().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return ce().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return ce().useLayoutEffect(e,t)},t.useMemo=function(e,t){return ce().useMemo(e,t)},t.useReducer=function(e,t,n){return ce().useReducer(e,t,n)},t.useRef=function(e){return ce().useRef(e)},t.useState=function(e){return ce().useState(e)},t.version="17.0.1"}()})),m=s((function(e){"production"===process.env.NODE_ENV?e.exports=f:e.exports=p})),g="function"==typeof Symbol&&Symbol.for,v=g?Symbol.for("react.element"):60103,y=g?Symbol.for("react.portal"):60106,b=g?Symbol.for("react.fragment"):60107,x=g?Symbol.for("react.strict_mode"):60108,_=g?Symbol.for("react.profiler"):60114,w=g?Symbol.for("react.provider"):60109,S=g?Symbol.for("react.context"):60110,E=g?Symbol.for("react.async_mode"):60111,M=g?Symbol.for("react.concurrent_mode"):60111,T=g?Symbol.for("react.forward_ref"):60112,k=g?Symbol.for("react.suspense"):60113,R=g?Symbol.for("react.suspense_list"):60120,C=g?Symbol.for("react.memo"):60115,P=g?Symbol.for("react.lazy"):60116,A=g?Symbol.for("react.block"):60121,L=g?Symbol.for("react.fundamental"):60117,O=g?Symbol.for("react.responder"):60118,I=g?Symbol.for("react.scope"):60119;function N(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case v:switch(e=e.type){case E:case M:case b:case _:case x:case k:return e;default:switch(e=e&&e.$$typeof){case S:case T:case P:case C:case w:return e;default:return t}}case y:return t}}}function D(e){return N(e)===M}var z={AsyncMode:E,ConcurrentMode:M,ContextConsumer:S,ContextProvider:w,Element:v,ForwardRef:T,Fragment:b,Lazy:P,Memo:C,Portal:y,Profiler:_,StrictMode:x,Suspense:k,isAsyncMode:function(e){return D(e)||N(e)===E},isConcurrentMode:D,isContextConsumer:function(e){return N(e)===S},isContextProvider:function(e){return N(e)===w},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===v},isForwardRef:function(e){return N(e)===T},isFragment:function(e){return N(e)===b},isLazy:function(e){return N(e)===P},isMemo:function(e){return N(e)===C},isPortal:function(e){return N(e)===y},isProfiler:function(e){return N(e)===_},isStrictMode:function(e){return N(e)===x},isSuspense:function(e){return N(e)===k},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===b||e===M||e===_||e===x||e===k||e===R||"object"==typeof e&&null!==e&&(e.$$typeof===P||e.$$typeof===C||e.$$typeof===w||e.$$typeof===S||e.$$typeof===T||e.$$typeof===L||e.$$typeof===O||e.$$typeof===I||e.$$typeof===A)},typeOf:N},F=s((function(e,t){"production"!==process.env.NODE_ENV&&function(){var e="function"==typeof Symbol&&Symbol.for,n=e?Symbol.for("react.element"):60103,r=e?Symbol.for("react.portal"):60106,i=e?Symbol.for("react.fragment"):60107,o=e?Symbol.for("react.strict_mode"):60108,a=e?Symbol.for("react.profiler"):60114,s=e?Symbol.for("react.provider"):60109,l=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,h=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,m=e?Symbol.for("react.lazy"):60116,g=e?Symbol.for("react.block"):60121,v=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,b=e?Symbol.for("react.scope"):60119;function x(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:var f=e.type;switch(f){case c:case u:case i:case a:case o:case d:return f;default:var g=f&&f.$$typeof;switch(g){case l:case h:case m:case p:case s:return g;default:return t}}case r:return t}}}var _=c,w=u,S=l,E=s,M=n,T=h,k=i,R=m,C=p,P=r,A=a,L=o,O=d,I=!1;function N(e){return x(e)===u}t.AsyncMode=_,t.ConcurrentMode=w,t.ContextConsumer=S,t.ContextProvider=E,t.Element=M,t.ForwardRef=T,t.Fragment=k,t.Lazy=R,t.Memo=C,t.Portal=P,t.Profiler=A,t.StrictMode=L,t.Suspense=O,t.isAsyncMode=function(e){return I||(I=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),N(e)||x(e)===c},t.isConcurrentMode=N,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===i},t.isLazy=function(e){return x(e)===m},t.isMemo=function(e){return x(e)===p},t.isPortal=function(e){return x(e)===r},t.isProfiler=function(e){return x(e)===a},t.isStrictMode=function(e){return x(e)===o},t.isSuspense=function(e){return x(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===u||e===a||e===o||e===d||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===p||e.$$typeof===s||e.$$typeof===l||e.$$typeof===h||e.$$typeof===v||e.$$typeof===y||e.$$typeof===b||e.$$typeof===g)},t.typeOf=x}()})),U=s((function(e){"production"===process.env.NODE_ENV?e.exports=z:e.exports=F})),B="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",j=function(){};if("production"!==process.env.NODE_ENV){var H=B,V={},G=Function.call.bind(Object.prototype.hasOwnProperty);j=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}}}function W(e,t,n,r,i){if("production"!==process.env.NODE_ENV)for(var o in e)if(G(e,o)){var a;try{if("function"!=typeof e[o]){var s=Error((r||"React class")+": "+n+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[o]+"`.");throw s.name="Invariant Violation",s}a=e[o](t,o,r,n,null,H)}catch(e){a=e}if(!a||a instanceof Error||j((r||"React class")+": type specification of "+n+" `"+o+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof a+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),a instanceof Error&&!(a.message in V)){V[a.message]=!0;var l=i?i():"";j("Failed "+n+" type: "+a.message+(null!=l?l:""))}}}W.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(V={})};var q=W,X=Function.call.bind(Object.prototype.hasOwnProperty),Y=function(){};function Z(){return null}"production"!==process.env.NODE_ENV&&(Y=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(e){}});var Q=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator;var r="<<anonymous>>",i={array:l("array"),bool:l("boolean"),func:l("function"),number:l("number"),object:l("object"),string:l("string"),symbol:l("symbol"),any:s(Z),arrayOf:function(e){return s((function(t,n,r,i,o){if("function"!=typeof e)return new a("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new a("Invalid "+i+" `"+o+"` of type `"+u(s)+"` supplied to `"+r+"`, expected an array.");for(var l=0;l<s.length;l++){var c=e(s,l,r,i,o+"["+l+"]",B);if(c instanceof Error)return c}return null}))},element:s((function(t,n,r,i,o){var s=t[n];return e(s)?null:new a("Invalid "+i+" `"+o+"` of type `"+u(s)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:s((function(e,t,n,r,i){var o=e[t];return U.isValidElementType(o)?null:new a("Invalid "+r+" `"+i+"` of type `"+u(o)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return s((function(t,n,i,o,s){if(!(t[n]instanceof e)){var l=e.name||r;return new a("Invalid "+o+" `"+s+"` of type `"+(((c=t[n]).constructor&&c.constructor.name?c.constructor.name:r)+"` supplied to `")+i+"`, expected instance of `"+l+"`.")}var c;return null}))},node:s((function(e,t,n,r,i){return c(e[t])?null:new a("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return s((function(t,n,r,i,o){if("function"!=typeof e)return new a("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],l=u(s);if("object"!==l)return new a("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected an object.");for(var c in s)if(X(s,c)){var h=e(s,c,r,i,o+"."+c,B);if(h instanceof Error)return h}return null}))},oneOf:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&Y(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),Z;function t(t,n,r,i,s){for(var l=t[n],c=0;c<e.length;c++)if(o(l,e[c]))return null;var u=JSON.stringify(e,(function(e,t){return"symbol"===h(t)?String(t):t}));return new a("Invalid "+i+" `"+s+"` of value `"+String(l)+"` supplied to `"+r+"`, expected one of "+u+".")}return s(t)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==process.env.NODE_ENV&&Y("Invalid argument supplied to oneOfType, expected an instance of array."),Z;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return Y("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+f(n)+" at index "+t+"."),Z}return s((function(t,n,r,i,o){for(var s=0;s<e.length;s++)if(null==(0,e[s])(t,n,r,i,o,B))return null;return new a("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}))},shape:function(e){return s((function(t,n,r,i,o){var s=t[n],l=u(s);if("object"!==l)return new a("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var h=e[c];if(h){var d=h(s,c,r,i,o+"."+c,B);if(d)return d}}return null}))},exact:function(e){return s((function(t,n,r,i,o){var s=t[n],l=u(s);if("object"!==l)return new a("Invalid "+i+" `"+o+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var c=d({},t[n],e);for(var h in c){var f=e[h];if(!f)return new a("Invalid "+i+" `"+o+"` key `"+h+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var p=f(s,h,r,i,o+"."+h,B);if(p)return p}return null}))}};function o(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function a(e){this.message=e,this.stack=""}function s(e){if("production"!==process.env.NODE_ENV)var n={},i=0;function o(o,s,l,c,u,h,d){if(c=c||r,h=h||l,d!==B){if(t){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var p=c+":"+l;!n[p]&&i<3&&(Y("You are manually calling a React.PropTypes validation function for the `"+h+"` prop on `"+c+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[p]=!0,i++)}}return null==s[l]?o?null===s[l]?new a("The "+u+" `"+h+"` is marked as required in `"+c+"`, but its value is `null`."):new a("The "+u+" `"+h+"` is marked as required in `"+c+"`, but its value is `undefined`."):null:e(s,l,c,u,h)}var s=o.bind(null,!1);return s.isRequired=o.bind(null,!0),s}function l(e){return s((function(t,n,r,i,o,s){var l=t[n];return u(l)!==e?new a("Invalid "+i+" `"+o+"` of type `"+h(l)+"` supplied to `"+r+"`, expected `"+e+"`."):null}))}function c(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(c);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!c(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!c(a[1]))return!1}return!0;default:return!1}}function u(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function h(e){if(null==e)return""+e;var t=u(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function f(e){var t=h(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return a.prototype=Error.prototype,i.checkPropTypes=q,i.resetWarningCache=q.resetWarningCache,i.PropTypes=i,i};function $(){}function K(){}K.resetWarningCache=$;var J=s((function(e){if("production"!==process.env.NODE_ENV){var t=U;e.exports=Q(t.isElement,!0)}else e.exports=function(){function e(e,t,n,r,i,o){if(o!==B){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:K,resetWarningCache:$};return n.PropTypes=n,n}()}));const ee={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},te={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3};function ne(){}Object.assign(ne.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});const n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;const n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0===this._listeners)return;const n=this._listeners[e];if(void 0!==n){const e=n.indexOf(t);-1!==e&&n.splice(e,1)}},dispatchEvent:function(e){if(void 0===this._listeners)return;const t=this._listeners[e.type];if(void 0!==t){e.target=this;const n=t.slice(0);for(let t=0,r=n.length;t<r;t++)n[t].call(this,e)}}});const re=[];for(let e=0;e<256;e++)re[e]=(e<16?"0":"")+e.toString(16);let ie=1234567;const oe={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(re[255&e]+re[e>>8&255]+re[e>>16&255]+re[e>>24&255]+"-"+re[255&t]+re[t>>8&255]+"-"+re[t>>16&15|64]+re[t>>24&255]+"-"+re[63&n|128]+re[n>>8&255]+"-"+re[n>>16&255]+re[n>>24&255]+re[255&r]+re[r>>8&255]+re[r>>16&255]+re[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},seededRandom:function(e){return void 0!==e&&(ie=e%2147483647),ie=16807*ie%2147483647,(ie-1)/2147483646},degToRad:function(e){return e*oe.DEG2RAD},radToDeg:function(e){return e*oe.RAD2DEG},isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),c=o((t+r)/2),u=a((t+r)/2),h=o((t-r)/2),d=a((t-r)/2),f=o((r-t)/2),p=a((r-t)/2);switch(i){case"XYX":e.set(s*u,l*h,l*d,s*c);break;case"YZY":e.set(l*d,s*u,l*h,s*c);break;case"ZXZ":e.set(l*h,l*d,s*u,s*c);break;case"XZX":e.set(s*u,l*p,l*f,s*c);break;case"YXY":e.set(l*f,s*u,l*p,s*c);break;case"ZYZ":e.set(l*p,l*f,s*u,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}};class ae{constructor(e=0,t=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y;return t*t+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this}toArray(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class se{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,i,o,a,s,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return(new this.constructor).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],h=n[2],d=n[5],f=n[8],p=r[0],m=r[3],g=r[6],v=r[1],y=r[4],b=r[7],x=r[2],_=r[5],w=r[8];return i[0]=o*p+a*v+s*x,i[3]=o*m+a*y+s*_,i[6]=o*g+a*b+s*w,i[1]=l*p+c*v+u*x,i[4]=l*m+c*y+u*_,i[7]=l*g+c*b+u*w,i[2]=h*p+d*v+f*x,i[5]=h*m+d*y+f*_,i[8]=h*g+d*b+f*w,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],l=e[7],c=e[8];return t*o*c-t*a*l-n*i*c+n*a*s+r*i*l-r*o*s}getInverse(e,t){void 0!==t&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");const n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=n[5],u=n[6],h=n[7],d=n[8],f=d*l-c*h,p=c*u-d*s,m=h*s-l*u,g=i*f+o*p+a*m;if(0===g)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return r[0]=f*v,r[1]=(a*h-d*o)*v,r[2]=(c*o-a*l)*v,r[3]=p*v,r[4]=(d*i-a*u)*v,r[5]=(a*s-c*i)*v,r[6]=m*v,r[7]=(o*u-h*i)*v,r[8]=(l*i-o*s)*v,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).getInverse(this).transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,n,r,i,o,a){const s=Math.cos(i),l=Math.sin(i);this.set(n*s,n*l,-n*(s*o+l*a)+o+e,-r*l,r*s,-r*(-l*o+s*a)+a+t,0,0,1)}scale(e,t){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],l=r[4],c=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*l,r[6]=t*a+n*c,r[1]=-n*i+t*s,r[4]=-n*o+t*l,r[7]=-n*a+t*c,this}translate(e,t){const n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<9;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t){void 0===t&&(t=0);for(let n=0;n<9;n++)this.elements[n]=e[n+t];return this}toArray(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}}let le;const ce={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===le&&(le=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),le.width=e.width,le.height=e.height;const n=le.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=le}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}};let ue=0;function he(e,t,n,r,i,o,a,s,l,c){Object.defineProperty(this,"id",{value:ue++}),this.uuid=oe.generateUUID(),this.name="",this.image=void 0!==e?e:he.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:he.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:1001,this.wrapT=void 0!==r?r:1001,this.magFilter=void 0!==i?i:1006,this.minFilter=void 0!==o?o:1008,this.anisotropy=void 0!==l?l:1,this.format=void 0!==a?a:1023,this.internalFormat=null,this.type=void 0!==s?s:1009,this.offset=new ae(0,0),this.repeat=new ae(1,1),this.center=new ae(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new se,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:3e3,this.version=0,this.onUpdate=null}he.DEFAULT_IMAGE=void 0,he.DEFAULT_MAPPING=300,he.prototype=Object.assign(Object.create(ne.prototype),{constructor:he,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];const n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const r=this.image;if(void 0===r.uuid&&(r.uuid=oe.generateUUID()),!t&&void 0===e.images[r.uuid]){let t;if(Array.isArray(r)){t=[];for(let e=0,n=r.length;e<n;e++)t.push(ce.getDataURL(r[e]))}else t=ce.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:t}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(300!==this.mapping)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case 1e3:e.x=e.x-Math.floor(e.x);break;case 1001:e.x=e.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case 1e3:e.y=e.y-Math.floor(e.y);break;case 1001:e.y=e.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(he.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}});class de{constructor(e=0,t=0,n=0,r=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=e,this.y=t,this.z=n,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,n,r,i;const o=.01,a=.1,s=e.elements,l=s[0],c=s[4],u=s[8],h=s[1],d=s[5],f=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(c-h)<o&&Math.abs(u-p)<o&&Math.abs(f-m)<o){if(Math.abs(c+h)<a&&Math.abs(u+p)<a&&Math.abs(f+m)<a&&Math.abs(l+d+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;const e=(l+1)/2,s=(d+1)/2,v=(g+1)/2,y=(c+h)/4,b=(u+p)/4,x=(f+m)/4;return e>s&&e>v?e<o?(n=0,r=.707106781,i=.707106781):(n=Math.sqrt(e),r=y/n,i=b/n):s>v?s<o?(n=.707106781,r=0,i=.707106781):(r=Math.sqrt(s),n=y/r,i=x/r):v<o?(n=.707106781,r=.707106781,i=0):(i=Math.sqrt(v),n=b/i,r=x/i),this.set(n,r,i,t),this}let v=Math.sqrt((m-f)*(m-f)+(u-p)*(u-p)+(h-c)*(h-c));return Math.abs(v)<.001&&(v=1),this.x=(m-f)/v,this.y=(u-p)/v,this.z=(h-c)/v,this.w=Math.acos((l+d+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}function fe(e,t,n){this.width=e,this.height=t,this.scissor=new de(0,0,e,t),this.scissorTest=!1,this.viewport=new de(0,0,e,t),n=n||{},this.texture=new he(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:1006,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0!==n.stencilBuffer&&n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function pe(e,t,n){fe.call(this,e,t,n),this.samples=4}fe.prototype=Object.assign(Object.create(ne.prototype),{constructor:fe,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),pe.prototype=Object.assign(Object.create(fe.prototype),{constructor:pe,isWebGLMultisampleRenderTarget:!0,copy:function(e){return fe.prototype.copy.call(this,e),this.samples=e.samples,this}});class me{constructor(e=0,t=0,n=0,r=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=e,this._y=t,this._z=n,this._w=r}static slerp(e,t,n,r){return n.copy(e).slerp(t,r)}static slerpFlat(e,t,n,r,i,o,a){let s=n[r+0],l=n[r+1],c=n[r+2],u=n[r+3];const h=i[o+0],d=i[o+1],f=i[o+2],p=i[o+3];if(u!==p||s!==h||l!==d||c!==f){let e=1-a;const t=s*h+l*d+c*f+u*p,n=t>=0?1:-1,r=1-t*t;if(r>Number.EPSILON){const i=Math.sqrt(r),o=Math.atan2(i,t*n);e=Math.sin(e*o)/i,a=Math.sin(a*o)/i}const i=a*n;if(s=s*e+h*i,l=l*e+d*i,c=c*e+f*i,u=u*e+p*i,e===1-a){const e=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=e,l*=e,c*=e,u*=e}}e[t]=s,e[t+1]=l,e[t+2]=c,e[t+3]=u}static multiplyQuaternionsFlat(e,t,n,r,i,o){const a=n[r],s=n[r+1],l=n[r+2],c=n[r+3],u=i[o],h=i[o+1],d=i[o+2],f=i[o+3];return e[t]=a*f+c*u+s*d-l*h,e[t+1]=s*f+c*h+l*u-a*d,e[t+2]=l*f+c*d+a*h-s*u,e[t+3]=c*f-a*u-s*h-l*d,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const n=e._x,r=e._y,i=e._z,o=e._order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(r/2),u=a(i/2),h=s(n/2),d=s(r/2),f=s(i/2);switch(o){case"XYZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"YXZ":this._x=h*c*u+l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"ZXY":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u-h*d*f;break;case"ZYX":this._x=h*c*u-l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u+h*d*f;break;case"YZX":this._x=h*c*u+l*d*f,this._y=l*d*u+h*c*f,this._z=l*c*f-h*d*u,this._w=l*c*u-h*d*f;break;case"XZY":this._x=h*c*u-l*d*f,this._y=l*d*u-h*c*f,this._z=l*c*f+h*d*u,this._w=l*c*u+h*d*f;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],s=t[9],l=t[2],c=t[6],u=t[10],h=n+a+u;if(h>0){const e=.5/Math.sqrt(h+1);this._w=.25/e,this._x=(c-s)*e,this._y=(i-l)*e,this._z=(o-r)*e}else if(n>a&&n>u){const e=2*Math.sqrt(1+n-a-u);this._w=(c-s)/e,this._x=.25*e,this._y=(r+o)/e,this._z=(i+l)/e}else if(a>u){const e=2*Math.sqrt(1+a-n-u);this._w=(i-l)/e,this._x=(r+o)/e,this._y=.25*e,this._z=(s+c)/e}else{const e=2*Math.sqrt(1+u-n-a);this._w=(o-r)/e,this._x=(i+l)/e,this._y=(s+c)/e,this._z=.25*e}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(oe.clamp(this.dot(e),-1,1)))}rotateTowards(e,t){const n=this.angleTo(e);if(0===n)return this;const r=Math.min(1,t/n);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}inverse(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,l=t._z,c=t._w;return this._x=n*c+o*a+r*l-i*s,this._y=r*c+o*s+i*a-n*l,this._z=i*c+o*l+n*s-r*a,this._w=o*c-n*a-r*s-i*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const n=this._x,r=this._y,i=this._z,o=this._w;let a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;const s=1-a*a;if(s<=Number.EPSILON){const e=1-t;return this._w=e*o+t*this._w,this._x=e*n+t*this._x,this._y=e*r+t*this._y,this._z=e*i+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(s),c=Math.atan2(l,a),u=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=o*u+this._w*h,this._x=n*u+this._x*h,this._y=r*u+this._y*h,this._z=i*u+this._z*h,this._onChangeCallback(),this}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}class ge{constructor(e=0,t=0,n=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=e,this.y=t,this.z=n}set(e,t,n){return void 0===n&&(n=this.z),this.x=e,this.y=t,this.z=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(ye.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(ye.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this}applyQuaternion(e){const t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,l=s*t+o*r-a*n,c=s*n+a*t-i*r,u=s*r+i*n-o*t,h=-i*t-o*n-a*r;return this.x=l*s+h*-i+c*-a-u*-o,this.y=c*s+h*-o+u*-i-l*-a,this.z=u*s+h*-a+l*-o-c*-i,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this}cross(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)}crossVectors(e,t){const n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)}projectOnPlane(e){return ve.copy(this).projectOnVector(e),this.sub(ve)}reflect(e){return this.sub(ve.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const n=this.dot(e)/t;return Math.acos(oe.clamp(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,n){const r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const ve=new ge,ye=new me;class be{constructor(e,t){Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==e?e:new ge(1/0,1/0,1/0),this.max=void 0!==t?t:new ge(-1/0,-1/0,-1/0)}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0;for(let s=0,l=e.length;s<l;s+=3){const l=e[s],c=e[s+1],u=e[s+2];l<t&&(t=l),c<n&&(n=c),u<r&&(r=u),l>i&&(i=l),c>o&&(o=c),u>a&&(a=u)}return this.min.set(t,n,r),this.max.set(i,o,a),this}setFromBufferAttribute(e){let t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0;for(let s=0,l=e.count;s<l;s++){const l=e.getX(s),c=e.getY(s),u=e.getZ(s);l<t&&(t=l),c<n&&(n=c),u<r&&(r=u),l>i&&(i=l),c>o&&(o=c),u>a&&(a=u)}return this.min.set(t,n,r),this.max.set(i,o,a),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=we.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}setFromObject(e){return this.makeEmpty(),this.expandByObject(e)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new ge),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new ge),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e){e.updateWorldMatrix(!1,!1);const t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Se.copy(t.boundingBox),Se.applyMatrix4(e.matrixWorld),this.union(Se));const n=e.children;for(let e=0,t=n.length;e<t;e++)this.expandByObject(n[e]);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new ge),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,we),we.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Pe),Ae.subVectors(this.max,Pe),Ee.subVectors(e.a,Pe),Me.subVectors(e.b,Pe),Te.subVectors(e.c,Pe),ke.subVectors(Me,Ee),Re.subVectors(Te,Me),Ce.subVectors(Ee,Te);let t=[0,-ke.z,ke.y,0,-Re.z,Re.y,0,-Ce.z,Ce.y,ke.z,0,-ke.x,Re.z,0,-Re.x,Ce.z,0,-Ce.x,-ke.y,ke.x,0,-Re.y,Re.x,0,-Ce.y,Ce.x,0];return!!xe(t,Ee,Me,Te,Ae)&&(t=[1,0,0,0,1,0,0,0,1],!!xe(t,Ee,Me,Te,Ae)&&(Le.crossVectors(ke,Re),t=[Le.x,Le.y,Le.z],xe(t,Ee,Me,Te,Ae)))}clampPoint(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new ge),t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return we.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(we).length(),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(_e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_e)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}function xe(e,t,n,r,i){for(let o=0,a=e.length-3;o<=a;o+=3){Oe.fromArray(e,o);const a=i.x*Math.abs(Oe.x)+i.y*Math.abs(Oe.y)+i.z*Math.abs(Oe.z),s=t.dot(Oe),l=n.dot(Oe),c=r.dot(Oe);if(Math.max(-Math.max(s,l,c),Math.min(s,l,c))>a)return!1}return!0}const _e=[new ge,new ge,new ge,new ge,new ge,new ge,new ge,new ge],we=new ge,Se=new be,Ee=new ge,Me=new ge,Te=new ge,ke=new ge,Re=new ge,Ce=new ge,Pe=new ge,Ae=new ge,Le=new ge,Oe=new ge,Ie=new be;class Ne{constructor(e,t){this.center=void 0!==e?e:new ge,this.radius=void 0!==t?t:-1}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const n=this.center;void 0!==t?n.copy(t):Ie.setFromPoints(e).getCenter(n);let r=0;for(let t=0,i=e.length;t<i;t++)r=Math.max(r,n.distanceToSquared(e[t]));return this.radius=Math.sqrt(r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new ge),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new be),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}}const De=new ge,ze=new ge,Fe=new ge,Ue=new ge,Be=new ge,je=new ge,He=new ge;class Ve{constructor(e,t){this.origin=void 0!==e?e:new ge,this.direction=void 0!==t?t:new ge(0,0,-1)}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new ge),t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,De)),this}closestPointToPoint(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new ge),t.subVectors(e,this.origin);const n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=De.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(De.copy(this.direction).multiplyScalar(t).add(this.origin),De.distanceToSquared(e))}distanceSqToSegment(e,t,n,r){ze.copy(e).add(t).multiplyScalar(.5),Fe.copy(t).sub(e).normalize(),Ue.copy(this.origin).sub(ze);const i=.5*e.distanceTo(t),o=-this.direction.dot(Fe),a=Ue.dot(this.direction),s=-Ue.dot(Fe),l=Ue.lengthSq(),c=Math.abs(1-o*o);let u,h,d,f;if(c>0)if(u=o*s-a,h=o*a-s,f=i*c,u>=0)if(h>=-f)if(h<=f){const e=1/c;u*=e,h*=e,d=u*(u+o*h+2*a)+h*(o*u+h+2*s)+l}else h=i,u=Math.max(0,-(o*h+a)),d=-u*u+h*(h+2*s)+l;else h=-i,u=Math.max(0,-(o*h+a)),d=-u*u+h*(h+2*s)+l;else h<=-f?(u=Math.max(0,-(-o*i+a)),h=u>0?-i:Math.min(Math.max(-i,-s),i),d=-u*u+h*(h+2*s)+l):h<=f?(u=0,h=Math.min(Math.max(-i,-s),i),d=h*(h+2*s)+l):(u=Math.max(0,-(o*i+a)),h=u>0?i:Math.min(Math.max(-i,-s),i),d=-u*u+h*(h+2*s)+l);else h=o>0?-i:i,u=Math.max(0,-(o*h+a)),d=-u*u+h*(h+2*s)+l;return n&&n.copy(this.direction).multiplyScalar(u).add(this.origin),r&&r.copy(Fe).multiplyScalar(h).add(ze),d}intersectSphere(e,t){De.subVectors(e.center,this.origin);const n=De.dot(this.direction),r=De.dot(De)-n*n,i=e.radius*e.radius;if(r>i)return null;const o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null}intersectPlane(e,t){const n=this.distanceToPlane(e);return null===n?null:this.at(n,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);if(0===t)return!0;return e.normal.dot(this.direction)*t<0}intersectBox(e,t){let n,r,i,o,a,s;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(n=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),c>=0?(i=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),n>o||i>r?null:((i>n||n!=n)&&(n=i),(o<r||r!=r)&&(r=o),u>=0?(a=(e.min.z-h.z)*u,s=(e.max.z-h.z)*u):(a=(e.max.z-h.z)*u,s=(e.min.z-h.z)*u),n>s||a>r?null:((a>n||n!=n)&&(n=a),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))}intersectsBox(e){return null!==this.intersectBox(e,De)}intersectTriangle(e,t,n,r,i){Be.subVectors(t,e),je.subVectors(n,e),He.crossVectors(Be,je);let o,a=this.direction.dot(He);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Ue.subVectors(this.origin,e);const s=o*this.direction.dot(je.crossVectors(Ue,je));if(s<0)return null;const l=o*this.direction.dot(Be.cross(Ue));if(l<0)return null;if(s+l>a)return null;const c=-o*Ue.dot(He);return c<0?null:this.at(c/a,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}}class Ge{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(e,t,n,r,i,o,a,s,l,c,u,h,d,f,p,m){const g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=r,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=d,g[7]=f,g[11]=p,g[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new Ge).fromArray(this.elements)}copy(e){const t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this}copyPosition(e){const t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this}extractBasis(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}makeBasis(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,n=e.elements,r=1/We.setFromMatrixColumn(e,0).length(),i=1/We.setFromMatrixColumn(e,1).length(),o=1/We.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),l=Math.sin(r),c=Math.cos(i),u=Math.sin(i);if("XYZ"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=-s*u,t[8]=l,t[1]=n+r*l,t[5]=e-i*l,t[9]=-a*s,t[2]=i-e*l,t[6]=r+n*l,t[10]=o*s}else if("YXZ"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e+i*a,t[4]=r*a-n,t[8]=o*l,t[1]=o*u,t[5]=o*c,t[9]=-a,t[2]=n*a-r,t[6]=i+e*a,t[10]=o*s}else if("ZXY"===e.order){const e=s*c,n=s*u,r=l*c,i=l*u;t[0]=e-i*a,t[4]=-o*u,t[8]=r+n*a,t[1]=n+r*a,t[5]=o*c,t[9]=i-e*a,t[2]=-o*l,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){const e=o*c,n=o*u,r=a*c,i=a*u;t[0]=s*c,t[4]=r*l-n,t[8]=e*l+i,t[1]=s*u,t[5]=i*l+e,t[9]=n*l-r,t[2]=-l,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=i-e*u,t[8]=r*u+n,t[1]=u,t[5]=o*c,t[9]=-a*c,t[2]=-l*c,t[6]=n*u+r,t[10]=e-i*u}else if("XZY"===e.order){const e=o*s,n=o*l,r=a*s,i=a*l;t[0]=s*c,t[4]=-u,t[8]=l*c,t[1]=e*u+i,t[5]=o*c,t[9]=n*u-r,t[2]=r*u-n,t[6]=a*c,t[10]=i*u+e}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Xe,e,Ye)}lookAt(e,t,n){const r=this.elements;return $e.subVectors(e,t),0===$e.lengthSq()&&($e.z=1),$e.normalize(),Ze.crossVectors(n,$e),0===Ze.lengthSq()&&(1===Math.abs(n.z)?$e.x+=1e-4:$e.z+=1e-4,$e.normalize(),Ze.crossVectors(n,$e)),Ze.normalize(),Qe.crossVectors($e,Ze),r[0]=Ze.x,r[4]=Qe.x,r[8]=$e.x,r[1]=Ze.y,r[5]=Qe.y,r[9]=$e.y,r[2]=Ze.z,r[6]=Qe.z,r[10]=$e.z,this}multiply(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],h=n[9],d=n[13],f=n[2],p=n[6],m=n[10],g=n[14],v=n[3],y=n[7],b=n[11],x=n[15],_=r[0],w=r[4],S=r[8],E=r[12],M=r[1],T=r[5],k=r[9],R=r[13],C=r[2],P=r[6],A=r[10],L=r[14],O=r[3],I=r[7],N=r[11],D=r[15];return i[0]=o*_+a*M+s*C+l*O,i[4]=o*w+a*T+s*P+l*I,i[8]=o*S+a*k+s*A+l*N,i[12]=o*E+a*R+s*L+l*D,i[1]=c*_+u*M+h*C+d*O,i[5]=c*w+u*T+h*P+d*I,i[9]=c*S+u*k+h*A+d*N,i[13]=c*E+u*R+h*L+d*D,i[2]=f*_+p*M+m*C+g*O,i[6]=f*w+p*T+m*P+g*I,i[10]=f*S+p*k+m*A+g*N,i[14]=f*E+p*R+m*L+g*D,i[3]=v*_+y*M+b*C+x*O,i[7]=v*w+y*T+b*P+x*I,i[11]=v*S+y*k+b*A+x*N,i[15]=v*E+y*R+b*L+x*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],l=e[13],c=e[2],u=e[6],h=e[10],d=e[14];return e[3]*(+i*s*u-r*l*u-i*a*h+n*l*h+r*a*d-n*s*d)+e[7]*(+t*s*d-t*l*h+i*o*h-r*o*d+r*l*c-i*s*c)+e[11]*(+t*l*u-t*a*d-i*o*u+n*o*d+i*a*c-n*l*c)+e[15]*(-r*a*c-t*s*u+t*a*h+r*o*u-n*o*h+n*s*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,n){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this}getInverse(e,t){void 0!==t&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");const n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],l=r[4],c=r[5],u=r[6],h=r[7],d=r[8],f=r[9],p=r[10],m=r[11],g=r[12],v=r[13],y=r[14],b=r[15],x=f*y*h-v*p*h+v*u*m-c*y*m-f*u*b+c*p*b,_=g*p*h-d*y*h-g*u*m+l*y*m+d*u*b-l*p*b,w=d*v*h-g*f*h+g*c*m-l*v*m-d*c*b+l*f*b,S=g*f*u-d*v*u-g*c*p+l*v*p+d*c*y-l*f*y,E=i*x+o*_+a*w+s*S;if(0===E)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/E;return n[0]=x*M,n[1]=(v*p*s-f*y*s-v*a*m+o*y*m+f*a*b-o*p*b)*M,n[2]=(c*y*s-v*u*s+v*a*h-o*y*h-c*a*b+o*u*b)*M,n[3]=(f*u*s-c*p*s-f*a*h+o*p*h+c*a*m-o*u*m)*M,n[4]=_*M,n[5]=(d*y*s-g*p*s+g*a*m-i*y*m-d*a*b+i*p*b)*M,n[6]=(g*u*s-l*y*s-g*a*h+i*y*h+l*a*b-i*u*b)*M,n[7]=(l*p*s-d*u*s+d*a*h-i*p*h-l*a*m+i*u*m)*M,n[8]=w*M,n[9]=(g*f*s-d*v*s-g*o*m+i*v*m+d*o*b-i*f*b)*M,n[10]=(l*v*s-g*c*s+g*o*h-i*v*h-l*o*b+i*c*b)*M,n[11]=(d*c*s-l*f*s-d*o*h+i*f*h+l*o*m-i*c*m)*M,n[12]=S*M,n[13]=(d*v*a-g*f*a+g*o*p-i*v*p-d*o*y+i*f*y)*M,n[14]=(g*c*a-l*v*a-g*o*u+i*v*u+l*o*y-i*c*y)*M,n[15]=(l*f*a-d*c*a+d*o*u-i*f*u-l*o*p+i*c*p)*M,this}scale(e){const t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))}makeTranslation(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,l=i*o,c=i*a;return this.set(l*o+n,l*a-r*s,l*s+r*a,0,l*a+r*s,c*a+n,c*s-r*o,0,l*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this}makeScale(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this}makeShear(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this}compose(e,t,n){const r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,l=i+i,c=o+o,u=a+a,h=i*l,d=i*c,f=i*u,p=o*c,m=o*u,g=a*u,v=s*l,y=s*c,b=s*u,x=n.x,_=n.y,w=n.z;return r[0]=(1-(p+g))*x,r[1]=(d+b)*x,r[2]=(f-y)*x,r[3]=0,r[4]=(d-b)*_,r[5]=(1-(h+g))*_,r[6]=(m+v)*_,r[7]=0,r[8]=(f+y)*w,r[9]=(m-v)*w,r[10]=(1-(h+p))*w,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,n){const r=this.elements;let i=We.set(r[0],r[1],r[2]).length();const o=We.set(r[4],r[5],r[6]).length(),a=We.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],qe.copy(this);const s=1/i,l=1/o,c=1/a;return qe.elements[0]*=s,qe.elements[1]*=s,qe.elements[2]*=s,qe.elements[4]*=l,qe.elements[5]*=l,qe.elements[6]*=l,qe.elements[8]*=c,qe.elements[9]*=c,qe.elements[10]*=c,t.setFromRotationMatrix(qe),n.x=i,n.y=o,n.z=a,this}makePerspective(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const a=this.elements,s=2*i/(t-e),l=2*i/(n-r),c=(t+e)/(t-e),u=(n+r)/(n-r),h=-(o+i)/(o-i),d=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=d,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this}makeOrthographic(e,t,n,r,i,o){const a=this.elements,s=1/(t-e),l=1/(n-r),c=1/(o-i),u=(t+e)*s,h=(n+r)*l,d=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-d,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this}equals(e){const t=this.elements,n=e.elements;for(let e=0;e<16;e++)if(t[e]!==n[e])return!1;return!0}fromArray(e,t){void 0===t&&(t=0);for(let n=0;n<16;n++)this.elements[n]=e[n+t];return this}toArray(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);const n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}}const We=new ge,qe=new Ge,Xe=new ge(0,0,0),Ye=new ge(1,1,1),Ze=new ge,Qe=new ge,$e=new ge;class Ke{constructor(e=0,t=0,n=0,r=Ke.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=e,this._y=t,this._z=n,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t,n){const r=oe.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],c=i[5],u=i[9],h=i[2],d=i[6],f=i[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,f),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-r(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,f),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(r(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,f),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,f),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(r(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,f));break;case"XZY":this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this}setFromQuaternion(e,t,n){return Je.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Je,t,n)}setFromVector3(e,t){return this.set(e.x,e.y,e.z,t||this._order)}reorder(e){return et.setFromEuler(this),this.setFromQuaternion(et,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}toVector3(e){return e?e.set(this._x,this._y,this._z):new ge(this._x,this._y,this._z)}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}}Ke.DefaultOrder="XYZ",Ke.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const Je=new Ge,et=new me;class tt{constructor(){this.mask=1}set(e){this.mask=1<<e|0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}}let nt=0;const rt=new ge,it=new me,ot=new Ge,at=new ge,st=new ge,lt=new ge,ct=new me,ut=new ge(1,0,0),ht=new ge(0,1,0),dt=new ge(0,0,1),ft={type:"added"},pt={type:"removed"};function mt(){Object.defineProperty(this,"id",{value:nt++}),this.uuid=oe.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=mt.DefaultUp.clone();const e=new ge,t=new Ke,n=new me,r=new ge(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Ge},normalMatrix:{value:new se}}),this.matrix=new Ge,this.matrixWorld=new Ge,this.matrixAutoUpdate=mt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new tt,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}mt.DefaultUp=new ge(0,1,0),mt.DefaultMatrixAutoUpdate=!0,mt.prototype=Object.assign(Object.create(ne.prototype),{constructor:mt,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return it.setFromAxisAngle(e,t),this.quaternion.multiply(it),this},rotateOnWorldAxis:function(e,t){return it.setFromAxisAngle(e,t),this.quaternion.premultiply(it),this},rotateX:function(e){return this.rotateOnAxis(ut,e)},rotateY:function(e){return this.rotateOnAxis(ht,e)},rotateZ:function(e){return this.rotateOnAxis(dt,e)},translateOnAxis:function(e,t){return rt.copy(e).applyQuaternion(this.quaternion),this.position.add(rt.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(ut,e)},translateY:function(e){return this.translateOnAxis(ht,e)},translateZ:function(e){return this.translateOnAxis(dt,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(ot.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?at.copy(e):at.set(e,t,n);const r=this.parent;this.updateWorldMatrix(!0,!1),st.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?ot.lookAt(st,at,this.up):ot.lookAt(at,st,this.up),this.quaternion.setFromRotationMatrix(ot),r&&(ot.extractRotation(r.matrixWorld),it.setFromRotationMatrix(ot),this.quaternion.premultiply(it.inverse()))},add:function(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(ft)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}const t=this.children.indexOf(e);return-1!==t&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(pt)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),ot.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),ot.multiply(e.parent.matrixWorld)),e.applyMatrix4(ot),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(let n=0,r=this.children.length;n<r;n++){const r=this.children[n].getObjectByProperty(e,t);if(void 0!==r)return r}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new ge),this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new me),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(st,e,lt),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new ge),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(st,ct,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new ge),this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1===this.visible)return;e(this);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)},traverseAncestors:function(e){const t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){const n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t){const e=this.children;for(let t=0,n=e.length;t<n;t++)e[t].updateWorldMatrix(!1,!0)}},toJSON:function(e){const t=void 0===e||"string"==typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);const t=this.geometry.parameters;if(void 0!==t&&void 0!==t.shapes){const n=t.shapes;if(Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const r=n[t];i(e.shapes,r)}else i(e.shapes,n)}}if(void 0!==this.material)if(Array.isArray(this.material)){const t=[];for(let n=0,r=this.material.length;n<r;n++)t.push(i(e.materials,this.material[n]));r.material=t}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(let t=0;t<this.children.length;t++)r.children.push(this.children[t].toJSON(e).object)}if(t){const t=o(e.geometries),r=o(e.materials),i=o(e.textures),a=o(e.images),s=o(e.shapes);t.length>0&&(n.geometries=t),r.length>0&&(n.materials=r),i.length>0&&(n.textures=i),a.length>0&&(n.images=a),s.length>0&&(n.shapes=s)}return n.object=r,n;function o(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(let t=0;t<e.children.length;t++){const n=e.children[t];this.add(n.clone())}return this}});const gt=new ge,vt=new ge,yt=new se;class bt{constructor(e,t){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==e?e:new ge(1,0,0),this.constant=void 0!==t?t:0}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,n){const r=gt.subVectors(n,t).cross(vt.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new ge),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)}intersectLine(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new ge);const n=e.delta(gt),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;const i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?void 0:t.copy(n).multiplyScalar(i).add(e.start)}intersectsLine(e){const t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new ge),e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const n=t||yt.getNormalMatrix(e),r=this.coplanarPoint(gt).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}}const xt=new ge,_t=new ge,wt=new ge,St=new ge,Et=new ge,Mt=new ge,Tt=new ge,kt=new ge,Rt=new ge,Ct=new ge;class Pt{constructor(e,t,n){this.a=void 0!==e?e:new ge,this.b=void 0!==t?t:new ge,this.c=void 0!==n?n:new ge}static getNormal(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new ge),r.subVectors(n,t),xt.subVectors(e,t),r.cross(xt);const i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)}static getBarycoord(e,t,n,r,i){xt.subVectors(r,t),_t.subVectors(n,t),wt.subVectors(e,t);const o=xt.dot(xt),a=xt.dot(_t),s=xt.dot(wt),l=_t.dot(_t),c=_t.dot(wt),u=o*l-a*a;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new ge),0===u)return i.set(-2,-1,-1);const h=1/u,d=(l*s-a*c)*h,f=(o*c-a*s)*h;return i.set(1-d-f,f,d)}static containsPoint(e,t,n,r){return this.getBarycoord(e,t,n,r,St),St.x>=0&&St.y>=0&&St.x+St.y<=1}static getUV(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,St),s.set(0,0),s.addScaledVector(i,St.x),s.addScaledVector(o,St.y),s.addScaledVector(a,St.z),s}static isFrontFacing(e,t,n,r){return xt.subVectors(n,t),_t.subVectors(e,t),xt.cross(_t).dot(r)<0}set(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this}setFromPointsAndIndices(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return xt.subVectors(this.c,this.b),_t.subVectors(this.a,this.b),.5*xt.cross(_t).length()}getMidpoint(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new ge),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Pt.getNormal(this.a,this.b,this.c,e)}getPlane(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new bt),e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Pt.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,n,r,i){return Pt.getUV(e,this.a,this.b,this.c,t,n,r,i)}containsPoint(e){return Pt.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Pt.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new ge);const n=this.a,r=this.b,i=this.c;let o,a;Et.subVectors(r,n),Mt.subVectors(i,n),kt.subVectors(e,n);const s=Et.dot(kt),l=Mt.dot(kt);if(s<=0&&l<=0)return t.copy(n);Rt.subVectors(e,r);const c=Et.dot(Rt),u=Mt.dot(Rt);if(c>=0&&u<=c)return t.copy(r);const h=s*u-c*l;if(h<=0&&s>=0&&c<=0)return o=s/(s-c),t.copy(n).addScaledVector(Et,o);Ct.subVectors(e,i);const d=Et.dot(Ct),f=Mt.dot(Ct);if(f>=0&&d<=f)return t.copy(i);const p=d*l-s*f;if(p<=0&&l>=0&&f<=0)return a=l/(l-f),t.copy(n).addScaledVector(Mt,a);const m=c*f-d*u;if(m<=0&&u-c>=0&&d-f>=0)return Tt.subVectors(i,r),a=(u-c)/(u-c+(d-f)),t.copy(r).addScaledVector(Tt,a);const g=1/(m+p+h);return o=p*g,a=h*g,t.copy(n).addScaledVector(Et,o).addScaledVector(Mt,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const At={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Lt={h:0,s:0,l:0},Ot={h:0,s:0,l:0};function It(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Nt(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Dt(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}class zt{constructor(e,t,n){return Object.defineProperty(this,"isColor",{value:!0}),void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setRGB(e,t,n){return this.r=e,this.g=t,this.b=n,this}setHSL(e,t,n){if(e=oe.euclideanModulo(e,1),t=oe.clamp(t,0,1),n=oe.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{const r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=It(i,r,e+1/3),this.g=It(i,r,e),this.b=It(i,r,e-1/3)}return this}setStyle(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){let e;const r=n[1],i=n[2];switch(r){case"rgb":case"rgba":if(e=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,t(e[5]),this;if(e=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,t(e[5]),this;break;case"hsl":case"hsla":if(e=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(i)){const n=parseFloat(e[1])/360,r=parseInt(e[2],10)/100,i=parseInt(e[3],10)/100;return t(e[5]),this.setHSL(n,r,i)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){const e=n[1],t=e.length;if(3===t)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,this;if(6===t)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const t=At[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this}copyLinearToGamma(e,t){void 0===t&&(t=2);const n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=Nt(e.r),this.g=Nt(e.g),this.b=Nt(e.b),this}copyLinearToSRGB(e){return this.r=Dt(e.r),this.g=Dt(e.g),this.b=Dt(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});const t=this.r,n=this.g,r=this.b,i=Math.max(t,n,r),o=Math.min(t,n,r);let a,s;const l=(o+i)/2;if(o===i)a=0,s=0;else{const e=i-o;switch(s=l<=.5?e/(i+o):e/(2-i-o),i){case t:a=(n-r)/e+(n<r?6:0);break;case n:a=(r-t)/e+2;break;case r:a=(t-n)/e+4}a/=6}return e.h=a,e.s=s,e.l=l,e}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(e,t,n){return this.getHSL(Lt),Lt.h+=e,Lt.s+=t,Lt.l+=n,this.setHSL(Lt.h,Lt.s,Lt.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpHSL(e,t){this.getHSL(Lt),e.getHSL(Ot);const n=oe.lerp(Lt.h,Ot.h,t),r=oe.lerp(Lt.s,Ot.s,t),i=oe.lerp(Lt.l,Ot.l,t);return this.setHSL(n,r,i),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}zt.NAMES=At,zt.prototype.r=1,zt.prototype.g=1,zt.prototype.b=1;class Ft{constructor(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new ge,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new zt,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}clone(){return(new this.constructor).copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,n=e.vertexColors.length;t<n;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}}let Ut=0;function Bt(){Object.defineProperty(this,"id",{value:Ut++}),this.uuid=oe.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function jt(e){Bt.call(this),this.type="MeshBasicMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}Bt.prototype=Object.assign(Object.create(ne.prototype),{constructor:Bt,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(const t in e){const n=e[t];if(void 0===n){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}if("shading"===t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}},toJSON:function(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){const t=[];for(const n in e){const r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),0!==this.side&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){const t=r(e.textures),i=r(e.images);t.length>0&&(n.textures=t),i.length>0&&(n.images=i)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let n=null;if(null!==t){const e=t.length;n=new Array(e);for(let r=0;r!==e;++r)n[r]=t[r].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Bt.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),jt.prototype=Object.create(Bt.prototype),jt.prototype.constructor=jt,jt.prototype.isMeshBasicMaterial=!0,jt.prototype.copy=function(e){return Bt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};const Ht=new ge,Vt=new ae;function Gt(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function Wt(e,t,n){Gt.call(this,new Int8Array(e),t,n)}function qt(e,t,n){Gt.call(this,new Uint8Array(e),t,n)}function Xt(e,t,n){Gt.call(this,new Uint8ClampedArray(e),t,n)}function Yt(e,t,n){Gt.call(this,new Int16Array(e),t,n)}function Zt(e,t,n){Gt.call(this,new Uint16Array(e),t,n)}function Qt(e,t,n){Gt.call(this,new Int32Array(e),t,n)}function $t(e,t,n){Gt.call(this,new Uint32Array(e),t,n)}function Kt(e,t,n){Gt.call(this,new Float32Array(e),t,n)}function Jt(e,t,n){Gt.call(this,new Float64Array(e),t,n)}Object.defineProperty(Gt.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Gt.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(let r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),i=new zt),t[n++]=i.r,t[n++]=i.g,t[n++]=i.b}return this},copyVector2sArray:function(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),i=new ae),t[n++]=i.x,t[n++]=i.y}return this},copyVector3sArray:function(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),i=new ge),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z}return this},copyVector4sArray:function(e){const t=this.array;let n=0;for(let r=0,i=e.length;r<i;r++){let i=e[r];void 0===i&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),i=new de),t[n++]=i.x,t[n++]=i.y,t[n++]=i.z,t[n++]=i.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(let t=0,n=this.count;t<n;t++)Vt.fromBufferAttribute(this,t),Vt.applyMatrix3(e),this.setXY(t,Vt.x,Vt.y);else if(3===this.itemSize)for(let t=0,n=this.count;t<n;t++)Ht.fromBufferAttribute(this,t),Ht.applyMatrix3(e),this.setXYZ(t,Ht.x,Ht.y,Ht.z);return this},applyMatrix4:function(e){for(let t=0,n=this.count;t<n;t++)Ht.x=this.getX(t),Ht.y=this.getY(t),Ht.z=this.getZ(t),Ht.applyMatrix4(e),this.setXYZ(t,Ht.x,Ht.y,Ht.z);return this},applyNormalMatrix:function(e){for(let t=0,n=this.count;t<n;t++)Ht.x=this.getX(t),Ht.y=this.getY(t),Ht.z=this.getZ(t),Ht.applyNormalMatrix(e),this.setXYZ(t,Ht.x,Ht.y,Ht.z);return this},transformDirection:function(e){for(let t=0,n=this.count;t<n;t++)Ht.x=this.getX(t),Ht.y=this.getY(t),Ht.z=this.getZ(t),Ht.transformDirection(e),this.setXYZ(t,Ht.x,Ht.y,Ht.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),Wt.prototype=Object.create(Gt.prototype),Wt.prototype.constructor=Wt,qt.prototype=Object.create(Gt.prototype),qt.prototype.constructor=qt,Xt.prototype=Object.create(Gt.prototype),Xt.prototype.constructor=Xt,Yt.prototype=Object.create(Gt.prototype),Yt.prototype.constructor=Yt,Zt.prototype=Object.create(Gt.prototype),Zt.prototype.constructor=Zt,Qt.prototype=Object.create(Gt.prototype),Qt.prototype.constructor=Qt,$t.prototype=Object.create(Gt.prototype),$t.prototype.constructor=$t,Kt.prototype=Object.create(Gt.prototype),Kt.prototype.constructor=Kt,Jt.prototype=Object.create(Gt.prototype),Jt.prototype.constructor=Jt;class en{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){const t=[];let n,r,i;const o=e.faces;for(r=0;r<o.length;r++){const e=o[r];e.materialIndex!==i&&(i=e.materialIndex,void 0!==n&&(n.count=3*r-n.start,t.push(n)),n={start:3*r,materialIndex:i})}void 0!==n&&(n.count=3*r-n.start,t.push(n)),this.groups=t}fromGeometry(e){const t=e.faces,n=e.vertices,r=e.faceVertexUvs,i=r[0]&&r[0].length>0,o=r[1]&&r[1].length>0,a=e.morphTargets,s=a.length;let l;if(s>0){l=[];for(let e=0;e<s;e++)l[e]={name:a[e].name,data:[]};this.morphTargets.position=l}const c=e.morphNormals,u=c.length;let h;if(u>0){h=[];for(let e=0;e<u;e++)h[e]={name:c[e].name,data:[]};this.morphTargets.normal=h}const d=e.skinIndices,f=e.skinWeights,p=d.length===n.length,m=f.length===n.length;n.length>0&&0===t.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let e=0;e<t.length;e++){const g=t[e];this.vertices.push(n[g.a],n[g.b],n[g.c]);const v=g.vertexNormals;if(3===v.length)this.normals.push(v[0],v[1],v[2]);else{const e=g.normal;this.normals.push(e,e,e)}const y=g.vertexColors;if(3===y.length)this.colors.push(y[0],y[1],y[2]);else{const e=g.color;this.colors.push(e,e,e)}if(!0===i){const t=r[0][e];void 0!==t?this.uvs.push(t[0],t[1],t[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",e),this.uvs.push(new ae,new ae,new ae))}if(!0===o){const t=r[1][e];void 0!==t?this.uvs2.push(t[0],t[1],t[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",e),this.uvs2.push(new ae,new ae,new ae))}for(let e=0;e<s;e++){const t=a[e].vertices;l[e].data.push(t[g.a],t[g.b],t[g.c])}for(let t=0;t<u;t++){const n=c[t].vertexNormals[e];h[t].data.push(n.a,n.b,n.c)}p&&this.skinIndices.push(d[g.a],d[g.b],d[g.c]),m&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}}function tn(e){if(0===e.length)return-1/0;let t=e[0];for(let n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}let nn=1;const rn=new Ge,on=new mt,an=new ge,sn=new be,ln=new be,cn=new ge;function un(){Object.defineProperty(this,"id",{value:nn+=2}),this.uuid=oe.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}un.prototype=Object.assign(Object.create(ne.prototype),{constructor:un,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){return Array.isArray(e)?this.index=new(tn(e)>65535?$t:Zt)(e,1):this.index=e,this},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const n=this.attributes.normal;if(void 0!==n){const t=(new se).getNormalMatrix(e);n.applyNormalMatrix(t),n.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return rn.makeRotationX(e),this.applyMatrix4(rn),this},rotateY:function(e){return rn.makeRotationY(e),this.applyMatrix4(rn),this},rotateZ:function(e){return rn.makeRotationZ(e),this.applyMatrix4(rn),this},translate:function(e,t,n){return rn.makeTranslation(e,t,n),this.applyMatrix4(rn),this},scale:function(e,t,n){return rn.makeScale(e,t,n),this.applyMatrix4(rn),this},lookAt:function(e){return on.lookAt(e),on.updateMatrix(),this.applyMatrix4(on.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(an).negate(),this.translate(an.x,an.y,an.z),this},setFromObject:function(e){const t=e.geometry;if(e.isPoints||e.isLine){const e=new Kt(3*t.vertices.length,3),n=new Kt(3*t.colors.length,3);if(this.setAttribute("position",e.copyVector3sArray(t.vertices)),this.setAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){const e=new Kt(t.lineDistances.length,1);this.setAttribute("lineDistance",e.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n];t.push(r.x,r.y,r.z||0)}return this.setAttribute("position",new Kt(t,3)),this},updateFromObject:function(e){let t=e.geometry;if(e.isMesh){let e=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(e=void 0,t.elementsNeedUpdate=!1),void 0===e)return this.fromGeometry(t);e.verticesNeedUpdate=t.verticesNeedUpdate,e.normalsNeedUpdate=t.normalsNeedUpdate,e.colorsNeedUpdate=t.colorsNeedUpdate,e.uvsNeedUpdate=t.uvsNeedUpdate,e.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=e}if(!0===t.verticesNeedUpdate){const e=this.attributes.position;void 0!==e&&(e.copyVector3sArray(t.vertices),e.needsUpdate=!0),t.verticesNeedUpdate=!1}if(!0===t.normalsNeedUpdate){const e=this.attributes.normal;void 0!==e&&(e.copyVector3sArray(t.normals),e.needsUpdate=!0),t.normalsNeedUpdate=!1}if(!0===t.colorsNeedUpdate){const e=this.attributes.color;void 0!==e&&(e.copyColorsArray(t.colors),e.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){const e=this.attributes.uv;void 0!==e&&(e.copyVector2sArray(t.uvs),e.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){const e=this.attributes.lineDistance;void 0!==e&&(e.copyArray(t.lineDistances),e.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new en).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){const t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new Gt(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){const t=new Float32Array(3*e.normals.length);this.setAttribute("normal",new Gt(t,3).copyVector3sArray(e.normals))}if(e.colors.length>0){const t=new Float32Array(3*e.colors.length);this.setAttribute("color",new Gt(t,3).copyColorsArray(e.colors))}if(e.uvs.length>0){const t=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new Gt(t,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){const t=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new Gt(t,2).copyVector2sArray(e.uvs2))}this.groups=e.groups;for(const t in e.morphTargets){const n=[],r=e.morphTargets[t];for(let e=0,t=r.length;e<t;e++){const t=r[e],i=new Kt(3*t.data.length,3);i.name=t.name,n.push(i.copyVector3sArray(t.data))}this.morphAttributes[t]=n}if(e.skinIndices.length>0){const t=new Kt(4*e.skinIndices.length,4);this.setAttribute("skinIndex",t.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){const t=new Kt(4*e.skinWeights.length,4);this.setAttribute("skinWeight",t.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new be);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new ge(-1/0,-1/0,-1/0),new ge(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];sn.setFromBufferAttribute(n),this.morphTargetsRelative?(cn.addVectors(this.boundingBox.min,sn.min),this.boundingBox.expandByPoint(cn),cn.addVectors(this.boundingBox.max,sn.max),this.boundingBox.expandByPoint(cn)):(this.boundingBox.expandByPoint(sn.min),this.boundingBox.expandByPoint(sn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ne);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new ge,1/0);if(e){const n=this.boundingSphere.center;if(sn.setFromBufferAttribute(e),t)for(let e=0,n=t.length;e<n;e++){const n=t[e];ln.setFromBufferAttribute(n),this.morphTargetsRelative?(cn.addVectors(sn.min,ln.min),sn.expandByPoint(cn),cn.addVectors(sn.max,ln.max),sn.expandByPoint(cn)):(sn.expandByPoint(ln.min),sn.expandByPoint(ln.max))}sn.getCenter(n);let r=0;for(let t=0,i=e.count;t<i;t++)cn.fromBufferAttribute(e,t),r=Math.max(r,n.distanceToSquared(cn));if(t)for(let i=0,o=t.length;i<o;i++){const o=t[i],a=this.morphTargetsRelative;for(let t=0,i=o.count;t<i;t++)cn.fromBufferAttribute(o,t),a&&(an.fromBufferAttribute(e,t),cn.add(an)),r=Math.max(r,n.distanceToSquared(cn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let n=this.getAttribute("normal");if(void 0===n)n=new Gt(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(let e=0,t=n.count;e<t;e++)n.setXYZ(e,0,0,0);const r=new ge,i=new ge,o=new ge,a=new ge,s=new ge,l=new ge,c=new ge,u=new ge;if(e)for(let h=0,d=e.count;h<d;h+=3){const d=e.getX(h+0),f=e.getX(h+1),p=e.getX(h+2);r.fromBufferAttribute(t,d),i.fromBufferAttribute(t,f),o.fromBufferAttribute(t,p),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),a.fromBufferAttribute(n,d),s.fromBufferAttribute(n,f),l.fromBufferAttribute(n,p),a.add(c),s.add(c),l.add(c),n.setXYZ(d,a.x,a.y,a.z),n.setXYZ(f,s.x,s.y,s.z),n.setXYZ(p,l.x,l.y,l.z)}else for(let e=0,a=t.count;e<a;e+=3)r.fromBufferAttribute(t,e+0),i.fromBufferAttribute(t,e+1),o.fromBufferAttribute(t,e+2),c.subVectors(o,i),u.subVectors(r,i),c.cross(u),n.setXYZ(e+0,c.x,c.y,c.z),n.setXYZ(e+1,c.x,c.y,c.z),n.setXYZ(e+2,c.x,c.y,c.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(!e||!e.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const n=this.attributes;for(const r in n){if(void 0===e.attributes[r])continue;const i=n[r].array,o=e.attributes[r],a=o.array,s=o.itemSize*t,l=Math.min(a.length,i.length-s);for(let e=0,t=s;e<l;e++,t++)i[t]=a[e]}return this},normalizeNormals:function(){const e=this.attributes.normal;for(let t=0,n=e.count;t<n;t++)cn.fromBufferAttribute(e,t),cn.normalize(),e.setXYZ(t,cn.x,cn.y,cn.z)},toNonIndexed:function(){function e(e,t){const n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r);let a=0,s=0;for(let e=0,i=t.length;e<i;e++){a=t[e]*r;for(let e=0;e<r;e++)o[s++]=n[a++]}return new Gt(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;const t=new un,n=this.index.array,r=this.attributes;for(const i in r){const o=e(r[i],n);t.setAttribute(i,o)}const i=this.morphAttributes;for(const r in i){const o=[],a=i[r];for(let t=0,r=a.length;t<r;t++){const r=e(a[t],n);o.push(r)}t.morphAttributes[r]=o}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let e=0,n=o.length;e<n;e++){const n=o[e];t.addGroup(n.start,n.count,n.materialIndex)}return t},toJSON:function(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const n=this.attributes;for(const t in n){const r=n[t],i=r.toJSON(e.data);""!==r.name&&(i.name=r.name),e.data.attributes[t]=i}const r={};let i=!1;for(const t in this.morphAttributes){const n=this.morphAttributes[t],o=[];for(let t=0,r=n.length;t<r;t++){const r=n[t],i=r.toJSON(e.data);""!==r.name&&(i.name=r.name),o.push(i)}o.length>0&&(r[t]=o,i=!0)}i&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e},clone:function(){return(new un).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const n=e.index;null!==n&&this.setIndex(n.clone(t));const r=e.attributes;for(const e in r){const n=r[e];this.setAttribute(e,n.clone(t))}const i=e.morphAttributes;for(const e in i){const n=[],r=i[e];for(let e=0,i=r.length;e<i;e++)n.push(r[e].clone(t));this.morphAttributes[e]=n}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let e=0,t=o.length;e<t;e++){const t=o[e];this.addGroup(t.start,t.count,t.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const s=e.boundingSphere;return null!==s&&(this.boundingSphere=s.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const hn=new Ge,dn=new Ve,fn=new Ne,pn=new ge,mn=new ge,gn=new ge,vn=new ge,yn=new ge,bn=new ge,xn=new ge,_n=new ge,wn=new ge,Sn=new ae,En=new ae,Mn=new ae,Tn=new ge,kn=new ge;function Rn(e,t){mt.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new un,this.material=void 0!==t?t:new jt,this.updateMorphTargets()}function Cn(e,t,n,r,i,o,a,s){let l;if(l=1===t.side?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,2!==t.side,s),null===l)return null;kn.copy(s),kn.applyMatrix4(e.matrixWorld);const c=n.ray.origin.distanceTo(kn);return c<n.near||c>n.far?null:{distance:c,point:kn.clone(),object:e}}function Pn(e,t,n,r,i,o,a,s,l,c,u,h){pn.fromBufferAttribute(i,c),mn.fromBufferAttribute(i,u),gn.fromBufferAttribute(i,h);const d=e.morphTargetInfluences;if(t.morphTargets&&o&&d){xn.set(0,0,0),_n.set(0,0,0),wn.set(0,0,0);for(let e=0,t=o.length;e<t;e++){const t=d[e],n=o[e];0!==t&&(vn.fromBufferAttribute(n,c),yn.fromBufferAttribute(n,u),bn.fromBufferAttribute(n,h),a?(xn.addScaledVector(vn,t),_n.addScaledVector(yn,t),wn.addScaledVector(bn,t)):(xn.addScaledVector(vn.sub(pn),t),_n.addScaledVector(yn.sub(mn),t),wn.addScaledVector(bn.sub(gn),t)))}pn.add(xn),mn.add(_n),gn.add(wn)}e.isSkinnedMesh&&(e.boneTransform(c,pn),e.boneTransform(u,mn),e.boneTransform(h,gn));const f=Cn(e,t,n,r,pn,mn,gn,Tn);if(f){s&&(Sn.fromBufferAttribute(s,c),En.fromBufferAttribute(s,u),Mn.fromBufferAttribute(s,h),f.uv=Pt.getUV(Tn,pn,mn,gn,Sn,En,Mn,new ae)),l&&(Sn.fromBufferAttribute(l,c),En.fromBufferAttribute(l,u),Mn.fromBufferAttribute(l,h),f.uv2=Pt.getUV(Tn,pn,mn,gn,Sn,En,Mn,new ae));const e=new Ft(c,u,h);Pt.getNormal(pn,mn,gn,e.normal),f.face=e}return f}Rn.prototype=Object.assign(Object.create(mt.prototype),{constructor:Rn,isMesh:!0,copy:function(e){return mt.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){const n=this.geometry,r=this.material,i=this.matrixWorld;if(void 0===r)return;if(null===n.boundingSphere&&n.computeBoundingSphere(),fn.copy(n.boundingSphere),fn.applyMatrix4(i),!1===e.ray.intersectsSphere(fn))return;if(hn.getInverse(i),dn.copy(e.ray).applyMatrix4(hn),null!==n.boundingBox&&!1===dn.intersectsBox(n.boundingBox))return;let o;if(n.isBufferGeometry){const i=n.index,a=n.attributes.position,s=n.morphAttributes.position,l=n.morphTargetsRelative,c=n.attributes.uv,u=n.attributes.uv2,h=n.groups,d=n.drawRange;if(null!==i)if(Array.isArray(r))for(let n=0,f=h.length;n<f;n++){const f=h[n],p=r[f.materialIndex];for(let n=Math.max(f.start,d.start),r=Math.min(f.start+f.count,d.start+d.count);n<r;n+=3){const r=i.getX(n),h=i.getX(n+1),d=i.getX(n+2);o=Pn(this,p,e,dn,a,s,l,c,u,r,h,d),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=f.materialIndex,t.push(o))}}else{for(let n=Math.max(0,d.start),h=Math.min(i.count,d.start+d.count);n<h;n+=3){const h=i.getX(n),d=i.getX(n+1),f=i.getX(n+2);o=Pn(this,r,e,dn,a,s,l,c,u,h,d,f),o&&(o.faceIndex=Math.floor(n/3),t.push(o))}}else if(void 0!==a)if(Array.isArray(r))for(let n=0,i=h.length;n<i;n++){const i=h[n],f=r[i.materialIndex];for(let n=Math.max(i.start,d.start),r=Math.min(i.start+i.count,d.start+d.count);n<r;n+=3){o=Pn(this,f,e,dn,a,s,l,c,u,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),o.face.materialIndex=i.materialIndex,t.push(o))}}else{for(let n=Math.max(0,d.start),i=Math.min(a.count,d.start+d.count);n<i;n+=3){o=Pn(this,r,e,dn,a,s,l,c,u,n,n+1,n+2),o&&(o.faceIndex=Math.floor(n/3),t.push(o))}}}else if(n.isGeometry){const i=Array.isArray(r),a=n.vertices,s=n.faces;let l;const c=n.faceVertexUvs[0];c.length>0&&(l=c);for(let n=0,c=s.length;n<c;n++){const c=s[n],u=i?r[c.materialIndex]:r;if(void 0===u)continue;const h=a[c.a],d=a[c.b],f=a[c.c];if(o=Cn(this,u,e,dn,h,d,f,Tn),o){if(l&&l[n]){const e=l[n];Sn.copy(e[0]),En.copy(e[1]),Mn.copy(e[2]),o.uv=Pt.getUV(Tn,h,d,f,Sn,En,Mn,new ae)}o.face=c,o.faceIndex=n,t.push(o)}}}}});class An extends un{constructor(e=1,t=1,n=1,r=1,i=1,o=1){super(),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o};const a=this;r=Math.floor(r),i=Math.floor(i),o=Math.floor(o);const s=[],l=[],c=[],u=[];let h=0,d=0;function f(e,t,n,r,i,o,f,p,m,g,v){const y=o/m,b=f/g,x=o/2,_=f/2,w=p/2,S=m+1,E=g+1;let M=0,T=0;const k=new ge;for(let o=0;o<E;o++){const a=o*b-_;for(let s=0;s<S;s++){const h=s*y-x;k[e]=h*r,k[t]=a*i,k[n]=w,l.push(k.x,k.y,k.z),k[e]=0,k[t]=0,k[n]=p>0?1:-1,c.push(k.x,k.y,k.z),u.push(s/m),u.push(1-o/g),M+=1}}for(let e=0;e<g;e++)for(let t=0;t<m;t++){const n=h+t+S*e,r=h+t+S*(e+1),i=h+(t+1)+S*(e+1),o=h+(t+1)+S*e;s.push(n,r,o),s.push(r,i,o),T+=6}a.addGroup(d,T,v),d+=T,h+=M}f("z","y","x",-1,-1,n,t,e,o,i,0),f("z","y","x",1,-1,n,t,-e,o,i,1),f("x","z","y",1,1,e,n,t,r,o,2),f("x","z","y",1,-1,e,n,-t,r,o,3),f("x","y","z",1,-1,e,t,n,r,i,4),f("x","y","z",-1,-1,e,t,-n,r,i,5),this.setIndex(s),this.setAttribute("position",new Kt(l,3)),this.setAttribute("normal",new Kt(c,3)),this.setAttribute("uv",new Kt(u,2))}}function Ln(e){const t={};for(const n in e){t[n]={};for(const r in e[n]){const i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}}return t}function On(e){const t={};for(let n=0;n<e.length;n++){const r=Ln(e[n]);for(const e in r)t[e]=r[e]}return t}const In={clone:Ln,merge:On};function Nn(e){Bt.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Dn(){mt.call(this),this.type="Camera",this.matrixWorldInverse=new Ge,this.projectionMatrix=new Ge,this.projectionMatrixInverse=new Ge}function zn(e,t,n,r){Dn.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Nn.prototype=Object.create(Bt.prototype),Nn.prototype.constructor=Nn,Nn.prototype.isShaderMaterial=!0,Nn.prototype.copy=function(e){return Bt.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ln(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this},Nn.prototype.toJSON=function(e){const t=Bt.prototype.toJSON.call(this,e);t.glslVersion=this.glslVersion,t.uniforms={};for(const n in this.uniforms){const r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;const n={};for(const e in this.extensions)!0===this.extensions[e]&&(n[e]=!0);return Object.keys(n).length>0&&(t.extensions=n),t},Dn.prototype=Object.assign(Object.create(mt.prototype),{constructor:Dn,isCamera:!0,copy:function(e,t){return mt.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new ge),this.updateMatrixWorld(!0);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){mt.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){mt.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),zn.prototype=Object.assign(Object.create(Dn.prototype),{constructor:zn,isPerspectiveCamera:!0,copy:function(e,t){return Dn.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){const t=.5*this.getFilmHeight()/e;this.fov=2*oe.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){const e=Math.tan(.5*oe.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*oe.RAD2DEG*Math.atan(Math.tan(.5*oe.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=this.near;let t=e*Math.tan(.5*oe.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const e=o.fullWidth,a=o.fullHeight;i+=o.offsetX*r/e,t-=o.offsetY*n/a,r*=o.width/e,n*=o.height/a}const a=this.filmOffset;0!==a&&(i+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=mt.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});function Fn(e,t,n){if(mt.call(this),this.type="CubeCamera",!0!==n.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=n;const r=new zn(90,1,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new ge(1,0,0)),this.add(r);const i=new zn(90,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new ge(-1,0,0)),this.add(i);const o=new zn(90,1,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new ge(0,1,0)),this.add(o);const a=new zn(90,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new ge(0,-1,0)),this.add(a);const s=new zn(90,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new ge(0,0,1)),this.add(s);const l=new zn(90,1,e,t);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new ge(0,0,-1)),this.add(l),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();const c=e.xr.enabled,u=e.getRenderTarget();e.xr.enabled=!1;const h=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=h,e.setRenderTarget(n,5),e.render(t,l),e.setRenderTarget(u),e.xr.enabled=c},this.clear=function(e,t,r,i){const o=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(n,o),e.clear(t,r,i);e.setRenderTarget(o)}}function Un(e,t,n,r,i,o,a,s,l,c){e=void 0!==e?e:[],t=void 0!==t?t:301,a=void 0!==a?a:1022,he.call(this,e,t,n,r,i,o,a,s,l,c),this.flipY=!1,this._needsFlipEnvMap=!0}function Bn(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),fe.call(this,e,e,t),t=t||{},this.texture=new Un(void 0,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture._needsFlipEnvMap=!1}function jn(e,t,n,r,i,o,a,s,l,c,u,h){he.call(this,null,o,a,s,l,c,r,i,u,h),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==l?l:1003,this.minFilter=void 0!==c?c:1003,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}Fn.prototype=Object.create(mt.prototype),Fn.prototype.constructor=Fn,Un.prototype=Object.create(he.prototype),Un.prototype.constructor=Un,Un.prototype.isCubeTexture=!0,Object.defineProperty(Un.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),Bn.prototype=Object.create(fe.prototype),Bn.prototype.constructor=Bn,Bn.prototype.isWebGLCubeRenderTarget=!0,Bn.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=1023,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const n={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t",fragmentShader:"\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t"},r=new An(5,5,5),i=new Nn({name:"CubemapFromEquirect",uniforms:Ln(n.uniforms),vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,side:1,blending:0});i.uniforms.tEquirect.value=t;const o=new Rn(r,i),a=t.minFilter;1008===t.minFilter&&(t.minFilter=1006);return new Fn(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this},jn.prototype=Object.create(he.prototype),jn.prototype.constructor=jn,jn.prototype.isDataTexture=!0;const Hn=new Ne,Vn=new ge;class Gn{constructor(e,t,n,r,i,o){this.planes=[void 0!==e?e:new bt,void 0!==t?t:new bt,void 0!==n?n:new bt,void 0!==r?r:new bt,void 0!==i?i:new bt,void 0!==o?o:new bt]}set(e,t,n,r,i,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this}clone(){return(new this.constructor).copy(this)}copy(e){const t=this.planes;for(let n=0;n<6;n++)t[n].copy(e.planes[n]);return this}setFromProjectionMatrix(e){const t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],d=n[9],f=n[10],p=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return t[0].setComponents(a-r,u-s,p-h,y-m).normalize(),t[1].setComponents(a+r,u+s,p+h,y+m).normalize(),t[2].setComponents(a+i,u+l,p+d,y+g).normalize(),t[3].setComponents(a-i,u-l,p-d,y-g).normalize(),t[4].setComponents(a-o,u-c,p-f,y-v).normalize(),t[5].setComponents(a+o,u+c,p+f,y+v).normalize(),this}intersectsObject(e){const t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Hn.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Hn)}intersectsSprite(e){return Hn.center.set(0,0,0),Hn.radius=.7071067811865476,Hn.applyMatrix4(e.matrixWorld),this.intersectsSphere(Hn)}intersectsSphere(e){const t=this.planes,n=e.center,r=-e.radius;for(let e=0;e<6;e++){if(t[e].distanceToPoint(n)<r)return!1}return!0}intersectsBox(e){const t=this.planes;for(let n=0;n<6;n++){const r=t[n];if(Vn.x=r.normal.x>0?e.max.x:e.min.x,Vn.y=r.normal.y>0?e.max.y:e.min.y,Vn.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Vn)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}}function Wn(){let e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function qn(e,t){const n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);const n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){if(t.isGLBufferAttribute){var o=r.get(t);return void((!o||o.version<t.version)&&r.set(t,{buffer:t.buffer,type:t.type,bytesPerElement:t.elementSize,version:t.version}))}t.isInterleavedBufferAttribute&&(t=t.data);const a=r.get(t);void 0===a?r.set(t,function(t,n){const r=t.array,i=t.usage,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback();let a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(t,i)):a.version<t.version&&(!function(t,r,i){const o=r.array,a=r.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(n?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}(a.buffer,t,i),a.version=t.version)}}}class Xn extends un{constructor(e,t,n,r){super(),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};const i=(e=e||1)/2,o=(t=t||1)/2,a=Math.floor(n)||1,s=Math.floor(r)||1,l=a+1,c=s+1,u=e/a,h=t/s,d=[],f=[],p=[],m=[];for(let e=0;e<c;e++){const t=e*h-o;for(let n=0;n<l;n++){const r=n*u-i;f.push(r,-t,0),p.push(0,0,1),m.push(n/a),m.push(1-e/s)}}for(let e=0;e<s;e++)for(let t=0;t<a;t++){const n=t+l*e,r=t+l*(e+1),i=t+1+l*(e+1),o=t+1+l*e;d.push(n,r,o),d.push(r,i,o)}this.setIndex(d),this.setAttribute("position",new Kt(f,3)),this.setAttribute("normal",new Kt(p,3)),this.setAttribute("uv",new Kt(m,2))}}const Yn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Zn={common:{diffuse:{value:new zt(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new se},uv2Transform:{value:new se},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ae(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new zt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new zt(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new se}},sprite:{diffuse:{value:new zt(15658734)},opacity:{value:1},center:{value:new ae(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new se}}},Qn={basic:{uniforms:On([Zn.common,Zn.specularmap,Zn.envmap,Zn.aomap,Zn.lightmap,Zn.fog]),vertexShader:Yn.meshbasic_vert,fragmentShader:Yn.meshbasic_frag},lambert:{uniforms:On([Zn.common,Zn.specularmap,Zn.envmap,Zn.aomap,Zn.lightmap,Zn.emissivemap,Zn.fog,Zn.lights,{emissive:{value:new zt(0)}}]),vertexShader:Yn.meshlambert_vert,fragmentShader:Yn.meshlambert_frag},phong:{uniforms:On([Zn.common,Zn.specularmap,Zn.envmap,Zn.aomap,Zn.lightmap,Zn.emissivemap,Zn.bumpmap,Zn.normalmap,Zn.displacementmap,Zn.fog,Zn.lights,{emissive:{value:new zt(0)},specular:{value:new zt(1118481)},shininess:{value:30}}]),vertexShader:Yn.meshphong_vert,fragmentShader:Yn.meshphong_frag},standard:{uniforms:On([Zn.common,Zn.envmap,Zn.aomap,Zn.lightmap,Zn.emissivemap,Zn.bumpmap,Zn.normalmap,Zn.displacementmap,Zn.roughnessmap,Zn.metalnessmap,Zn.fog,Zn.lights,{emissive:{value:new zt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Yn.meshphysical_vert,fragmentShader:Yn.meshphysical_frag},toon:{uniforms:On([Zn.common,Zn.aomap,Zn.lightmap,Zn.emissivemap,Zn.bumpmap,Zn.normalmap,Zn.displacementmap,Zn.gradientmap,Zn.fog,Zn.lights,{emissive:{value:new zt(0)}}]),vertexShader:Yn.meshtoon_vert,fragmentShader:Yn.meshtoon_frag},matcap:{uniforms:On([Zn.common,Zn.bumpmap,Zn.normalmap,Zn.displacementmap,Zn.fog,{matcap:{value:null}}]),vertexShader:Yn.meshmatcap_vert,fragmentShader:Yn.meshmatcap_frag},points:{uniforms:On([Zn.points,Zn.fog]),vertexShader:Yn.points_vert,fragmentShader:Yn.points_frag},dashed:{uniforms:On([Zn.common,Zn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Yn.linedashed_vert,fragmentShader:Yn.linedashed_frag},depth:{uniforms:On([Zn.common,Zn.displacementmap]),vertexShader:Yn.depth_vert,fragmentShader:Yn.depth_frag},normal:{uniforms:On([Zn.common,Zn.bumpmap,Zn.normalmap,Zn.displacementmap,{opacity:{value:1}}]),vertexShader:Yn.normal_vert,fragmentShader:Yn.normal_frag},sprite:{uniforms:On([Zn.sprite,Zn.fog]),vertexShader:Yn.sprite_vert,fragmentShader:Yn.sprite_frag},background:{uniforms:{uvTransform:{value:new se},t2D:{value:null}},vertexShader:Yn.background_vert,fragmentShader:Yn.background_frag},cube:{uniforms:On([Zn.envmap,{opacity:{value:1}}]),vertexShader:Yn.cube_vert,fragmentShader:Yn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Yn.equirect_vert,fragmentShader:Yn.equirect_frag},distanceRGBA:{uniforms:On([Zn.common,Zn.displacementmap,{referencePosition:{value:new ge},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Yn.distanceRGBA_vert,fragmentShader:Yn.distanceRGBA_frag},shadow:{uniforms:On([Zn.lights,Zn.fog,{color:{value:new zt(0)},opacity:{value:1}}]),vertexShader:Yn.shadow_vert,fragmentShader:Yn.shadow_frag}};function $n(e,t,n,r,i){const o=new zt(0);let a,s,l=0,c=null,u=0,h=null;function d(e,t){n.buffers.color.setClear(e.r,e.g,e.b,t,i)}return{getClearColor:function(){return o},setClearColor:function(e,t){o.set(e),l=void 0!==t?t:1,d(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(e){l=e,d(o,l)},render:function(n,i,f,p){let m=!0===i.isScene?i.background:null;m&&m.isTexture&&(m=t.get(m));const g=e.xr,v=g.getSession&&g.getSession();v&&"additive"===v.environmentBlendMode&&(m=null),null===m?d(o,l):m&&m.isColor&&(d(m,1),p=!0),(e.autoClear||p)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),m&&(m.isCubeTexture||m.isWebGLCubeRenderTarget||306===m.mapping)?(void 0===s&&(s=new Rn(new An(1,1,1),new Nn({name:"BackgroundCubeMaterial",uniforms:Ln(Qn.cube.uniforms),vertexShader:Qn.cube.vertexShader,fragmentShader:Qn.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),s.geometry.deleteAttribute("uv"),s.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(s.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(s)),m.isWebGLCubeRenderTarget&&(m=m.texture),s.material.uniforms.envMap.value=m,s.material.uniforms.flipEnvMap.value=m.isCubeTexture&&m._needsFlipEnvMap?-1:1,c===m&&u===m.version&&h===e.toneMapping||(s.material.needsUpdate=!0,c=m,u=m.version,h=e.toneMapping),n.unshift(s,s.geometry,s.material,0,0,null)):m&&m.isTexture&&(void 0===a&&(a=new Rn(new Xn(2,2),new Nn({name:"BackgroundMaterial",uniforms:Ln(Qn.background.uniforms),vertexShader:Qn.background.vertexShader,fragmentShader:Qn.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(a)),a.material.uniforms.t2D.value=m,!0===m.matrixAutoUpdate&&m.updateMatrix(),a.material.uniforms.uvTransform.value.copy(m.matrix),c===m&&u===m.version&&h===e.toneMapping||(a.material.needsUpdate=!0,c=m,u=m.version,h=e.toneMapping),n.unshift(a,a.geometry,a.material,0,0,null))}}}function Kn(e,t,n,r){const i=e.getParameter(34921),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},l=d(null);let c=l;function u(t){return r.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function h(t){return r.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function d(e){const t=[],n=[],r=[];for(let e=0;e<i;e++)t[e]=0,n[e]=0,r[e]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{},index:null}}function f(){const e=c.newAttributes;for(let t=0,n=e.length;t<n;t++)e[t]=0}function p(e){m(e,0)}function m(n,i){const o=c.newAttributes,a=c.enabledAttributes,s=c.attributeDivisors;if(o[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),s[n]!==i){(r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i}}function g(){const t=c.newAttributes,n=c.enabledAttributes;for(let r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function v(t,n,i,o,a,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,o,a,s):e.vertexAttribIPointer(t,n,i,a,s)}function y(){b(),c!==l&&(c=l,u(c.object))}function b(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(i,l,h,y,b){let x=!1;if(a){const t=function(t,n,i){const a=!0===i.wireframe;let l=s[t.id];void 0===l&&(l={},s[t.id]=l);let c=l[n.id];void 0===c&&(c={},l[n.id]=c);let u=c[a];void 0===u&&(u=d(r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),c[a]=u);return u}(y,h,l);c!==t&&(c=t,u(c.object)),x=function(e,t){const n=c.attributes,r=e.attributes;if(Object.keys(n).length!==Object.keys(r).length)return!0;for(const e in r){const t=n[e],i=r[e];if(void 0===t)return!0;if(t.attribute!==i)return!0;if(t.data!==i.data)return!0}return c.index!==t}(y,b),x&&function(e,t){const n={},r=e.attributes;for(const e in r){const t=r[e],i={};i.attribute=t,t.data&&(i.data=t.data),n[e]=i}c.attributes=n,c.index=t}(y,b)}else{const e=!0===l.wireframe;c.geometry===y.id&&c.program===h.id&&c.wireframe===e||(c.geometry=y.id,c.program=h.id,c.wireframe=e,x=!0)}!0===i.isInstancedMesh&&(x=!0),null!==b&&n.update(b,34963),x&&(!function(i,o,a,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;f();const l=s.attributes,c=a.getAttributes(),u=o.defaultAttributeValues;for(const t in c){const r=c[t];if(r>=0){const o=l[t];if(void 0!==o){const t=o.normalized,i=o.itemSize,a=n.get(o);if(void 0===a)continue;const l=a.buffer,c=a.type,u=a.bytesPerElement;if(o.isInterleavedBufferAttribute){const n=o.data,a=n.stride,h=o.offset;n&&n.isInstancedInterleavedBuffer?(m(r,n.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=n.meshPerAttribute*n.count)):p(r),e.bindBuffer(34962,l),v(r,i,c,t,a*u,h*u)}else o.isInstancedBufferAttribute?(m(r,o.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=o.meshPerAttribute*o.count)):p(r),e.bindBuffer(34962,l),v(r,i,c,t,0,0)}else if("instanceMatrix"===t){const t=n.get(i.instanceMatrix);if(void 0===t)continue;const o=t.buffer,a=t.type;m(r+0,1),m(r+1,1),m(r+2,1),m(r+3,1),e.bindBuffer(34962,o),e.vertexAttribPointer(r+0,4,a,!1,64,0),e.vertexAttribPointer(r+1,4,a,!1,64,16),e.vertexAttribPointer(r+2,4,a,!1,64,32),e.vertexAttribPointer(r+3,4,a,!1,64,48)}else if("instanceColor"===t){const t=n.get(i.instanceColor);if(void 0===t)continue;const o=t.buffer,a=t.type;m(r,1),e.bindBuffer(34962,o),e.vertexAttribPointer(r,3,a,!1,12,0)}else if(void 0!==u){const n=u[t];if(void 0!==n)switch(n.length){case 2:e.vertexAttrib2fv(r,n);break;case 3:e.vertexAttrib3fv(r,n);break;case 4:e.vertexAttrib4fv(r,n);break;default:e.vertexAttrib1fv(r,n)}}}}g()}(i,l,h,y),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:y,resetDefaultState:b,dispose:function(){y();for(const e in s){const t=s[e];for(const e in t){const n=t[e];for(const e in n)h(n[e].object),delete n[e];delete t[e]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0===s[e.id])return;const t=s[e.id];for(const e in t){const n=t[e];for(const e in n)h(n[e].object),delete n[e];delete t[e]}delete s[e.id]},releaseStatesOfProgram:function(e){for(const t in s){const n=s[t];if(void 0===n[e.id])continue;const r=n[e.id];for(const e in r)h(r[e].object),delete r[e];delete n[e.id]}},initAttributes:f,enableAttribute:p,disableUnusedAttributes:g}}function Jn(e,t,n,r){const i=r.isWebGL2;let o;this.setMode=function(e){o=e},this.render=function(t,r){e.drawArrays(o,t,r),n.update(r,o,1)},this.renderInstances=function(r,a,s){if(0===s)return;let l,c;if(i)l=e,c="drawArraysInstanced";else if(l=t.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](o,r,a,s),n.update(a,o,s)}}function er(e,t,n){let r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext;let a=void 0!==n.precision?n.precision:"highp";const s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);const l=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),u=e.getParameter(35660),h=e.getParameter(3379),d=e.getParameter(34076),f=e.getParameter(34921),p=e.getParameter(36347),m=e.getParameter(36348),g=e.getParameter(36349),v=u>0,y=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==r)return r;const n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,r},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:d,maxAttributes:f,maxVertexUniforms:p,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y,maxSamples:o?e.getParameter(36183):0}}function tr(e){const t=this;let n=null,r=0,i=!1,o=!1;const a=new bt,s=new se,l={value:null,needsUpdate:!1};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),t.numPlanes=r,t.numIntersection=0}function u(e,n,r,i){const o=null!==e?e.length:0;let c=null;if(0!==o){if(c=l.value,!0!==i||null===c){const t=r+4*o,i=n.matrixWorldInverse;s.getNormalMatrix(i),(null===c||c.length<t)&&(c=new Float32Array(t));for(let t=0,n=r;t!==o;++t,n+=4)a.copy(e[t]).applyMatrix4(i,s),a.normal.toArray(c,n),c[n+3]=a.constant}l.value=c,l.needsUpdate=!0}return t.numPlanes=o,t.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(e,t,o){const a=0!==e.length||t||0!==r||i;return i=t,n=u(e,o,0),r=e.length,a},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1,c()},this.setState=function(t,a,s){const h=t.clippingPlanes,d=t.clipIntersection,f=t.clipShadows,p=e.get(t);if(!i||null===h||0===h.length||o&&!f)o?u(null):c();else{const e=o?0:r,t=4*e;let i=p.clippingState||null;l.value=i,i=u(h,a,t,s);for(let e=0;e!==t;++e)i[e]=n[e];p.clippingState=i,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=e}}}function nr(e){let t=new WeakMap;function n(e,t){return 303===t?e.mapping=301:304===t&&(e.mapping=302),e}return{get:function(r){if(r&&r.isTexture){const i=r.mapping;if(303===i||304===i){if(t.has(r)){return n(t.get(r).texture,r.mapping)}{const i=r.image;if(i&&i.height>0){const o=e.getRenderList(),a=e.getRenderTarget(),s=e.getRenderState(),l=new Bn(i.height/2);return l.fromEquirectangularTexture(e,r),t.set(r,l),e.setRenderTarget(a),e.setRenderList(o),e.setRenderState(s),n(l.texture,r.mapping)}return null}}}return r},dispose:function(){t=new WeakMap}}}function rr(e){const t={};return{has:function(n){if(void 0!==t[n])return null!==t[n];let r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return t[n]=r,null!==r},get:function(e){return this.has(e)||console.warn("THREE.WebGLRenderer: "+e+" extension not supported."),t[e]}}}function ir(e,t,n,r){const i=new WeakMap,o=new WeakMap;function a(e){const s=e.target,l=i.get(s);null!==l.index&&t.remove(l.index);for(const e in l.attributes)t.remove(l.attributes[e]);s.removeEventListener("dispose",a),i.delete(s);const c=o.get(l);c&&(t.remove(c),o.delete(l)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){const n=[],r=e.index,i=e.attributes.position;let a=0;if(null!==r){const e=r.array;a=r.version;for(let t=0,r=e.length;t<r;t+=3){const r=e[t+0],i=e[t+1],o=e[t+2];n.push(r,i,i,o,o,r)}}else{const e=i.array;a=i.version;for(let t=0,r=e.length/3-1;t<r;t+=3){const e=t+0,r=t+1,i=t+2;n.push(e,r,r,i,i,e)}}const s=new(tn(n)>65535?$t:Zt)(n,1);s.version=a;const l=o.get(e);l&&t.remove(l),o.set(e,s)}return{get:function(e,t){let r=i.get(t);return r||(t.addEventListener("dispose",a),t.isBufferGeometry?r=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new un).setFromObject(e)),r=t._bufferGeometry),i.set(t,r),n.memory.geometries++,r)},update:function(e){const n=e.attributes;for(const e in n)t.update(n[e],34962);const r=e.morphAttributes;for(const e in r){const n=r[e];for(let e=0,r=n.length;e<r;e++)t.update(n[e],34962)}},getWireframeAttribute:function(e){const t=o.get(e);if(t){const n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return o.get(e)}}}function or(e,t,n,r){const i=r.isWebGL2;let o,a,s;this.setMode=function(e){o=e},this.setIndex=function(e){a=e.type,s=e.bytesPerElement},this.render=function(t,r){e.drawElements(o,r,a,t*s),n.update(r,o,1)},this.renderInstances=function(r,l,c){if(0===c)return;let u,h;if(i)u=e,h="drawElementsInstanced";else if(u=t.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](o,l,a,r*s,c),n.update(l,o,c)}}function ar(e){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function sr(e,t){return e[0]-t[0]}function lr(e,t){return Math.abs(t[1])-Math.abs(e[1])}function cr(e){const t={},n=new Float32Array(8),r=[];for(let e=0;e<8;e++)r[e]=[e,0];return{update:function(i,o,a,s){const l=i.morphTargetInfluences,c=void 0===l?0:l.length;let u=t[o.id];if(void 0===u){u=[];for(let e=0;e<c;e++)u[e]=[e,0];t[o.id]=u}for(let e=0;e<c;e++){const t=u[e];t[0]=e,t[1]=l[e]}u.sort(lr);for(let e=0;e<8;e++)e<c&&u[e][1]?(r[e][0]=u[e][0],r[e][1]=u[e][1]):(r[e][0]=Number.MAX_SAFE_INTEGER,r[e][1]=0);r.sort(sr);const h=a.morphTargets&&o.morphAttributes.position,d=a.morphNormals&&o.morphAttributes.normal;let f=0;for(let e=0;e<8;e++){const t=r[e],i=t[0],a=t[1];i!==Number.MAX_SAFE_INTEGER&&a?(h&&o.getAttribute("morphTarget"+e)!==h[i]&&o.setAttribute("morphTarget"+e,h[i]),d&&o.getAttribute("morphNormal"+e)!==d[i]&&o.setAttribute("morphNormal"+e,d[i]),n[e]=a,f+=a):(h&&void 0!==o.getAttribute("morphTarget"+e)&&o.deleteAttribute("morphTarget"+e),d&&void 0!==o.getAttribute("morphNormal"+e)&&o.deleteAttribute("morphNormal"+e),n[e]=0)}const p=o.morphTargetsRelative?1:1-f;s.getUniforms().setValue(e,"morphTargetBaseInfluence",p),s.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function ur(e,t,n,r){let i=new WeakMap;return{update:function(e){const o=r.render.frame,a=e.geometry,s=t.get(e,a);return i.get(s)!==o&&(a.isGeometry&&s.updateFromObject(e),t.update(s),i.set(s,o)),e.isInstancedMesh&&(n.update(e.instanceMatrix,34962),null!==e.instanceColor&&n.update(e.instanceColor,34962)),s},dispose:function(){i=new WeakMap}}}function hr(e,t,n,r){he.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function dr(e,t,n,r){he.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Qn.physical={uniforms:On([Qn.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new ae(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new zt(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:Yn.meshphysical_vert,fragmentShader:Yn.meshphysical_frag},hr.prototype=Object.create(he.prototype),hr.prototype.constructor=hr,hr.prototype.isDataTexture2DArray=!0,dr.prototype=Object.create(he.prototype),dr.prototype.constructor=dr,dr.prototype.isDataTexture3D=!0;const fr=new he,pr=new hr,mr=new dr,gr=new Un,vr=[],yr=[],br=new Float32Array(16),xr=new Float32Array(9),_r=new Float32Array(4);function wr(e,t,n){const r=e[0];if(r<=0||r>0)return e;const i=t*n;let o=vr[i];if(void 0===o&&(o=new Float32Array(i),vr[i]=o),0!==t){r.toArray(o,0);for(let r=1,i=0;r!==t;++r)i+=n,e[r].toArray(o,i)}return o}function Sr(e,t){if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Er(e,t){for(let n=0,r=t.length;n<r;n++)e[n]=t[n]}function Mr(e,t){let n=yr[t];void 0===n&&(n=new Int32Array(t),yr[t]=n);for(let r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function Tr(e,t){const n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function kr(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(Sr(n,t))return;e.uniform2fv(this.addr,t),Er(n,t)}}function Rr(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(Sr(n,t))return;e.uniform3fv(this.addr,t),Er(n,t)}}function Cr(e,t){const n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(Sr(n,t))return;e.uniform4fv(this.addr,t),Er(n,t)}}function Pr(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Sr(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),Er(n,t)}else{if(Sr(n,r))return;_r.set(r),e.uniformMatrix2fv(this.addr,!1,_r),Er(n,r)}}function Ar(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Sr(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),Er(n,t)}else{if(Sr(n,r))return;xr.set(r),e.uniformMatrix3fv(this.addr,!1,xr),Er(n,r)}}function Lr(e,t){const n=this.cache,r=t.elements;if(void 0===r){if(Sr(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),Er(n,t)}else{if(Sr(n,r))return;br.set(r),e.uniformMatrix4fv(this.addr,!1,br),Er(n,r)}}function Or(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||fr,i)}function Ir(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||pr,i)}function Nr(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||mr,i)}function Dr(e,t,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||gr,i)}function zr(e,t){const n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function Fr(e,t){const n=this.cache;Sr(n,t)||(e.uniform2iv(this.addr,t),Er(n,t))}function Ur(e,t){const n=this.cache;Sr(n,t)||(e.uniform3iv(this.addr,t),Er(n,t))}function Br(e,t){const n=this.cache;Sr(n,t)||(e.uniform4iv(this.addr,t),Er(n,t))}function jr(e,t){const n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Hr(e,t){e.uniform1fv(this.addr,t)}function Vr(e,t){e.uniform1iv(this.addr,t)}function Gr(e,t){e.uniform2iv(this.addr,t)}function Wr(e,t){e.uniform3iv(this.addr,t)}function qr(e,t){e.uniform4iv(this.addr,t)}function Xr(e,t){const n=wr(t,this.size,2);e.uniform2fv(this.addr,n)}function Yr(e,t){const n=wr(t,this.size,3);e.uniform3fv(this.addr,n)}function Zr(e,t){const n=wr(t,this.size,4);e.uniform4fv(this.addr,n)}function Qr(e,t){const n=wr(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function $r(e,t){const n=wr(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Kr(e,t){const n=wr(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Jr(e,t,n){const r=t.length,i=Mr(n,r);e.uniform1iv(this.addr,i);for(let e=0;e!==r;++e)n.safeSetTexture2D(t[e]||fr,i[e])}function ei(e,t,n){const r=t.length,i=Mr(n,r);e.uniform1iv(this.addr,i);for(let e=0;e!==r;++e)n.safeSetTextureCube(t[e]||gr,i[e])}function ti(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return Tr;case 35664:return kr;case 35665:return Rr;case 35666:return Cr;case 35674:return Pr;case 35675:return Ar;case 35676:return Lr;case 5124:case 35670:return zr;case 35667:case 35671:return Fr;case 35668:case 35672:return Ur;case 35669:case 35673:return Br;case 5125:return jr;case 35678:case 36198:case 36298:case 36306:case 35682:return Or;case 35679:case 36299:case 36307:return Nr;case 35680:case 36300:case 36308:case 36293:return Dr;case 36289:case 36303:case 36311:case 36292:return Ir}}(t.type)}function ni(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Hr;case 35664:return Xr;case 35665:return Yr;case 35666:return Zr;case 35674:return Qr;case 35675:return $r;case 35676:return Kr;case 5124:case 35670:return Vr;case 35667:case 35671:return Gr;case 35668:case 35672:return Wr;case 35669:case 35673:return qr;case 35678:case 36198:case 36298:case 36306:case 35682:return Jr;case 35680:case 36300:case 36308:case 36293:return ei}}(t.type)}function ri(e){this.id=e,this.seq=[],this.map={}}ni.prototype.updateCache=function(e){const t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),Er(t,e)},ri.prototype.setValue=function(e,t,n){const r=this.seq;for(let i=0,o=r.length;i!==o;++i){const o=r[i];o.setValue(e,t[o.id],n)}};const ii=/([\w\d_]+)(\])?(\[|\.)?/g;function oi(e,t){e.seq.push(t),e.map[t.id]=t}function ai(e,t,n){const r=e.name,i=r.length;for(ii.lastIndex=0;;){const o=ii.exec(r),a=ii.lastIndex;let s=o[1];const l="]"===o[2],c=o[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===i){oi(n,void 0===c?new ti(s,e,t):new ni(s,e,t));break}{let e=n.map[s];void 0===e&&(e=new ri(s),oi(n,e)),n=e}}}function si(e,t){this.seq=[],this.map={};const n=e.getProgramParameter(t,35718);for(let r=0;r<n;++r){const n=e.getActiveUniform(t,r);ai(n,e.getUniformLocation(t,n.name),this)}}function li(e,t,n){const r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}si.prototype.setValue=function(e,t,n,r){const i=this.map[t];void 0!==i&&i.setValue(e,n,r)},si.prototype.setOptional=function(e,t,n){const r=t[n];void 0!==r&&this.setValue(e,n,r)},si.upload=function(e,t,n,r){for(let i=0,o=t.length;i!==o;++i){const o=t[i],a=n[o.id];!1!==a.needsUpdate&&o.setValue(e,a.value,r)}},si.seqWithValue=function(e,t){const n=[];for(let r=0,i=e.length;r!==i;++r){const i=e[r];i.id in t&&n.push(i)}return n};let ci=0;function ui(e){switch(e){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function hi(e,t,n){const r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(r&&""===i)return"";return"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(e){const t=e.split("\n");for(let e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return t.join("\n")}(e.getShaderSource(t))}function di(e,t){const n=ui(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function fi(e,t){const n=ui(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function pi(e,t){let n;switch(t){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="OptimizedCineon";break;case 4:n="ACESFilmic";break;case 5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function mi(e){return""!==e}function gi(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function vi(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const yi=/^[ \t]*#include +<([\w\d./]+)>/gm;function bi(e){return e.replace(yi,xi)}function xi(e,t){const n=Yn[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return bi(n)}const _i=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,wi=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Si(e){return e.replace(wi,Mi).replace(_i,Ei)}function Ei(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),Mi(e,t,n,r)}function Mi(e,t,n,r){let i="";for(let e=parseInt(t);e<parseInt(n);e++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+e+" ]").replace(/UNROLLED_LOOP_INDEX/g,e);return i}function Ti(e){let t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function ki(e,t,n,r){const i=e.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=function(e){let t="SHADOWMAP_TYPE_BASIC";return 1===e.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===e.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===e.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(n),c=function(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:case 307:t="ENVMAP_TYPE_CUBE_UV"}return t}(n),u=function(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case 302:case 307:t="ENVMAP_MODE_REFRACTION"}return t}(n),h=function(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(n),d=e.gammaFactor>0?e.gammaFactor:1,f=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(mi).join("\n")}(n),p=function(e){const t=[];for(const n in e){const r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(o),m=i.createProgram();let g,v,y=n.glslVersion?"#version "+n.glslVersion+"\n":"";n.isRawShaderMaterial?(g=[p].filter(mi).join("\n"),g.length>0&&(g+="\n"),v=[f,p].filter(mi).join("\n"),v.length>0&&(v+="\n")):(g=[Ti(n),"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(mi).join("\n"),v=[f,Ti(n),"#define SHADER_NAME "+n.shaderName,p,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==n.toneMapping?"#define TONE_MAPPING":"",0!==n.toneMapping?Yn.tonemapping_pars_fragment:"",0!==n.toneMapping?pi("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Yn.encodings_pars_fragment,n.map?di("mapTexelToLinear",n.mapEncoding):"",n.matcap?di("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?di("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?di("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?di("lightMapTexelToLinear",n.lightMapEncoding):"",fi("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(mi).join("\n")),a=bi(a),a=gi(a,n),a=vi(a,n),s=bi(s),s=gi(s,n),s=vi(s,n),a=Si(a),s=Si(s),n.isWebGL2&&!0!==n.isRawShaderMaterial&&(y="#version 300 es\n",g=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+g,v=["#define varying in","300 es"===n.glslVersion?"":"out highp vec4 pc_fragColor;","300 es"===n.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const b=y+v+s,x=li(i,35633,y+g+a),_=li(i,35632,b);if(i.attachShader(m,x),i.attachShader(m,_),void 0!==n.index0AttributeName?i.bindAttribLocation(m,0,n.index0AttributeName):!0===n.morphTargets&&i.bindAttribLocation(m,0,"position"),i.linkProgram(m),e.debug.checkShaderErrors){const e=i.getProgramInfoLog(m).trim(),t=i.getShaderInfoLog(x).trim(),n=i.getShaderInfoLog(_).trim();let r=!0,o=!0;if(!1===i.getProgramParameter(m,35714)){r=!1;const t=hi(i,x,"vertex"),n=hi(i,_,"fragment");console.error("THREE.WebGLProgram: shader error: ",i.getError(),"35715",i.getProgramParameter(m,35715),"gl.getProgramInfoLog",e,t,n)}else""!==e?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",e):""!==t&&""!==n||(o=!1);o&&(this.diagnostics={runnable:r,programLog:e,vertexShader:{log:t,prefix:g},fragmentShader:{log:n,prefix:v}})}let w,S;return i.deleteShader(x),i.deleteShader(_),this.getUniforms=function(){return void 0===w&&(w=new si(i,m)),w},this.getAttributes=function(){return void 0===S&&(S=function(e,t){const n={},r=e.getProgramParameter(t,35721);for(let i=0;i<r;i++){const r=e.getActiveAttrib(t,i).name;n[r]=e.getAttribLocation(t,r)}return n}(i,m)),S},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(m),this.program=void 0},this.name=n.shaderName,this.id=ci++,this.cacheKey=t,this.usedTimes=1,this.program=m,this.vertexShader=x,this.fragmentShader=_,this}function Ri(e,t,n,r,i,o){const a=[],s=r.isWebGL2,l=r.logarithmicDepthBuffer,c=r.floatVertexTextures,u=r.maxVertexUniforms,h=r.vertexTextures;let d=r.precision;const f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function m(e){let t;return e?e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=3e3,t}return{getParameters:function(i,a,p,g,v){const y=g.fog,b=i.isMeshStandardMaterial?g.environment:null,x=t.get(i.envMap||b),_=f[i.type],w=v.isSkinnedMesh?function(e){const t=e.skeleton.bones;if(c)return 1024;{const e=u,n=Math.floor((e-20)/4),r=Math.min(n,t.length);return r<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+r+"."),0):r}}(v):0;let S,E;if(null!==i.precision&&(d=r.getMaxPrecision(i.precision),d!==i.precision&&console.warn("THREE.WebGLProgram.getParameters:",i.precision,"not supported, using",d,"instead.")),_){const e=Qn[_];S=e.vertexShader,E=e.fragmentShader}else S=i.vertexShader,E=i.fragmentShader;const M=e.getRenderTarget();return{isWebGL2:s,shaderID:_,shaderName:i.type,vertexShader:S,fragmentShader:E,defines:i.defines,isRawShaderMaterial:!0===i.isRawShaderMaterial,glslVersion:i.glslVersion,precision:d,instancing:!0===v.isInstancedMesh,instancingColor:!0===v.isInstancedMesh&&null!==v.instanceColor,supportsVertexTextures:h,outputEncoding:null!==M?m(M.texture):e.outputEncoding,map:!!i.map,mapEncoding:m(i.map),matcap:!!i.matcap,matcapEncoding:m(i.matcap),envMap:!!x,envMapMode:x&&x.mapping,envMapEncoding:m(x),envMapCubeUV:!!x&&(306===x.mapping||307===x.mapping),lightMap:!!i.lightMap,lightMapEncoding:m(i.lightMap),aoMap:!!i.aoMap,emissiveMap:!!i.emissiveMap,emissiveMapEncoding:m(i.emissiveMap),bumpMap:!!i.bumpMap,normalMap:!!i.normalMap,objectSpaceNormalMap:1===i.normalMapType,tangentSpaceNormalMap:0===i.normalMapType,clearcoatMap:!!i.clearcoatMap,clearcoatRoughnessMap:!!i.clearcoatRoughnessMap,clearcoatNormalMap:!!i.clearcoatNormalMap,displacementMap:!!i.displacementMap,roughnessMap:!!i.roughnessMap,metalnessMap:!!i.metalnessMap,specularMap:!!i.specularMap,alphaMap:!!i.alphaMap,gradientMap:!!i.gradientMap,sheen:!!i.sheen,transmissionMap:!!i.transmissionMap,combine:i.combine,vertexTangents:i.normalMap&&i.vertexTangents,vertexColors:i.vertexColors,vertexUvs:!!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatMap||i.clearcoatRoughnessMap||i.clearcoatNormalMap||i.displacementMap||i.transmissionMap),uvsVertexOnly:!(i.map||i.bumpMap||i.normalMap||i.specularMap||i.alphaMap||i.emissiveMap||i.roughnessMap||i.metalnessMap||i.clearcoatNormalMap||i.transmissionMap||!i.displacementMap),fog:!!y,useFog:i.fog,fogExp2:y&&y.isFogExp2,flatShading:i.flatShading,sizeAttenuation:i.sizeAttenuation,logarithmicDepthBuffer:l,skinning:i.skinning&&w>0,maxBones:w,useVertexTexture:c,morphTargets:i.morphTargets,morphNormals:i.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:a.directional.length,numPointLights:a.point.length,numSpotLights:a.spot.length,numRectAreaLights:a.rectArea.length,numHemiLights:a.hemi.length,numDirLightShadows:a.directionalShadowMap.length,numPointLightShadows:a.pointShadowMap.length,numSpotLightShadows:a.spotShadowMap.length,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:i.dithering,shadowMapEnabled:e.shadowMap.enabled&&p.length>0,shadowMapType:e.shadowMap.type,toneMapping:i.toneMapped?e.toneMapping:0,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:i.premultipliedAlpha,alphaTest:i.alphaTest,doubleSided:2===i.side,flipSided:1===i.side,depthPacking:void 0!==i.depthPacking&&i.depthPacking,index0AttributeName:i.index0AttributeName,extensionDerivatives:i.extensions&&i.extensions.derivatives,extensionFragDepth:i.extensions&&i.extensions.fragDepth,extensionDrawBuffers:i.extensions&&i.extensions.drawBuffers,extensionShaderTextureLOD:i.extensions&&i.extensions.shaderTextureLOD,rendererExtensionFragDepth:s||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:s||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:s||n.has("EXT_shader_texture_lod"),customProgramCacheKey:i.customProgramCacheKey()}},getProgramCacheKey:function(t){const n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(const e in t.defines)n.push(e),n.push(t.defines[e]);if(!1===t.isRawShaderMaterial){for(let e=0;e<p.length;e++)n.push(t[p[e]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},getUniforms:function(e){const t=f[e.type];let n;if(t){const e=Qn[t];n=In.clone(e.uniforms)}else n=e.uniforms;return n},acquireProgram:function(t,n){let r;for(let e=0,t=a.length;e<t;e++){const t=a[e];if(t.cacheKey===n){r=t,++r.usedTimes;break}}return void 0===r&&(r=new ki(e,n,t,i),a.push(r)),r},releaseProgram:function(e){if(0==--e.usedTimes){const t=a.indexOf(e);a[t]=a[a.length-1],a.pop(),e.destroy()}},programs:a}}function Ci(){let e=new WeakMap;return{get:function(t){let n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Pi(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Ai(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Li(e){const t=[];let n=0;const r=[],i=[],o={id:-1};function a(r,i,a,s,l,c){let u=t[n];const h=e.get(a);return void 0===u?(u={id:r.id,object:r,geometry:i,material:a,program:h.program||o,groupOrder:s,renderOrder:r.renderOrder,z:l,group:c},t[n]=u):(u.id=r.id,u.object=r,u.geometry=i,u.material=a,u.program=h.program||o,u.groupOrder=s,u.renderOrder=r.renderOrder,u.z=l,u.group=c),n++,u}return{opaque:r,transparent:i,init:function(){n=0,r.length=0,i.length=0},push:function(e,t,n,o,s,l){const c=a(e,t,n,o,s,l);(!0===n.transparent?i:r).push(c)},unshift:function(e,t,n,o,s,l){const c=a(e,t,n,o,s,l);(!0===n.transparent?i:r).unshift(c)},finish:function(){for(let e=n,r=t.length;e<r;e++){const n=t[e];if(null===n.id)break;n.id=null,n.object=null,n.geometry=null,n.material=null,n.program=null,n.group=null}},sort:function(e,t){r.length>1&&r.sort(e||Pi),i.length>1&&i.sort(t||Ai)}}}function Oi(e){let t=new WeakMap;return{get:function(n,r){const i=t.get(n);let o;return void 0===i?(o=new Li(e),t.set(n,new WeakMap),t.get(n).set(r,o)):(o=i.get(r),void 0===o&&(o=new Li(e),i.set(r,o))),o},dispose:function(){t=new WeakMap}}}function Ii(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":n={direction:new ge,color:new zt};break;case"SpotLight":n={position:new ge,direction:new ge,color:new zt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ge,color:new zt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ge,skyColor:new zt,groundColor:new zt};break;case"RectAreaLight":n={color:new zt,position:new ge,halfWidth:new ge,halfHeight:new ge}}return e[t.id]=n,n}}}let Ni=0;function Di(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function zi(){const e=new Ii,t=function(){const e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];let n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ae};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ae,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let e=0;e<9;e++)n.probe.push(new ge);const r=new ge,i=new Ge,o=new Ge;return{setup:function(a,s,l){let c=0,u=0,h=0;for(let e=0;e<9;e++)n.probe[e].set(0,0,0);let d=0,f=0,p=0,m=0,g=0,v=0,y=0,b=0;const x=l.matrixWorldInverse;a.sort(Di);for(let s=0,l=a.length;s<l;s++){const l=a[s],_=l.color,w=l.intensity,S=l.distance,E=l.shadow&&l.shadow.map?l.shadow.map.texture:null;if(l.isAmbientLight)c+=_.r*w,u+=_.g*w,h+=_.b*w;else if(l.isLightProbe)for(let e=0;e<9;e++)n.probe[e].addScaledVector(l.sh.coefficients[e],w);else if(l.isDirectionalLight){const i=e.get(l);if(i.color.copy(l.color).multiplyScalar(l.intensity),i.direction.setFromMatrixPosition(l.matrixWorld),r.setFromMatrixPosition(l.target.matrixWorld),i.direction.sub(r),i.direction.transformDirection(x),l.castShadow){const e=l.shadow,r=t.get(l);r.shadowBias=e.bias,r.shadowNormalBias=e.normalBias,r.shadowRadius=e.radius,r.shadowMapSize=e.mapSize,n.directionalShadow[d]=r,n.directionalShadowMap[d]=E,n.directionalShadowMatrix[d]=l.shadow.matrix,v++}n.directional[d]=i,d++}else if(l.isSpotLight){const i=e.get(l);if(i.position.setFromMatrixPosition(l.matrixWorld),i.position.applyMatrix4(x),i.color.copy(_).multiplyScalar(w),i.distance=S,i.direction.setFromMatrixPosition(l.matrixWorld),r.setFromMatrixPosition(l.target.matrixWorld),i.direction.sub(r),i.direction.transformDirection(x),i.coneCos=Math.cos(l.angle),i.penumbraCos=Math.cos(l.angle*(1-l.penumbra)),i.decay=l.decay,l.castShadow){const e=l.shadow,r=t.get(l);r.shadowBias=e.bias,r.shadowNormalBias=e.normalBias,r.shadowRadius=e.radius,r.shadowMapSize=e.mapSize,n.spotShadow[p]=r,n.spotShadowMap[p]=E,n.spotShadowMatrix[p]=l.shadow.matrix,b++}n.spot[p]=i,p++}else if(l.isRectAreaLight){const t=e.get(l);t.color.copy(_).multiplyScalar(w),t.position.setFromMatrixPosition(l.matrixWorld),t.position.applyMatrix4(x),o.identity(),i.copy(l.matrixWorld),i.premultiply(x),o.extractRotation(i),t.halfWidth.set(.5*l.width,0,0),t.halfHeight.set(0,.5*l.height,0),t.halfWidth.applyMatrix4(o),t.halfHeight.applyMatrix4(o),n.rectArea[m]=t,m++}else if(l.isPointLight){const r=e.get(l);if(r.position.setFromMatrixPosition(l.matrixWorld),r.position.applyMatrix4(x),r.color.copy(l.color).multiplyScalar(l.intensity),r.distance=l.distance,r.decay=l.decay,l.castShadow){const e=l.shadow,r=t.get(l);r.shadowBias=e.bias,r.shadowNormalBias=e.normalBias,r.shadowRadius=e.radius,r.shadowMapSize=e.mapSize,r.shadowCameraNear=e.camera.near,r.shadowCameraFar=e.camera.far,n.pointShadow[f]=r,n.pointShadowMap[f]=E,n.pointShadowMatrix[f]=l.shadow.matrix,y++}n.point[f]=r,f++}else if(l.isHemisphereLight){const t=e.get(l);t.direction.setFromMatrixPosition(l.matrixWorld),t.direction.transformDirection(x),t.direction.normalize(),t.skyColor.copy(l.color).multiplyScalar(w),t.groundColor.copy(l.groundColor).multiplyScalar(w),n.hemi[g]=t,g++}}m>0&&(n.rectAreaLTC1=Zn.LTC_1,n.rectAreaLTC2=Zn.LTC_2),n.ambient[0]=c,n.ambient[1]=u,n.ambient[2]=h;const _=n.hash;_.directionalLength===d&&_.pointLength===f&&_.spotLength===p&&_.rectAreaLength===m&&_.hemiLength===g&&_.numDirectionalShadows===v&&_.numPointShadows===y&&_.numSpotShadows===b||(n.directional.length=d,n.spot.length=p,n.rectArea.length=m,n.point.length=f,n.hemi.length=g,n.directionalShadow.length=v,n.directionalShadowMap.length=v,n.pointShadow.length=y,n.pointShadowMap.length=y,n.spotShadow.length=b,n.spotShadowMap.length=b,n.directionalShadowMatrix.length=v,n.pointShadowMatrix.length=y,n.spotShadowMatrix.length=b,_.directionalLength=d,_.pointLength=f,_.spotLength=p,_.rectAreaLength=m,_.hemiLength=g,_.numDirectionalShadows=v,_.numPointShadows=y,_.numSpotShadows=b,n.version=Ni++)},state:n}}function Fi(){const e=new zi,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function Ui(){let e=new WeakMap;return{get:function(t,n){let r;return!1===e.has(t)?(r=new Fi,e.set(t,new WeakMap),e.get(t).set(n,r)):!1===e.get(t).has(n)?(r=new Fi,e.get(t).set(n,r)):r=e.get(t).get(n),r},dispose:function(){e=new WeakMap}}}function Bi(e){Bt.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function ji(e){Bt.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new ge,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Bi.prototype=Object.create(Bt.prototype),Bi.prototype.constructor=Bi,Bi.prototype.isMeshDepthMaterial=!0,Bi.prototype.copy=function(e){return Bt.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},ji.prototype=Object.create(Bt.prototype),ji.prototype.constructor=ji,ji.prototype.isMeshDistanceMaterial=!0,ji.prototype.copy=function(e){return Bt.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};function Hi(e,t,n){let r=new Gn;const i=new ae,o=new ae,a=new de,s=[],l=[],c={},u={0:1,1:0,2:2},h=new Nn({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new ae},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=h.clone();d.defines.HORIZONAL_PASS=1;const f=new un;f.setAttribute("position",new Gt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const p=new Rn(f,h),m=this;function g(n,r){const i=t.update(p);h.uniforms.shadow_pass.value=n.map.texture,h.uniforms.resolution.value=n.mapSize,h.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,h,p,null),d.uniforms.shadow_pass.value=n.mapPass.texture,d.uniforms.resolution.value=n.mapSize,d.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,d,p,null)}function v(e,t,n){const r=e<<0|t<<1|n<<2;let i=s[r];return void 0===i&&(i=new Bi({depthPacking:3201,morphTargets:e,skinning:t}),s[r]=i),i}function y(e,t,n){const r=e<<0|t<<1|n<<2;let i=l[r];return void 0===i&&(i=new ji({morphTargets:e,skinning:t}),l[r]=i),i}function b(t,n,r,i,o,a,s){let l=null,h=v,d=t.customDepthMaterial;if(!0===i.isPointLight&&(h=y,d=t.customDistanceMaterial),void 0===d){let e=!1;!0===r.morphTargets&&(e=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);let i=!1;!0===t.isSkinnedMesh&&(!0===r.skinning?i=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t));l=h(e,i,!0===t.isInstancedMesh)}else l=d;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){const e=l.uuid,t=r.uuid;let n=c[e];void 0===n&&(n={},c[e]=n);let i=n[t];void 0===i&&(i=l.clone(),n[t]=i),l=i}return l.visible=r.visible,l.wireframe=r.wireframe,l.side=3===s?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:u[r.side],l.clipShadows=r.clipShadows,l.clippingPlanes=r.clippingPlanes,l.clipIntersection=r.clipIntersection,l.wireframeLinewidth=r.wireframeLinewidth,l.linewidth=r.linewidth,!0===i.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(i.matrixWorld),l.nearDistance=o,l.farDistance=a),l}function x(n,i,o,a,s){if(!1===n.visible)return;if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);const r=t.update(n),i=n.material;if(Array.isArray(i)){const t=r.groups;for(let l=0,c=t.length;l<c;l++){const c=t[l],u=i[c.materialIndex];if(u&&u.visible){const t=b(n,r,u,a,o.near,o.far,s);e.renderBufferDirect(o,null,r,t,n,c)}}}else if(i.visible){const t=b(n,r,i,a,o.near,o.far,s);e.renderBufferDirect(o,null,r,t,n,null)}}const l=n.children;for(let e=0,t=l.length;e<t;e++)x(l[e],i,o,a,s)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(t,s,l){if(!1===m.enabled)return;if(!1===m.autoUpdate&&!1===m.needsUpdate)return;if(0===t.length)return;const c=e.getRenderTarget(),u=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),d=e.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let c=0,u=t.length;c<u;c++){const u=t[c],h=u.shadow;if(void 0===h){console.warn("THREE.WebGLShadowMap:",u,"has no shadow.");continue}if(!1===h.autoUpdate&&!1===h.needsUpdate)continue;i.copy(h.mapSize);const f=h.getFrameExtents();if(i.multiply(f),o.copy(h.mapSize),(i.x>n||i.y>n)&&(i.x>n&&(o.x=Math.floor(n/f.x),i.x=o.x*f.x,h.mapSize.x=o.x),i.y>n&&(o.y=Math.floor(n/f.y),i.y=o.y*f.y,h.mapSize.y=o.y)),null===h.map&&!h.isPointLightShadow&&3===this.type){const e={minFilter:1006,magFilter:1006,format:1023};h.map=new fe(i.x,i.y,e),h.map.texture.name=u.name+".shadowMap",h.mapPass=new fe(i.x,i.y,e),h.camera.updateProjectionMatrix()}if(null===h.map){const e={minFilter:1003,magFilter:1003,format:1023};h.map=new fe(i.x,i.y,e),h.map.texture.name=u.name+".shadowMap",h.camera.updateProjectionMatrix()}e.setRenderTarget(h.map),e.clear();const p=h.getViewportCount();for(let e=0;e<p;e++){const t=h.getViewport(e);a.set(o.x*t.x,o.y*t.y,o.x*t.z,o.y*t.w),d.viewport(a),h.updateMatrices(u,e),r=h.getFrustum(),x(s,l,h.camera,u,this.type)}h.isPointLightShadow||3!==this.type||g(h,l),h.needsUpdate=!1}m.needsUpdate=!1,e.setRenderTarget(c,u,h)}}function Vi(e,t,n){const r=n.isWebGL2;const i=new function(){let t=!1;const n=new de;let r=null;const i=new de(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},o=new function(){let t=!1,n=null,r=null,i=null;return{setTest:function(e){e?O(2929):I(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case 0:e.depthFunc(512);break;case 1:e.depthFunc(519);break;case 2:e.depthFunc(513);break;case 3:e.depthFunc(515);break;case 4:e.depthFunc(514);break;case 5:e.depthFunc(518);break;case 6:e.depthFunc(516);break;case 7:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},a=new function(){let t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null;return{setTest:function(e){t||(e?O(2960):I(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&l===r||(e.stencilOp(t,n,r),a=t,s=n,l=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,l=null,c=null}}};let s={},l=null,c=null,u=null,h=null,d=null,f=null,p=null,m=null,g=null,v=!1,y=null,b=null,x=null,_=null,w=null;const S=e.getParameter(35661);let E=!1,M=0;const T=e.getParameter(7938);-1!==T.indexOf("WebGL")?(M=parseFloat(/^WebGL\ ([0-9])/.exec(T)[1]),E=M>=1):-1!==T.indexOf("OpenGL ES")&&(M=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(T)[1]),E=M>=2);let k=null,R={};const C=new de,P=new de;function A(t,n,r){const i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(let t=0;t<r;t++)e.texImage2D(n+t,0,6408,1,1,0,6408,5121,i);return o}const L={};function O(t){!0!==s[t]&&(e.enable(t),s[t]=!0)}function I(t){!1!==s[t]&&(e.disable(t),s[t]=!1)}L[3553]=A(3553,3553,1),L[34067]=A(34067,34069,6),i.setClear(0,0,0,1),o.setClear(1),a.setClear(0),O(2929),o.setFunc(3),F(!1),U(1),O(2884),z(0);const N={100:32774,101:32778,102:32779};if(r)N[103]=32775,N[104]=32776;else{const e=t.get("EXT_blend_minmax");null!==e&&(N[103]=e.MIN_EXT,N[104]=e.MAX_EXT)}const D={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function z(t,n,r,i,o,a,s,l){if(0!==t){if(c||(O(3042),c=!0),5===t)o=o||n,a=a||r,s=s||i,n===h&&o===p||(e.blendEquationSeparate(N[n],N[o]),h=n,p=o),r===d&&i===f&&a===m&&s===g||(e.blendFuncSeparate(D[r],D[i],D[a],D[s]),d=r,f=i,m=a,g=s),u=t,v=null;else if(t!==u||l!==v){if(100===h&&100===p||(e.blendEquation(32774),h=100,p=100),l)switch(t){case 1:e.blendFuncSeparate(1,771,1,771);break;case 2:e.blendFunc(1,1);break;case 3:e.blendFuncSeparate(0,0,769,771);break;case 4:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case 1:e.blendFuncSeparate(770,771,1,771);break;case 2:e.blendFunc(770,1);break;case 3:e.blendFunc(0,769);break;case 4:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}d=null,f=null,m=null,g=null,u=t,v=l}}else c&&(I(3042),c=!1)}function F(t){y!==t&&(t?e.frontFace(2304):e.frontFace(2305),y=t)}function U(t){0!==t?(O(2884),t!==b&&(1===t?e.cullFace(1029):2===t?e.cullFace(1028):e.cullFace(1032))):I(2884),b=t}function B(t,n,r){t?(O(32823),_===n&&w===r||(e.polygonOffset(n,r),_=n,w=r)):I(32823)}function j(t){void 0===t&&(t=33984+S-1),k!==t&&(e.activeTexture(t),k=t)}return{buffers:{color:i,depth:o,stencil:a},enable:O,disable:I,useProgram:function(t){return l!==t&&(e.useProgram(t),l=t,!0)},setBlending:z,setMaterial:function(e,t){2===e.side?I(2884):O(2884);let n=1===e.side;t&&(n=!n),F(n),1===e.blending&&!1===e.transparent?z(0):z(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),o.setFunc(e.depthFunc),o.setTest(e.depthTest),o.setMask(e.depthWrite),i.setMask(e.colorWrite);const r=e.stencilWrite;a.setTest(r),r&&(a.setMask(e.stencilWriteMask),a.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),a.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),B(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:F,setCullFace:U,setLineWidth:function(t){t!==x&&(E&&e.lineWidth(t),x=t)},setPolygonOffset:B,setScissorTest:function(e){e?O(3089):I(3089)},activeTexture:j,bindTexture:function(t,n){null===k&&j();let r=R[k];void 0===r&&(r={type:void 0,texture:void 0},R[k]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||L[t]),r.type=t,r.texture=n)},unbindTexture:function(){const t=R[k];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(e){console.error("THREE.WebGLState:",e)}},scissor:function(t){!1===C.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),C.copy(t))},viewport:function(t){!1===P.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),P.copy(t))},reset:function(){s={},k=null,R={},l=null,u=null,y=null,b=null,i.reset(),o.reset(),a.reset()}}}function Gi(e,t,n,r,i,o,a){const s=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,h=i.maxSamples,d=new WeakMap;let f,p=!1;try{p="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(e){}function m(e,t){return p?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function g(e,t,n,r){let i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const r=t?oe.floorPowerOfTwo:Math.floor,o=r(i*e.width),a=r(i*e.height);void 0===f&&(f=m(o,a));const s=n?m(o,a):f;s.width=o,s.height=a;return s.getContext("2d").drawImage(e,0,0,o,a),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+o+"x"+a+")."),s}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function v(e){return oe.isPowerOfTwo(e.width)&&oe.isPowerOfTwo(e.height)}function y(e,t){return e.generateMipmaps&&t&&1003!==e.minFilter&&1006!==e.minFilter}function b(t,n,i,o){e.generateMipmap(t);r.get(n).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function x(n,r,i){if(!1===s)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}let o=r;return 6403===r&&(5126===i&&(o=33326),5131===i&&(o=33325),5121===i&&(o=33321)),6407===r&&(5126===i&&(o=34837),5131===i&&(o=34843),5121===i&&(o=32849)),6408===r&&(5126===i&&(o=34836),5131===i&&(o=34842),5121===i&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||t.get("EXT_color_buffer_float"),o}function _(e){return 1003===e||1004===e||1005===e?9728:9729}function w(t){const n=t.target;n.removeEventListener("dispose",w),function(t){const n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&d.delete(n),a.memory.textures--}function S(t){const n=t.target;n.removeEventListener("dispose",S),function(t){const n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(let t=0;t<6;t++)e.deleteFramebuffer(n.__webglFramebuffer[t]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[t]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&e.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer);r.remove(t.texture),r.remove(t)}(n),a.memory.textures--}let E=0;function M(e,t){const i=r.get(e);if(e.isVideoTexture&&function(e){const t=a.render.frame;d.get(e)!==t&&(d.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){const n=e.image;if(void 0===n)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==n.complete)return void A(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function T(t,i){const a=r.get(t);t.version>0&&a.__version!==t.version?function(t,r,i){if(6!==r.image.length)return;P(t,r),n.activeTexture(33984+i),n.bindTexture(34067,t.__webglTexture),e.pixelStorei(37440,r.flipY);const a=r&&(r.isCompressedTexture||r.image[0].isCompressedTexture),l=r.image[0]&&r.image[0].isDataTexture,u=[];for(let e=0;e<6;e++)u[e]=a||l?l?r.image[e].image:r.image[e]:g(r.image[e],!1,!0,c);const h=u[0],d=v(h)||s,f=o.convert(r.format),p=o.convert(r.type),m=x(r.internalFormat,f,p);let _;if(C(34067,r,d),a){for(let e=0;e<6;e++){_=u[e].mipmaps;for(let t=0;t<_.length;t++){const i=_[t];1023!==r.format&&1022!==r.format?null!==f?n.compressedTexImage2D(34069+e,t,m,i.width,i.height,0,i.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+e,t,m,i.width,i.height,0,f,p,i.data)}}t.__maxMipLevel=_.length-1}else{_=r.mipmaps;for(let e=0;e<6;e++)if(l){n.texImage2D(34069+e,0,m,u[e].width,u[e].height,0,f,p,u[e].data);for(let t=0;t<_.length;t++){const r=_[t].image[e].image;n.texImage2D(34069+e,t+1,m,r.width,r.height,0,f,p,r.data)}}else{n.texImage2D(34069+e,0,m,f,p,u[e]);for(let t=0;t<_.length;t++){const r=_[t];n.texImage2D(34069+e,t+1,m,f,p,r.image[e])}}t.__maxMipLevel=_.length}y(r,d)&&b(34067,r,h.width,h.height);t.__version=r.version,r.onUpdate&&r.onUpdate(r)}(a,t,i):(n.activeTexture(33984+i),n.bindTexture(34067,a.__webglTexture))}const k={1e3:10497,1001:33071,1002:33648},R={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987};function C(n,o,a){a?(e.texParameteri(n,10242,k[o.wrapS]),e.texParameteri(n,10243,k[o.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,k[o.wrapR]),e.texParameteri(n,10240,R[o.magFilter]),e.texParameteri(n,10241,R[o.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),1001===o.wrapS&&1001===o.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,_(o.magFilter)),e.texParameteri(n,10241,_(o.minFilter)),1003!==o.minFilter&&1006!==o.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const l=t.get("EXT_texture_filter_anisotropic");if(l){if(1015===o.type&&null===t.get("OES_texture_float_linear"))return;if(1016===o.type&&null===(s||t.get("OES_texture_half_float_linear")))return;(o.anisotropy>1||r.get(o).__currentAnisotropy)&&(e.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(o.anisotropy,i.getMaxAnisotropy())),r.get(o).__currentAnisotropy=o.anisotropy)}}function P(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",w),t.__webglTexture=e.createTexture(),a.memory.textures++)}function A(t,r,i){let a=3553;r.isDataTexture2DArray&&(a=35866),r.isDataTexture3D&&(a=32879),P(t,r),n.activeTexture(33984+i),n.bindTexture(a,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);const l=function(e){return!s&&(1001!==e.wrapS||1001!==e.wrapT||1003!==e.minFilter&&1006!==e.minFilter)}(r)&&!1===v(r.image),c=g(r.image,l,!1,u),h=v(c)||s,d=o.convert(r.format);let f,p=o.convert(r.type),m=x(r.internalFormat,d,p);C(a,r,h);const _=r.mipmaps;if(r.isDepthTexture)m=6402,s?m=1015===r.type?36012:1014===r.type?33190:1020===r.type?35056:33189:1015===r.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===r.format&&6402===m&&1012!==r.type&&1014!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=1012,p=o.convert(r.type)),1027===r.format&&6402===m&&(m=34041,1020!==r.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=1020,p=o.convert(r.type))),n.texImage2D(3553,0,m,c.width,c.height,0,d,p,null);else if(r.isDataTexture)if(_.length>0&&h){for(let e=0,t=_.length;e<t;e++)f=_[e],n.texImage2D(3553,e,m,f.width,f.height,0,d,p,f.data);r.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,m,c.width,c.height,0,d,p,c.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(let e=0,t=_.length;e<t;e++)f=_[e],1023!==r.format&&1022!==r.format?null!==d?n.compressedTexImage2D(3553,e,m,f.width,f.height,0,f.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,e,m,f.width,f.height,0,d,p,f.data);t.__maxMipLevel=_.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,m,c.width,c.height,c.depth,0,d,p,c.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,m,c.width,c.height,c.depth,0,d,p,c.data),t.__maxMipLevel=0;else if(_.length>0&&h){for(let e=0,t=_.length;e<t;e++)f=_[e],n.texImage2D(3553,e,m,d,p,f);r.generateMipmaps=!1,t.__maxMipLevel=_.length-1}else n.texImage2D(3553,0,m,d,p,c),t.__maxMipLevel=0;y(r,h)&&b(a,r,c.width,c.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function L(t,i,a,s){const l=o.convert(i.texture.format),c=o.convert(i.texture.type),u=x(i.texture.internalFormat,l,c);n.texImage2D(s,0,u,i.width,i.height,0,l,c,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,a,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function O(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){let i=33189;if(r){const t=n.depthTexture;t&&t.isDepthTexture&&(1015===t.type?i=36012:1014===t.type&&(i=33190));const r=N(n);e.renderbufferStorageMultisample(36161,r,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){const t=N(n);e.renderbufferStorageMultisample(36161,t,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{const t=o.convert(n.texture.format),i=o.convert(n.texture.type),a=x(n.texture.internalFormat,t,i);if(r){const t=N(n);e.renderbufferStorageMultisample(36161,t,a,n.width,n.height)}else e.renderbufferStorage(36161,a,n.width,n.height)}e.bindRenderbuffer(36161,null)}function I(t){const n=r.get(t),i=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),M(n.depthTexture,0);const i=r.get(n.depthTexture).__webglTexture;if(1026===n.depthTexture.format)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(1027!==n.depthTexture.format)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(let r=0;r<6;r++)e.bindFramebuffer(36160,n.__webglFramebuffer[r]),n.__webglDepthbuffer[r]=e.createRenderbuffer(),O(n.__webglDepthbuffer[r],t,!1)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),O(n.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}function N(e){return s&&e.isWebGLMultisampleRenderTarget?Math.min(h,e.samples):0}let D=!1,z=!1;this.allocateTextureUnit=function(){const e=E;return e>=l&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+l),E+=1,e},this.resetTextureUnits=function(){E=0},this.setTexture2D=M,this.setTexture2DArray=function(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?A(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){const i=r.get(e);e.version>0&&i.__version!==e.version?A(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=T,this.setupRenderTarget=function(t){const i=r.get(t),l=r.get(t.texture);t.addEventListener("dispose",S),l.__webglTexture=e.createTexture(),a.memory.textures++;const c=!0===t.isWebGLCubeRenderTarget,u=!0===t.isWebGLMultisampleRenderTarget,h=v(t)||s;if(!s||1022!==t.texture.format||1015!==t.texture.type&&1016!==t.texture.type||(t.texture.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),c){i.__webglFramebuffer=[];for(let t=0;t<6;t++)i.__webglFramebuffer[t]=e.createFramebuffer()}else if(i.__webglFramebuffer=e.createFramebuffer(),u)if(s){i.__webglMultisampledFramebuffer=e.createFramebuffer(),i.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,i.__webglColorRenderbuffer);const n=o.convert(t.texture.format),r=o.convert(t.texture.type),a=x(t.texture.internalFormat,n,r),s=N(t);e.renderbufferStorageMultisample(36161,s,a,t.width,t.height),e.bindFramebuffer(36160,i.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,i.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(i.__webglDepthRenderbuffer=e.createRenderbuffer(),O(i.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(c){n.bindTexture(34067,l.__webglTexture),C(34067,t.texture,h);for(let e=0;e<6;e++)L(i.__webglFramebuffer[e],t,36064,34069+e);y(t.texture,h)&&b(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,l.__webglTexture),C(3553,t.texture,h),L(i.__webglFramebuffer,t,36064,3553),y(t.texture,h)&&b(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&I(t)},this.updateRenderTargetMipmap=function(e){const t=e.texture;if(y(t,v(e)||s)){const i=e.isWebGLCubeRenderTarget?34067:3553,o=r.get(t).__webglTexture;n.bindTexture(i,o),b(i,t,e.width,e.height),n.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(s){const n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);const i=t.width,o=t.height;let a=16384;t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024),e.blitFramebuffer(0,0,i,o,0,0,i,o,a,9728),e.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===D&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),D=!0),e=e.texture),M(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===z&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),z=!0),e=e.texture),T(e,t)}}function Wi(e,t,n){const r=n.isWebGL2;return{convert:function(e){let n;if(1009===e)return 5121;if(1017===e)return 32819;if(1018===e)return 32820;if(1019===e)return 33635;if(1010===e)return 5120;if(1011===e)return 5122;if(1012===e)return 5123;if(1013===e)return 5124;if(1014===e)return 5125;if(1015===e)return 5126;if(1016===e)return r?5131:(n=t.get("OES_texture_half_float"),null!==n?n.HALF_FLOAT_OES:null);if(1021===e)return 6406;if(1022===e)return 6407;if(1023===e)return 6408;if(1024===e)return 6409;if(1025===e)return 6410;if(1026===e)return 6402;if(1027===e)return 34041;if(1028===e)return 6403;if(1029===e)return 36244;if(1030===e)return 33319;if(1031===e)return 33320;if(1032===e)return 36248;if(1033===e)return 36249;if(33776===e||33777===e||33778===e||33779===e){if(n=t.get("WEBGL_compressed_texture_s3tc"),null===n)return null;if(33776===e)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===e)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===e)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===e)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===e||35841===e||35842===e||35843===e){if(n=t.get("WEBGL_compressed_texture_pvrtc"),null===n)return null;if(35840===e)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===e)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===e)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===e)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===e)return n=t.get("WEBGL_compressed_texture_etc1"),null!==n?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===e||37496===e)&&(n=t.get("WEBGL_compressed_texture_etc"),null!==n)){if(37492===e)return n.COMPRESSED_RGB8_ETC2;if(37496===e)return n.COMPRESSED_RGBA8_ETC2_EAC}return 37808===e||37809===e||37810===e||37811===e||37812===e||37813===e||37814===e||37815===e||37816===e||37817===e||37818===e||37819===e||37820===e||37821===e||37840===e||37841===e||37842===e||37843===e||37844===e||37845===e||37846===e||37847===e||37848===e||37849===e||37850===e||37851===e||37852===e||37853===e?(n=t.get("WEBGL_compressed_texture_astc"),null!==n?e:null):36492===e?(n=t.get("EXT_texture_compression_bptc"),null!==n?e:null):1020===e?r?34042:(n=t.get("WEBGL_depth_texture"),null!==n?n.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function qi(e){zn.call(this),this.cameras=e||[]}function Xi(){mt.call(this),this.type="Group"}function Yi(){this._targetRay=null,this._grip=null,this._hand=null}function Zi(e,t){const n=this;let r=null,i=1,o=null,a="local-floor",s=null;const l=[],c=new Map,u=new zn;u.layers.enable(1),u.viewport=new de;const h=new zn;h.layers.enable(2),h.viewport=new de;const d=[u,h],f=new qi;f.layers.enable(1),f.layers.enable(2);let p=null,m=null;function g(e){const t=c.get(e.inputSource);t&&t.dispatchEvent({type:e.type,data:e.inputSource})}function v(){c.forEach((function(e,t){e.disconnect(t)})),c.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),E.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function y(e){o=e,E.setContext(r),E.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function b(e){const t=r.inputSources;for(let e=0;e<l.length;e++)c.set(t[e],l[e]);for(let t=0;t<e.removed.length;t++){const n=e.removed[t],r=c.get(n);r&&(r.dispatchEvent({type:"disconnected",data:n}),c.delete(n))}for(let t=0;t<e.added.length;t++){const n=e.added[t],r=c.get(n);r&&r.dispatchEvent({type:"connected",data:n})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){let t=l[e];return void 0===t&&(t=new Yi,l[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){let t=l[e];return void 0===t&&(t=new Yi,l[e]=t),t.getGripSpace()},this.getHand=function(e){let t=l[e];return void 0===t&&(t=new Yi,l[e]=t),t.getHandSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return r},this.setSession=function(e){if(r=e,null!==r){r.addEventListener("select",g),r.addEventListener("selectstart",g),r.addEventListener("selectend",g),r.addEventListener("squeeze",g),r.addEventListener("squeezestart",g),r.addEventListener("squeezeend",g),r.addEventListener("end",v);const e=t.getContextAttributes();!0!==e.xrCompatible&&t.makeXRCompatible();const n={antialias:e.antialias,alpha:e.alpha,depth:e.depth,stencil:e.stencil,framebufferScaleFactor:i},o=new XRWebGLLayer(r,t,n);r.updateRenderState({baseLayer:o}),r.requestReferenceSpace(a).then(y),r.addEventListener("inputsourceschange",b)}};const x=new ge,_=new ge;function w(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}this.getCamera=function(e){f.near=h.near=u.near=e.near,f.far=h.far=u.far=e.far,p===f.near&&m===f.far||(r.updateRenderState({depthNear:f.near,depthFar:f.far}),p=f.near,m=f.far);const t=e.parent,n=f.cameras;w(f,t);for(let e=0;e<n.length;e++)w(n[e],t);e.matrixWorld.copy(f.matrixWorld);const i=e.children;for(let e=0,t=i.length;e<t;e++)i[e].updateMatrixWorld(!0);return 2===n.length?function(e,t,n){x.setFromMatrixPosition(t.matrixWorld),_.setFromMatrixPosition(n.matrixWorld);const r=x.distanceTo(_),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),l=(i[9]+1)/i[5],c=(i[9]-1)/i[5],u=(i[8]-1)/i[0],h=(o[8]+1)/o[0],d=a*u,f=a*h,p=r/(-u+h),m=p*-u;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(p),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);const g=a+p,v=s+p,y=d-m,b=f+(r-m),w=l*s/v*g,S=c*s/v*g;e.projectionMatrix.makePerspective(y,b,w,S,g,v)}(f,u,h):f.projectionMatrix.copy(u.projectionMatrix),f};let S=null;const E=new Wn;E.setAnimationLoop((function(t,n){if(s=n.getViewerPose(o),null!==s){const t=s.views,n=r.renderState.baseLayer;e.setFramebuffer(n.framebuffer);let i=!1;t.length!==f.cameras.length&&(f.cameras.length=0,i=!0);for(let e=0;e<t.length;e++){const r=t[e],o=n.getViewport(r),a=d[e];a.matrix.fromArray(r.transform.matrix),a.projectionMatrix.fromArray(r.projectionMatrix),a.viewport.set(o.x,o.y,o.width,o.height),0===e&&f.matrix.copy(a.matrix),!0===i&&f.cameras.push(a)}}const i=r.inputSources;for(let e=0;e<l.length;e++){const t=l[e],r=i[e];t.update(r,n,o)}S&&S(t,n)})),this.setAnimationLoop=function(e){S=e},this.dispose=function(){}}function Qi(e){function t(t,n){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);const r=e.get(n).envMap;if(r){t.envMap.value=r,t.flipEnvMap.value=r.isCubeTexture&&r._needsFlipEnvMap?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio;const i=e.get(r).__maxMipLevel;void 0!==i&&(t.maxMipLevel.value=i)}let i,o;n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?i=n.map:n.specularMap?i=n.specularMap:n.displacementMap?i=n.displacementMap:n.normalMap?i=n.normalMap:n.bumpMap?i=n.bumpMap:n.roughnessMap?i=n.roughnessMap:n.metalnessMap?i=n.metalnessMap:n.alphaMap?i=n.alphaMap:n.emissiveMap?i=n.emissiveMap:n.clearcoatMap?i=n.clearcoatMap:n.clearcoatNormalMap?i=n.clearcoatNormalMap:n.clearcoatRoughnessMap&&(i=n.clearcoatRoughnessMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix)),n.aoMap?o=n.aoMap:n.lightMap&&(o=n.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),t.uv2Transform.value.copy(o.matrix))}function n(t,n){t.roughness.value=n.roughness,t.metalness.value=n.metalness,n.roughnessMap&&(t.roughnessMap.value=n.roughnessMap),n.metalnessMap&&(t.metalnessMap.value=n.metalnessMap),n.emissiveMap&&(t.emissiveMap.value=n.emissiveMap),n.bumpMap&&(t.bumpMap.value=n.bumpMap,t.bumpScale.value=n.bumpScale,1===n.side&&(t.bumpScale.value*=-1)),n.normalMap&&(t.normalMap.value=n.normalMap,t.normalScale.value.copy(n.normalScale),1===n.side&&t.normalScale.value.negate()),n.displacementMap&&(t.displacementMap.value=n.displacementMap,t.displacementScale.value=n.displacementScale,t.displacementBias.value=n.displacementBias);e.get(n).envMap&&(t.envMapIntensity.value=n.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,o){r.isMeshBasicMaterial?t(e,r):r.isMeshLambertMaterial?(t(e,r),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,r)):r.isMeshToonMaterial?(t(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshPhongMaterial?(t(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshStandardMaterial?(t(e,r),r.isMeshPhysicalMaterial?function(e,t){n(e,t),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap);t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,1===t.side&&e.clearcoatNormalScale.value.negate());e.transmission.value=t.transmission,t.transmissionMap&&(e.transmissionMap.value=t.transmissionMap)}(e,r):n(e,r)):r.isMeshMatcapMaterial?(t(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDepthMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDistanceMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?(t(e,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,1===t.side&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),1===t.side&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);let i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,i,o):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);let n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function $i(e){const t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,l=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",u=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat;let h=null,d=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const f=this;let p=!1,m=null,g=0,v=0,y=null,b=null,x=-1,_=null,w=null;const S=new de,E=new de;let M=null,T=t.width,k=t.height,R=1,C=null,P=null;const A=new de(0,0,T,k),L=new de(0,0,T,k);let O=!1;const I=new Gn;let N=!1,D=!1;const z=new Ge,F=new ge,U={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function B(){return null===y?R:1}let j,H,V,G,W,q,X,Y,Z,Q,$,K,J,ee,te,ne,re,ie,se,le,ce,ue=n;function he(e,n){for(let r=0;r<e.length;r++){const i=e[r],o=t.getContext(i,n);if(null!==o)return o}return null}try{const e={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(t.addEventListener("webglcontextlost",ve,!1),t.addEventListener("webglcontextrestored",ye,!1),null===ue){const t=["webgl2","webgl","experimental-webgl"];if(!0===f.isWebGL1Renderer&&t.shift(),ue=he(t,e),null===ue)throw he(t)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ue.getShaderPrecisionFormat&&(ue.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(e){throw console.error("THREE.WebGLRenderer: "+e.message),e}function fe(){j=new rr(ue),H=new er(ue,j,e),!1===H.isWebGL2&&(j.get("WEBGL_depth_texture"),j.get("OES_texture_float"),j.get("OES_texture_half_float"),j.get("OES_texture_half_float_linear"),j.get("OES_standard_derivatives"),j.get("OES_element_index_uint"),j.get("OES_vertex_array_object"),j.get("ANGLE_instanced_arrays")),j.get("OES_texture_float_linear"),le=new Wi(ue,j,H),V=new Vi(ue,j,H),V.scissor(E.copy(L).multiplyScalar(R).floor()),V.viewport(S.copy(A).multiplyScalar(R).floor()),G=new ar(ue),W=new Ci,q=new Gi(ue,j,V,W,H,le,G),X=new nr(f),Y=new qn(ue,H),ce=new Kn(ue,j,Y,H),Z=new ir(ue,Y,G,ce),Q=new ur(ue,Z,Y,G),re=new cr(ue),te=new tr(W),$=new Ri(f,X,j,H,ce,te),K=new Qi(W),J=new Oi(W),ee=new Ui,ne=new $n(f,X,V,Q,s),ie=new Jn(ue,j,G,H),se=new or(ue,j,G,H),G.programs=$.programs,f.capabilities=H,f.extensions=j,f.properties=W,f.renderLists=J,f.state=V,f.info=G}fe();const pe=new Zi(f,ue);this.xr=pe;const me=new Hi(f,Q,H.maxTextureSize);function ve(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),p=!0}function ye(){console.log("THREE.WebGLRenderer: Context Restored."),p=!1,fe()}function be(e){const t=e.target;t.removeEventListener("dispose",be),function(e){xe(e),W.remove(e)}(t)}function xe(e){const t=W.get(e).program;void 0!==t&&$.releaseProgram(t)}this.shadowMap=me,this.getContext=function(){return ue},this.getContextAttributes=function(){return ue.getContextAttributes()},this.forceContextLoss=function(){const e=j.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){const e=j.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(e){void 0!==e&&(R=e,this.setSize(T,k,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new ae),e.set(T,k)},this.setSize=function(e,n,r){pe.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(T=e,k=n,t.width=Math.floor(e*R),t.height=Math.floor(n*R),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new ae),e.set(T*R,k*R).floor()},this.setDrawingBufferSize=function(e,n,r){T=e,k=n,R=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new de),e.copy(S)},this.getViewport=function(e){return e.copy(A)},this.setViewport=function(e,t,n,r){e.isVector4?A.set(e.x,e.y,e.z,e.w):A.set(e,t,n,r),V.viewport(S.copy(A).multiplyScalar(R).floor())},this.getScissor=function(e){return e.copy(L)},this.setScissor=function(e,t,n,r){e.isVector4?L.set(e.x,e.y,e.z,e.w):L.set(e,t,n,r),V.scissor(E.copy(L).multiplyScalar(R).floor())},this.getScissorTest=function(){return O},this.setScissorTest=function(e){V.setScissorTest(O=e)},this.setOpaqueSort=function(e){C=e},this.setTransparentSort=function(e){P=e},this.getClearColor=function(){return ne.getClearColor()},this.setClearColor=function(){ne.setClearColor.apply(ne,arguments)},this.getClearAlpha=function(){return ne.getClearAlpha()},this.setClearAlpha=function(){ne.setClearAlpha.apply(ne,arguments)},this.clear=function(e,t,n){let r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),ue.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ve,!1),t.removeEventListener("webglcontextrestored",ye,!1),J.dispose(),ee.dispose(),W.dispose(),X.dispose(),Q.dispose(),ce.dispose(),pe.dispose(),we.stop()},this.renderBufferImmediate=function(e,t){ce.initAttributes();const n=W.get(e);e.hasPositions&&!n.position&&(n.position=ue.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=ue.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=ue.createBuffer()),e.hasColors&&!n.color&&(n.color=ue.createBuffer());const r=t.getAttributes();e.hasPositions&&(ue.bindBuffer(34962,n.position),ue.bufferData(34962,e.positionArray,35048),ce.enableAttribute(r.position),ue.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(ue.bindBuffer(34962,n.normal),ue.bufferData(34962,e.normalArray,35048),ce.enableAttribute(r.normal),ue.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(ue.bindBuffer(34962,n.uv),ue.bufferData(34962,e.uvArray,35048),ce.enableAttribute(r.uv),ue.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(ue.bindBuffer(34962,n.color),ue.bufferData(34962,e.colorArray,35048),ce.enableAttribute(r.color),ue.vertexAttribPointer(r.color,3,5126,!1,0,0)),ce.disableUnusedAttributes(),ue.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=U);const a=i.isMesh&&i.matrixWorld.determinant()<0,s=ke(e,t,r,i);V.setMaterial(r,a);let l=n.index;const c=n.attributes.position;if(null===l){if(void 0===c||0===c.count)return}else if(0===l.count)return;let u,h=1;!0===r.wireframe&&(l=Z.getWireframeAttribute(n),h=2),(r.morphTargets||r.morphNormals)&&re.update(i,n,r,s),ce.setup(i,r,s,n,l);let d=ie;null!==l&&(u=Y.get(l),d=se,d.setIndex(u));const f=null!==l?l.count:c.count,p=n.drawRange.start*h,m=n.drawRange.count*h,g=null!==o?o.start*h:0,v=null!==o?o.count*h:1/0,y=Math.max(p,g),b=Math.min(f,p+m,g+v)-1,x=Math.max(0,b-y+1);if(0!==x){if(i.isMesh)!0===r.wireframe?(V.setLineWidth(r.wireframeLinewidth*B()),d.setMode(1)):d.setMode(4);else if(i.isLine){let e=r.linewidth;void 0===e&&(e=1),V.setLineWidth(e*B()),i.isLineSegments?d.setMode(1):i.isLineLoop?d.setMode(2):d.setMode(3)}else i.isPoints?d.setMode(0):i.isSprite&&d.setMode(4);if(i.isInstancedMesh)d.renderInstances(y,x,i.count);else if(n.isInstancedBufferGeometry){const e=Math.min(n.instanceCount,n._maxInstanceCount);d.renderInstances(y,x,e)}else d.render(y,x)}},this.compile=function(e,t){d=ee.get(e,t),d.init(),e.traverse((function(e){e.isLight&&(d.pushLight(e),e.castShadow&&d.pushShadow(e))})),d.setupLights(t);const n=new WeakMap;e.traverse((function(t){const r=t.material;if(r)if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];!1===n.has(o)&&(Te(o,e,t),n.set(o))}else!1===n.has(r)&&(Te(r,e,t),n.set(r))}))};let _e=null;const we=new Wn;function Se(e,t,n,r){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)d.pushLight(e),e.castShadow&&d.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||I.intersectsSprite(e)){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);const t=Q.update(e),i=e.material;i.visible&&h.push(e,t,i,n,F.z,null)}}else if(e.isImmediateRenderObject)r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z),h.push(e,null,e.material,n,F.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==G.render.frame&&(e.skeleton.update(),e.skeleton.frame=G.render.frame),!e.frustumCulled||I.intersectsObject(e))){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(z);const t=Q.update(e),i=e.material;if(Array.isArray(i)){const r=t.groups;for(let o=0,a=r.length;o<a;o++){const a=r[o],s=i[a.materialIndex];s&&s.visible&&h.push(e,t,s,n,F.z,a)}}else i.visible&&h.push(e,t,i,n,F.z,null)}const i=e.children;for(let e=0,o=i.length;e<o;e++)Se(i[e],t,n,r)}function Ee(e,t,n){const r=!0===t.isScene?t.overrideMaterial:null;for(let i=0,o=e.length;i<o;i++){const o=e[i],a=o.object,s=o.geometry,l=null===r?o.material:r,c=o.group;if(n.isArrayCamera){w=n;const e=n.cameras;for(let n=0,r=e.length;n<r;n++){const r=e[n];a.layers.test(r.layers)&&(V.viewport(S.copy(r.viewport)),d.setupLights(r),Me(a,t,r,s,l,c))}}else w=null,Me(a,t,n,s,l,c)}}function Me(e,t,n,r,i,o){if(e.onBeforeRender(f,t,n,r,i,o),d=ee.get(t,w||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){const r=ke(n,t,i,e);V.setMaterial(i),ce.reset(),function(e,t){e.render((function(e){f.renderBufferImmediate(e,t)}))}(e,r)}else f.renderBufferDirect(n,t,r,i,e,o);e.onAfterRender(f,t,n,r,i,o),d=ee.get(t,w||n)}function Te(e,t,n){!0!==t.isScene&&(t=U);const r=W.get(e),i=d.state.lights,o=d.state.shadowsArray,a=i.state.version,s=$.getParameters(e,i.state,o,t,n),l=$.getProgramCacheKey(s);let c=r.program,u=!0;if(void 0===c)e.addEventListener("dispose",be);else if(c.cacheKey!==l)xe(e);else if(r.lightsStateVersion!==a)u=!1;else{if(void 0!==s.shaderID){const n=e.isMeshStandardMaterial?t.environment:null;return void(r.envMap=X.get(e.envMap||n))}u=!1}u&&(s.uniforms=$.getUniforms(e),e.onBeforeCompile(s,f),c=$.acquireProgram(s,l),r.program=c,r.uniforms=s.uniforms,r.outputEncoding=s.outputEncoding);const h=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=te.numPlanes,r.numIntersection=te.numIntersection,h.clippingPlanes=te.uniform),r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.envMap=X.get(e.envMap||r.environment),r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(h.ambientLightColor.value=i.state.ambient,h.lightProbe.value=i.state.probe,h.directionalLights.value=i.state.directional,h.directionalLightShadows.value=i.state.directionalShadow,h.spotLights.value=i.state.spot,h.spotLightShadows.value=i.state.spotShadow,h.rectAreaLights.value=i.state.rectArea,h.ltc_1.value=i.state.rectAreaLTC1,h.ltc_2.value=i.state.rectAreaLTC2,h.pointLights.value=i.state.point,h.pointLightShadows.value=i.state.pointShadow,h.hemisphereLights.value=i.state.hemi,h.directionalShadowMap.value=i.state.directionalShadowMap,h.directionalShadowMatrix.value=i.state.directionalShadowMatrix,h.spotShadowMap.value=i.state.spotShadowMap,h.spotShadowMatrix.value=i.state.spotShadowMatrix,h.pointShadowMap.value=i.state.pointShadowMap,h.pointShadowMatrix.value=i.state.pointShadowMatrix);const p=r.program.getUniforms(),m=si.seqWithValue(p.seq,h);r.uniformsList=m}function ke(e,t,n,r){!0!==t.isScene&&(t=U),q.resetTextureUnits();const i=t.fog,o=n.isMeshStandardMaterial?t.environment:null,a=null===y?f.outputEncoding:y.texture.encoding,s=X.get(n.envMap||o),l=W.get(n),c=d.state.lights;if(!0===N&&(!0===D||e!==_)){const t=e===_&&n.id===x;te.setState(n,e,t)}n.version===l.__version?n.fog&&l.fog!==i||l.environment!==o||l.needsLights&&l.lightsStateVersion!==c.state.version?Te(n,t,r):void 0===l.numClippingPlanes||l.numClippingPlanes===te.numPlanes&&l.numIntersection===te.numIntersection?(l.outputEncoding!==a||l.envMap!==s)&&Te(n,t,r):Te(n,t,r):(Te(n,t,r),l.__version=n.version);let u=!1,h=!1,p=!1;const m=l.program,g=m.getUniforms(),v=l.uniforms;if(V.useProgram(m.program)&&(u=!0,h=!0,p=!0),n.id!==x&&(x=n.id,h=!0),u||_!==e){if(g.setValue(ue,"projectionMatrix",e.projectionMatrix),H.logarithmicDepthBuffer&&g.setValue(ue,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),_!==e&&(_=e,h=!0,p=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){const t=g.map.cameraPosition;void 0!==t&&t.setValue(ue,F.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&g.setValue(ue,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&g.setValue(ue,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){g.setOptional(ue,r,"bindMatrix"),g.setOptional(ue,r,"bindMatrixInverse");const e=r.skeleton;if(e){const t=e.bones;if(H.floatVertexTextures){if(void 0===e.boneTexture){let n=Math.sqrt(4*t.length);n=oe.ceilPowerOfTwo(n),n=Math.max(n,4);const r=new Float32Array(n*n*4);r.set(e.boneMatrices);const i=new jn(r,n,n,1023,1015);e.boneMatrices=r,e.boneTexture=i,e.boneTextureSize=n}g.setValue(ue,"boneTexture",e.boneTexture,q),g.setValue(ue,"boneTextureSize",e.boneTextureSize)}else g.setOptional(ue,e,"boneMatrices")}}var b,w;return(h||l.receiveShadow!==r.receiveShadow)&&(l.receiveShadow=r.receiveShadow,g.setValue(ue,"receiveShadow",r.receiveShadow)),h&&(g.setValue(ue,"toneMappingExposure",f.toneMappingExposure),l.needsLights&&(w=p,(b=v).ambientLightColor.needsUpdate=w,b.lightProbe.needsUpdate=w,b.directionalLights.needsUpdate=w,b.directionalLightShadows.needsUpdate=w,b.pointLights.needsUpdate=w,b.pointLightShadows.needsUpdate=w,b.spotLights.needsUpdate=w,b.spotLightShadows.needsUpdate=w,b.rectAreaLights.needsUpdate=w,b.hemisphereLights.needsUpdate=w),i&&n.fog&&K.refreshFogUniforms(v,i),K.refreshMaterialUniforms(v,n,R,k),si.upload(ue,l.uniformsList,v,q)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(si.upload(ue,l.uniformsList,v,q),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&g.setValue(ue,"center",r.center),g.setValue(ue,"modelViewMatrix",r.modelViewMatrix),g.setValue(ue,"normalMatrix",r.normalMatrix),g.setValue(ue,"modelMatrix",r.matrixWorld),m}we.setAnimationLoop((function(e){pe.isPresenting||_e&&_e(e)})),"undefined"!=typeof window&&we.setContext(window),this.setAnimationLoop=function(e){_e=e,pe.setAnimationLoop(e),null===e?we.stop():we.start()},this.render=function(e,t){let n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),void 0!==t&&!0!==t.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===p)return;ce.resetDefaultState(),x=-1,_=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===pe.enabled&&!0===pe.isPresenting&&(t=pe.getCamera(t)),!0===e.isScene&&e.onBeforeRender(f,e,t,n||y),d=ee.get(e,t),d.init(),z.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),I.setFromProjectionMatrix(z),D=this.localClippingEnabled,N=te.init(this.clippingPlanes,D,t),h=J.get(e,t),h.init(),Se(e,t,0,f.sortObjects),h.finish(),!0===f.sortObjects&&h.sort(C,P),!0===N&&te.beginShadows();const i=d.state.shadowsArray;me.render(i,e,t),d.setupLights(t),!0===N&&te.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),ne.render(h,e,t,r);const o=h.opaque,a=h.transparent;o.length>0&&Ee(o,e,t),a.length>0&&Ee(a,e,t),!0===e.isScene&&e.onAfterRender(f,e,t),null!==y&&(q.updateRenderTargetMipmap(y),q.updateMultisampleRenderTarget(y)),V.buffers.depth.setTest(!0),V.buffers.depth.setMask(!0),V.buffers.color.setMask(!0),V.setPolygonOffset(!1),h=null,d=null},this.setFramebuffer=function(e){m!==e&&null===y&&ue.bindFramebuffer(36160,e),m=e},this.getActiveCubeFace=function(){return g},this.getActiveMipmapLevel=function(){return v},this.getRenderList=function(){return h},this.setRenderList=function(e){h=e},this.getRenderState=function(){return d},this.setRenderState=function(e){d=e},this.getRenderTarget=function(){return y},this.setRenderTarget=function(e,t=0,n=0){y=e,g=t,v=n,e&&void 0===W.get(e).__webglFramebuffer&&q.setupRenderTarget(e);let r=m,i=!1;if(e){const n=W.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=n[t],i=!0):r=e.isWebGLMultisampleRenderTarget?W.get(e).__webglMultisampledFramebuffer:n,S.copy(e.viewport),E.copy(e.scissor),M=e.scissorTest}else S.copy(A).multiplyScalar(R).floor(),E.copy(L).multiplyScalar(R).floor(),M=O;if(b!==r&&(ue.bindFramebuffer(36160,r),b=r),V.viewport(S),V.scissor(E),V.setScissorTest(M),i){const r=W.get(e.texture);ue.framebufferTexture2D(36160,36064,34069+t,r.__webglTexture,n)}},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(!e||!e.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let s=W.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){let a=!1;s!==b&&(ue.bindFramebuffer(36160,s),a=!0);try{const s=e.texture,l=s.format,c=s.type;if(1023!==l&&le.convert(l)!==ue.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(1009===c||le.convert(c)===ue.getParameter(35738)||1015===c&&(H.isWebGL2||j.get("OES_texture_float")||j.get("WEBGL_color_buffer_float"))||1016===c&&(H.isWebGL2?j.get("EXT_color_buffer_float"):j.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ue.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ue.readPixels(t,n,r,i,le.convert(l),le.convert(c),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{a&&ue.bindFramebuffer(36160,b)}}},this.copyFramebufferToTexture=function(e,t,n){void 0===n&&(n=0);const r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r),a=le.convert(t.format);q.setTexture2D(t,0),ue.copyTexImage2D(3553,n,a,e.x,e.y,i,o,0),V.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r){void 0===r&&(r=0);const i=t.image.width,o=t.image.height,a=le.convert(n.format),s=le.convert(n.type);q.setTexture2D(n,0),ue.pixelStorei(37440,n.flipY),ue.pixelStorei(37441,n.premultiplyAlpha),ue.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ue.texSubImage2D(3553,r,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?ue.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):ue.texSubImage2D(3553,r,e.x,e.y,a,s,t.image),0===r&&n.generateMipmaps&&ue.generateMipmap(3553),V.unbindTexture()},this.initTexture=function(e){q.setTexture2D(e,0),V.unbindTexture()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Ki(e){$i.call(this,e)}qi.prototype=Object.assign(Object.create(zn.prototype),{constructor:qi,isArrayCamera:!0}),Xi.prototype=Object.assign(Object.create(mt.prototype),{constructor:Xi,isGroup:!0}),Object.assign(Yi.prototype,{constructor:Yi,getHandSpace:function(){if(null===this._hand&&(this._hand=new Xi,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints=[],this._hand.inputState={pinching:!1},window.XRHand))for(let e=0;e<=window.XRHand.LITTLE_PHALANX_TIP;e++){const e=new Xi;e.matrixAutoUpdate=!1,e.visible=!1,this._hand.joints.push(e),this._hand.add(e)}return this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Xi,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Xi,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(e,t,n){let r=null,i=null,o=null;const a=this._targetRay,s=this._grip,l=this._hand;if(e)if(l&&e.hand){o=!0;for(let r=0;r<=window.XRHand.LITTLE_PHALANX_TIP;r++)if(e.hand[r]){const i=t.getJointPose(e.hand[r],n),o=l.joints[r];null!==i&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.jointRadius=i.radius),o.visible=null!==i;const a=l.joints[window.XRHand.INDEX_PHALANX_TIP],s=l.joints[window.XRHand.THUMB_PHALANX_TIP],c=a.position.distanceTo(s.position),u=.02,h=.005;l.inputState.pinching&&c>u+h?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&c<=u-h&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}}else null!==a&&(r=t.getPose(e.targetRaySpace,n),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale))),null!==s&&e.gripSpace&&(i=t.getPose(e.gripSpace,n),null!==i&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale)));return null!==a&&(a.visible=null!==r),null!==s&&(s.visible=null!==i),null!==l&&(l.visible=null!==o),this}}),Object.assign(Zi.prototype,ne.prototype),Ki.prototype=Object.assign(Object.create($i.prototype),{constructor:Ki,isWebGL1Renderer:!0});class Ji{constructor(e,t){Object.defineProperty(this,"isFogExp2",{value:!0}),this.name="",this.color=new zt(e),this.density=void 0!==t?t:25e-5}clone(){return new Ji(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class eo{constructor(e,t,n){Object.defineProperty(this,"isFog",{value:!0}),this.name="",this.color=new zt(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}clone(){return new eo(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class to extends mt{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t}}function no(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=oe.generateUUID()}Object.defineProperty(no.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(no.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(let r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=oe.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new no(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=oe.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const ro=new ge;function io(e,t,n,r){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function oo(e){Bt.call(this),this.type="SpriteMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}let ao;Object.defineProperties(io.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(e){this.data.needsUpdate=e}}}),Object.assign(io.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(let t=0,n=this.data.count;t<n;t++)ro.x=this.getX(t),ro.y=this.getY(t),ro.z=this.getZ(t),ro.applyMatrix4(e),this.setXYZ(t,ro.x,ro.y,ro.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this},clone:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return new Gt(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new io(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let t=0;t<this.count;t++){const n=t*this.data.stride+this.offset;for(let t=0;t<this.itemSize;t++)e.push(this.data.array[n+t])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),oo.prototype=Object.create(Bt.prototype),oo.prototype.constructor=oo,oo.prototype.isSpriteMaterial=!0,oo.prototype.copy=function(e){return Bt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};const so=new ge,lo=new ge,co=new ge,uo=new ae,ho=new ae,fo=new Ge,po=new ge,mo=new ge,go=new ge,vo=new ae,yo=new ae,bo=new ae;function xo(e){if(mt.call(this),this.type="Sprite",void 0===ao){ao=new un;const e=new no(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);ao.setIndex([0,1,2,0,2,3]),ao.setAttribute("position",new io(e,3,0,!1)),ao.setAttribute("uv",new io(e,2,3,!1))}this.geometry=ao,this.material=void 0!==e?e:new oo,this.center=new ae(.5,.5)}function _o(e,t,n,r,i,o){uo.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(ho.x=o*uo.x-i*uo.y,ho.y=i*uo.x+o*uo.y):ho.copy(uo),e.copy(t),e.x+=ho.x,e.y+=ho.y,e.applyMatrix4(fo)}xo.prototype=Object.assign(Object.create(mt.prototype),{constructor:xo,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),lo.setFromMatrixScale(this.matrixWorld),fo.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),co.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&lo.multiplyScalar(-co.z);const n=this.material.rotation;let r,i;0!==n&&(i=Math.cos(n),r=Math.sin(n));const o=this.center;_o(po.set(-.5,-.5,0),co,o,lo,r,i),_o(mo.set(.5,-.5,0),co,o,lo,r,i),_o(go.set(.5,.5,0),co,o,lo,r,i),vo.set(0,0),yo.set(1,0),bo.set(1,1);let a=e.ray.intersectTriangle(po,mo,go,!1,so);if(null===a&&(_o(mo.set(-.5,.5,0),co,o,lo,r,i),yo.set(0,1),a=e.ray.intersectTriangle(po,go,mo,!1,so),null===a))return;const s=e.ray.origin.distanceTo(so);s<e.near||s>e.far||t.push({distance:s,point:so.clone(),uv:Pt.getUV(so,po,mo,go,vo,yo,bo,new ae),face:null,object:this})},copy:function(e){return mt.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}});const wo=new ge,So=new ge;function Eo(){mt.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function Mo(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),Rn.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ge,this.bindMatrixInverse=new Ge}Eo.prototype=Object.assign(Object.create(mt.prototype),{constructor:Eo,isLOD:!0,copy:function(e){mt.prototype.copy.call(this,e,!1);const t=e.levels;for(let e=0,n=t.length;e<n;e++){const n=t[e];this.addLevel(n.object.clone(),n.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);const n=this.levels;let r;for(r=0;r<n.length&&!(t<n[r].distance);r++);return n.splice(r,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){const t=this.levels;if(t.length>0){let n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){wo.setFromMatrixPosition(this.matrixWorld);const n=e.ray.origin.distanceTo(wo);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){const t=this.levels;if(t.length>1){wo.setFromMatrixPosition(e.matrixWorld),So.setFromMatrixPosition(this.matrixWorld);const n=wo.distanceTo(So)/e.zoom;let r,i;for(t[0].object.visible=!0,r=1,i=t.length;r<i&&n>=t[r].distance;r++)t[r-1].object.visible=!1,t[r].object.visible=!0;for(this._currentLevel=r-1;r<i;r++)t[r].object.visible=!1}},toJSON:function(e){const t=mt.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];const n=this.levels;for(let e=0,r=n.length;e<r;e++){const r=n[e];t.object.levels.push({object:r.object.uuid,distance:r.distance})}return t}}),Mo.prototype=Object.assign(Object.create(Rn.prototype),{constructor:Mo,isSkinnedMesh:!0,copy:function(e){return Rn.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const e=new de,t=this.geometry.attributes.skinWeight;for(let n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);const r=1/e.manhattanLength();r!==1/0?e.multiplyScalar(r):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){Rn.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){const e=new ge,t=new de,n=new de,r=new ge,i=new Ge;return function(o,a){const s=this.skeleton,l=this.geometry;t.fromBufferAttribute(l.attributes.skinIndex,o),n.fromBufferAttribute(l.attributes.skinWeight,o),e.fromBufferAttribute(l.attributes.position,o).applyMatrix4(this.bindMatrix),a.set(0,0,0);for(let o=0;o<4;o++){const l=n.getComponent(o);if(0!==l){const n=t.getComponent(o);i.multiplyMatrices(s.bones[n].matrixWorld,s.boneInverses[n]),a.addScaledVector(r.copy(e).applyMatrix4(i),l)}}return a.applyMatrix4(this.bindMatrixInverse)}}()});const To=new Ge,ko=new Ge;function Ro(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++)this.boneInverses.push(new Ge)}}function Co(){mt.call(this),this.type="Bone"}Object.assign(Ro.prototype,{calculateInverses:function(){this.boneInverses=[];for(let e=0,t=this.bones.length;e<t;e++){const t=new Ge;this.bones[e]&&t.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(t)}},pose:function(){for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&t.matrixWorld.getInverse(this.boneInverses[e])}for(let e=0,t=this.bones.length;e<t;e++){const t=this.bones[e];t&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))}},update:function(){const e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture;for(let r=0,i=e.length;r<i;r++){const i=e[r]?e[r].matrixWorld:ko;To.multiplyMatrices(i,t[r]),To.toArray(n,16*r)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new Ro(this.bones,this.boneInverses)},getBoneByName:function(e){for(let t=0,n=this.bones.length;t<n;t++){const n=this.bones[t];if(n.name===e)return n}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),Co.prototype=Object.assign(Object.create(mt.prototype),{constructor:Co,isBone:!0});const Po=new Ge,Ao=new Ge,Lo=[],Oo=new Rn;function Io(e,t,n){Rn.call(this,e,t),this.instanceMatrix=new Gt(new Float32Array(16*n),16),this.instanceColor=null,this.count=n,this.frustumCulled=!1}function No(e){Bt.call(this),this.type="LineBasicMaterial",this.color=new zt(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Io.prototype=Object.assign(Object.create(Rn.prototype),{constructor:Io,isInstancedMesh:!0,copy:function(e){return Rn.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},setColorAt:function(e,t){null===this.instanceColor&&(this.instanceColor=new Gt(new Float32Array(3*this.count),3)),t.toArray(this.instanceColor.array,3*e)},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){const n=this.matrixWorld,r=this.count;if(Oo.geometry=this.geometry,Oo.material=this.material,void 0!==Oo.material)for(let i=0;i<r;i++){this.getMatrixAt(i,Po),Ao.multiplyMatrices(n,Po),Oo.matrixWorld=Ao,Oo.raycast(e,Lo);for(let e=0,n=Lo.length;e<n;e++){const n=Lo[e];n.instanceId=i,n.object=this,t.push(n)}Lo.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),No.prototype=Object.create(Bt.prototype),No.prototype.constructor=No,No.prototype.isLineBasicMaterial=!0,No.prototype.copy=function(e){return Bt.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};const Do=new ge,zo=new ge,Fo=new Ge,Uo=new Ve,Bo=new Ne;function jo(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),mt.call(this),this.type="Line",this.geometry=void 0!==e?e:new un,this.material=void 0!==t?t:new No,this.updateMorphTargets()}jo.prototype=Object.assign(Object.create(mt.prototype),{constructor:jo,isLine:!0,copy:function(e){return mt.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,n=[0];for(let e=1,r=t.count;e<r;e++)Do.fromBufferAttribute(t,e-1),zo.fromBufferAttribute(t,e),n[e]=n[e-1],n[e]+=Do.distanceTo(zo);e.setAttribute("lineDistance",new Kt(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;n[0]=0;for(let e=1,r=t.length;e<r;e++)n[e]=n[e-1],n[e]+=t[e-1].distanceTo(t[e])}return this},raycast:function(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Bo.copy(n.boundingSphere),Bo.applyMatrix4(r),Bo.radius+=i,!1===e.ray.intersectsSphere(Bo))return;Fo.getInverse(r),Uo.copy(e.ray).applyMatrix4(Fo);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new ge,l=new ge,c=new ge,u=new ge,h=this.isLineSegments?2:1;if(n.isBufferGeometry){const r=n.index,i=n.attributes.position;if(null!==r){const n=r.array;for(let r=0,o=n.length-1;r<o;r+=h){const o=n[r],h=n[r+1];s.fromBufferAttribute(i,o),l.fromBufferAttribute(i,h);if(Uo.distanceSqToSegment(s,l,u,c)>a)continue;u.applyMatrix4(this.matrixWorld);const d=e.ray.origin.distanceTo(u);d<e.near||d>e.far||t.push({distance:d,point:c.clone().applyMatrix4(this.matrixWorld),index:r,face:null,faceIndex:null,object:this})}}else for(let n=0,r=i.count-1;n<r;n+=h){s.fromBufferAttribute(i,n),l.fromBufferAttribute(i,n+1);if(Uo.distanceSqToSegment(s,l,u,c)>a)continue;u.applyMatrix4(this.matrixWorld);const r=e.ray.origin.distanceTo(u);r<e.near||r>e.far||t.push({distance:r,point:c.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else if(n.isGeometry){const r=n.vertices,i=r.length;for(let n=0;n<i-1;n+=h){if(Uo.distanceSqToSegment(r[n],r[n+1],u,c)>a)continue;u.applyMatrix4(this.matrixWorld);const i=e.ray.origin.distanceTo(u);i<e.near||i>e.far||t.push({distance:i,point:c.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const Ho=new ge,Vo=new ge;function Go(e,t){jo.call(this,e,t),this.type="LineSegments"}function Wo(e,t){jo.call(this,e,t),this.type="LineLoop"}function qo(e){Bt.call(this),this.type="PointsMaterial",this.color=new zt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Go.prototype=Object.assign(Object.create(jo.prototype),{constructor:Go,isLineSegments:!0,computeLineDistances:function(){const e=this.geometry;if(e.isBufferGeometry)if(null===e.index){const t=e.attributes.position,n=[];for(let e=0,r=t.count;e<r;e+=2)Ho.fromBufferAttribute(t,e),Vo.fromBufferAttribute(t,e+1),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+Ho.distanceTo(Vo);e.setAttribute("lineDistance",new Kt(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){const t=e.vertices,n=e.lineDistances;for(let e=0,r=t.length;e<r;e+=2)Ho.copy(t[e]),Vo.copy(t[e+1]),n[e]=0===e?0:n[e-1],n[e+1]=n[e]+Ho.distanceTo(Vo)}return this}}),Wo.prototype=Object.assign(Object.create(jo.prototype),{constructor:Wo,isLineLoop:!0}),qo.prototype=Object.create(Bt.prototype),qo.prototype.constructor=qo,qo.prototype.isPointsMaterial=!0,qo.prototype.copy=function(e){return Bt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};const Xo=new Ge,Yo=new Ve,Zo=new Ne,Qo=new ge;function $o(e,t){mt.call(this),this.type="Points",this.geometry=void 0!==e?e:new un,this.material=void 0!==t?t:new qo,this.updateMorphTargets()}function Ko(e,t,n,r,i,o,a){const s=Yo.distanceSqToPoint(e);if(s<n){const n=new ge;Yo.closestPointToPoint(e,n),n.applyMatrix4(r);const l=i.ray.origin.distanceTo(n);if(l<i.near||l>i.far)return;o.push({distance:l,distanceToRay:Math.sqrt(s),point:n,index:t,face:null,object:a})}}function Jo(e,t,n,r,i,o,a,s,l){he.call(this,e,t,n,r,i,o,a,s,l),this.format=void 0!==a?a:1022,this.minFilter=void 0!==o?o:1006,this.magFilter=void 0!==i?i:1006,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback((function t(){c.needsUpdate=!0,e.requestVideoFrameCallback(t)}))}function ea(e,t,n,r,i,o,a,s,l,c,u,h){he.call(this,null,o,a,s,l,c,r,i,u,h),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function ta(e,t,n,r,i,o,a,s,l){he.call(this,e,t,n,r,i,o,a,s,l),this.needsUpdate=!0}function na(e,t,n,r,i,o,a,s,l,c){if(1026!==(c=void 0!==c?c:1026)&&1027!==c)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&1026===c&&(n=1012),void 0===n&&1027===c&&(n=1020),he.call(this,null,r,i,o,a,s,c,n,l),this.image={width:e,height:t},this.magFilter=void 0!==a?a:1003,this.minFilter=void 0!==s?s:1003,this.flipY=!1,this.generateMipmaps=!1}$o.prototype=Object.assign(Object.create(mt.prototype),{constructor:$o,isPoints:!0,copy:function(e){return mt.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){const n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Zo.copy(n.boundingSphere),Zo.applyMatrix4(r),Zo.radius+=i,!1===e.ray.intersectsSphere(Zo))return;Xo.getInverse(r),Yo.copy(e.ray).applyMatrix4(Xo);const o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(n.isBufferGeometry){const i=n.index,o=n.attributes.position;if(null!==i){const n=i.array;for(let i=0,s=n.length;i<s;i++){const s=n[i];Qo.fromBufferAttribute(o,s),Ko(Qo,s,a,r,e,t,this)}}else for(let n=0,i=o.count;n<i;n++)Qo.fromBufferAttribute(o,n),Ko(Qo,n,a,r,e,t,this)}else{const i=n.vertices;for(let n=0,o=i.length;n<o;n++)Ko(i[n],n,a,r,e,t,this)}},updateMorphTargets:function(){const e=this.geometry;if(e.isBufferGeometry){const t=e.morphAttributes,n=Object.keys(t);if(n.length>0){const e=t[n[0]];if(void 0!==e){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let t=0,n=e.length;t<n;t++){const n=e[t].name||String(t);this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}}}else{const t=e.morphTargets;void 0!==t&&t.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),Jo.prototype=Object.assign(Object.create(he.prototype),{constructor:Jo,isVideoTexture:!0,update:function(){const e=this.image;!1==="requestVideoFrameCallback"in e&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),ea.prototype=Object.create(he.prototype),ea.prototype.constructor=ea,ea.prototype.isCompressedTexture=!0,ta.prototype=Object.create(he.prototype),ta.prototype.constructor=ta,ta.prototype.isCanvasTexture=!0,na.prototype=Object.create(he.prototype),na.prototype.constructor=na,na.prototype.isDepthTexture=!0;let ra=0;const ia=new Ge,oa=new mt,aa=new ge;function sa(){Object.defineProperty(this,"id",{value:ra+=2}),this.uuid=oe.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}sa.prototype=Object.assign(Object.create(ne.prototype),{constructor:sa,isGeometry:!0,applyMatrix4:function(e){const t=(new se).getNormalMatrix(e);for(let t=0,n=this.vertices.length;t<n;t++){this.vertices[t].applyMatrix4(e)}for(let e=0,n=this.faces.length;e<n;e++){const n=this.faces[e];n.normal.applyMatrix3(t).normalize();for(let e=0,r=n.vertexNormals.length;e<r;e++)n.vertexNormals[e].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return ia.makeRotationX(e),this.applyMatrix4(ia),this},rotateY:function(e){return ia.makeRotationY(e),this.applyMatrix4(ia),this},rotateZ:function(e){return ia.makeRotationZ(e),this.applyMatrix4(ia),this},translate:function(e,t,n){return ia.makeTranslation(e,t,n),this.applyMatrix4(ia),this},scale:function(e,t,n){return ia.makeScale(e,t,n),this.applyMatrix4(ia),this},lookAt:function(e){return oa.lookAt(e),oa.updateMatrix(),this.applyMatrix4(oa.matrix),this},fromBufferGeometry:function(e){const t=this,n=null!==e.index?e.index:void 0,r=e.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;const i=r.position,o=r.normal,a=r.color,s=r.uv,l=r.uv2;void 0!==l&&(this.faceVertexUvs[1]=[]);for(let e=0;e<i.count;e++)t.vertices.push((new ge).fromBufferAttribute(i,e)),void 0!==a&&t.colors.push((new zt).fromBufferAttribute(a,e));function c(e,n,r,i){const c=void 0===a?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],u=void 0===o?[]:[(new ge).fromBufferAttribute(o,e),(new ge).fromBufferAttribute(o,n),(new ge).fromBufferAttribute(o,r)],h=new Ft(e,n,r,u,c,i);t.faces.push(h),void 0!==s&&t.faceVertexUvs[0].push([(new ae).fromBufferAttribute(s,e),(new ae).fromBufferAttribute(s,n),(new ae).fromBufferAttribute(s,r)]),void 0!==l&&t.faceVertexUvs[1].push([(new ae).fromBufferAttribute(l,e),(new ae).fromBufferAttribute(l,n),(new ae).fromBufferAttribute(l,r)])}const u=e.groups;if(u.length>0)for(let e=0;e<u.length;e++){const t=u[e],r=t.start;for(let e=r,i=r+t.count;e<i;e+=3)void 0!==n?c(n.getX(e),n.getX(e+1),n.getX(e+2),t.materialIndex):c(e,e+1,e+2,t.materialIndex)}else if(void 0!==n)for(let e=0;e<n.count;e+=3)c(n.getX(e),n.getX(e+1),n.getX(e+2));else for(let e=0;e<i.count;e+=3)c(e,e+1,e+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(aa).negate(),this.translate(aa.x,aa.y,aa.z),this},normalize:function(){this.computeBoundingSphere();const e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new Ge;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(r),this},computeFaceNormals:function(){const e=new ge,t=new ge;for(let n=0,r=this.faces.length;n<r;n++){const r=this.faces[n],i=this.vertices[r.a],o=this.vertices[r.b],a=this.vertices[r.c];e.subVectors(a,o),t.subVectors(i,o),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);const t=new Array(this.vertices.length);for(let e=0,n=this.vertices.length;e<n;e++)t[e]=new ge;if(e){const e=new ge,n=new ge;for(let r=0,i=this.faces.length;r<i;r++){const i=this.faces[r],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),n.subVectors(o,a),e.cross(n),t[i.a].add(e),t[i.b].add(e),t[i.c].add(e)}}else{this.computeFaceNormals();for(let e=0,n=this.faces.length;e<n;e++){const n=this.faces[e];t[n.a].add(n.normal),t[n.b].add(n.normal),t[n.c].add(n.normal)}}for(let e=0,n=this.vertices.length;e<n;e++)t[e].normalize();for(let e=0,n=this.faces.length;e<n;e++){const n=this.faces[e],r=n.vertexNormals;3===r.length?(r[0].copy(t[n.a]),r[1].copy(t[n.b]),r[2].copy(t[n.c])):(r[0]=t[n.a].clone(),r[1]=t[n.b].clone(),r[2]=t[n.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e],n=t.vertexNormals;3===n.length?(n[0].copy(t.normal),n[1].copy(t.normal),n[2].copy(t.normal)):(n[0]=t.normal.clone(),n[1]=t.normal.clone(),n[2]=t.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e];t.__originalFaceNormal?t.__originalFaceNormal.copy(t.normal):t.__originalFaceNormal=t.normal.clone(),t.__originalVertexNormals||(t.__originalVertexNormals=[]);for(let e=0,n=t.vertexNormals.length;e<n;e++)t.__originalVertexNormals[e]?t.__originalVertexNormals[e].copy(t.vertexNormals[e]):t.__originalVertexNormals[e]=t.vertexNormals[e].clone()}const e=new sa;e.faces=this.faces;for(let t=0,n=this.morphTargets.length;t<n;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];const e=this.morphNormals[t].faceNormals,n=this.morphNormals[t].vertexNormals;for(let t=0,r=this.faces.length;t<r;t++){const t=new ge,r={a:new ge,b:new ge,c:new ge};e.push(t),n.push(r)}}const n=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e],r=n.faceNormals[e],i=n.vertexNormals[e];r.copy(t.normal),i.a.copy(t.vertexNormals[0]),i.b.copy(t.vertexNormals[1]),i.c.copy(t.vertexNormals[2])}}for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e];t.normal=t.__originalFaceNormal,t.vertexNormals=t.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new be),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ne),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(!e||!e.isGeometry)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);let r;const i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,l=e.faces,c=this.colors,u=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new se).getNormalMatrix(t));for(let e=0,n=a.length;e<n;e++){const n=a[e].clone();void 0!==t&&n.applyMatrix4(t),o.push(n)}for(let e=0,t=u.length;e<t;e++)c.push(u[e].clone());for(let e=0,t=l.length;e<t;e++){const t=l[e];let o,a;const c=t.vertexNormals,u=t.vertexColors,h=new Ft(t.a+i,t.b+i,t.c+i);h.normal.copy(t.normal),void 0!==r&&h.normal.applyMatrix3(r).normalize();for(let e=0,t=c.length;e<t;e++)o=c[e].clone(),void 0!==r&&o.applyMatrix3(r).normalize(),h.vertexNormals.push(o);h.color.copy(t.color);for(let e=0,t=u.length;e<t;e++)a=u[e],h.vertexColors.push(a.clone());h.materialIndex=t.materialIndex+n,s.push(h)}for(let t=0,n=e.faceVertexUvs.length;t<n;t++){const n=e.faceVertexUvs[t];void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]);for(let e=0,r=n.length;e<r;e++){const r=n[e],i=[];for(let e=0,t=r.length;e<t;e++)i.push(r[e].clone());this.faceVertexUvs[t].push(i)}}},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){const e={},t=[],n=[],r=Math.pow(10,4);for(let i=0,o=this.vertices.length;i<o;i++){const o=this.vertices[i],a=Math.round(o.x*r)+"_"+Math.round(o.y*r)+"_"+Math.round(o.z*r);void 0===e[a]?(e[a]=i,t.push(this.vertices[i]),n[i]=t.length-1):n[i]=n[e[a]]}const i=[];for(let e=0,t=this.faces.length;e<t;e++){const t=this.faces[e];t.a=n[t.a],t.b=n[t.b],t.c=n[t.c];const r=[t.a,t.b,t.c];for(let t=0;t<3;t++)if(r[t]===r[(t+1)%3]){i.push(e);break}}for(let e=i.length-1;e>=0;e--){const t=i[e];this.faces.splice(t,1);for(let e=0,n=this.faceVertexUvs.length;e<n;e++)this.faceVertexUvs[e].splice(t,1)}const o=this.vertices.length-t.length;return this.vertices=t,o},setFromPoints:function(e){this.vertices=[];for(let t=0,n=e.length;t<n;t++){const n=e[t];this.vertices.push(new ge(n.x,n.y,n.z||0))}return this},sortFacesByMaterialIndex:function(){const e=this.faces,t=e.length;for(let n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));const n=this.faceVertexUvs[0],r=this.faceVertexUvs[1];let i,o;n&&n.length===t&&(i=[]),r&&r.length===t&&(o=[]);for(let a=0;a<t;a++){const t=e[a]._id;i&&i.push(n[t]),o&&o.push(r[t])}i&&(this.faceVertexUvs[0]=i),o&&(this.faceVertexUvs[1]=o)},toJSON:function(){const e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){const t=this.parameters;for(const n in t)void 0!==t[n]&&(e[n]=t[n]);return e}const t=[];for(let e=0;e<this.vertices.length;e++){const n=this.vertices[e];t.push(n.x,n.y,n.z)}const n=[],r=[],i={},o=[],a={},s=[],l={};for(let e=0;e<this.faces.length;e++){const t=this.faces[e],r=!0,i=!1,o=void 0!==this.faceVertexUvs[0][e],a=t.normal.length()>0,s=t.vertexNormals.length>0,l=1!==t.color.r||1!==t.color.g||1!==t.color.b,f=t.vertexColors.length>0;let p=0;if(p=c(p,0,0),p=c(p,1,r),p=c(p,2,i),p=c(p,3,o),p=c(p,4,a),p=c(p,5,s),p=c(p,6,l),p=c(p,7,f),n.push(p),n.push(t.a,t.b,t.c),n.push(t.materialIndex),o){const t=this.faceVertexUvs[0][e];n.push(d(t[0]),d(t[1]),d(t[2]))}if(a&&n.push(u(t.normal)),s){const e=t.vertexNormals;n.push(u(e[0]),u(e[1]),u(e[2]))}if(l&&n.push(h(t.color)),f){const e=t.vertexColors;n.push(h(e[0]),h(e[1]),h(e[2]))}}function c(e,t,n){return n?e|1<<t:e&~(1<<t)}function u(e){const t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==i[t]||(i[t]=r.length/3,r.push(e.x,e.y,e.z)),i[t]}function h(e){const t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==a[t]||(a[t]=o.length,o.push(e.getHex())),a[t]}function d(e){const t=e.x.toString()+e.y.toString();return void 0!==l[t]||(l[t]=s.length/2,s.push(e.x,e.y)),l[t]}return e.data={},e.data.vertices=t,e.data.normals=r,o.length>0&&(e.data.colors=o),s.length>0&&(e.data.uvs=[s]),e.data.faces=n,e},clone:function(){return(new sa).copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;const t=e.vertices;for(let e=0,n=t.length;e<n;e++)this.vertices.push(t[e].clone());const n=e.colors;for(let e=0,t=n.length;e<t;e++)this.colors.push(n[e].clone());const r=e.faces;for(let e=0,t=r.length;e<t;e++)this.faces.push(r[e].clone());for(let t=0,n=e.faceVertexUvs.length;t<n;t++){const n=e.faceVertexUvs[t];void 0===this.faceVertexUvs[t]&&(this.faceVertexUvs[t]=[]);for(let e=0,r=n.length;e<r;e++){const r=n[e],i=[];for(let e=0,t=r.length;e<t;e++){const t=r[e];i.push(t.clone())}this.faceVertexUvs[t].push(i)}}const i=e.morphTargets;for(let e=0,t=i.length;e<t;e++){const t={};if(t.name=i[e].name,void 0!==i[e].vertices){t.vertices=[];for(let n=0,r=i[e].vertices.length;n<r;n++)t.vertices.push(i[e].vertices[n].clone())}if(void 0!==i[e].normals){t.normals=[];for(let n=0,r=i[e].normals.length;n<r;n++)t.normals.push(i[e].normals[n].clone())}this.morphTargets.push(t)}const o=e.morphNormals;for(let e=0,t=o.length;e<t;e++){const t={};if(void 0!==o[e].vertexNormals){t.vertexNormals=[];for(let n=0,r=o[e].vertexNormals.length;n<r;n++){const r=o[e].vertexNormals[n],i={};i.a=r.a.clone(),i.b=r.b.clone(),i.c=r.c.clone(),t.vertexNormals.push(i)}}if(void 0!==o[e].faceNormals){t.faceNormals=[];for(let n=0,r=o[e].faceNormals.length;n<r;n++)t.faceNormals.push(o[e].faceNormals[n].clone())}this.morphNormals.push(t)}const a=e.skinWeights;for(let e=0,t=a.length;e<t;e++)this.skinWeights.push(a[e].clone());const s=e.skinIndices;for(let e=0,t=s.length;e<t;e++)this.skinIndices.push(s[e].clone());const l=e.lineDistances;for(let e=0,t=l.length;e<t;e++)this.lineDistances.push(l[e]);const c=e.boundingBox;null!==c&&(this.boundingBox=c.clone());const u=e.boundingSphere;return null!==u&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class la extends sa{constructor(e,t,n,r,i,o){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:n,widthSegments:r,heightSegments:i,depthSegments:o},this.fromBufferGeometry(new An(e,t,n,r,i,o)),this.mergeVertices()}}class ca extends un{constructor(e,t,n,r){super(),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;const i=[],o=[],a=[],s=[],l=new ge,c=new ae;o.push(0,0,0),a.push(0,0,1),s.push(.5,.5);for(let i=0,u=3;i<=t;i++,u+=3){const h=n+i/t*r;l.x=e*Math.cos(h),l.y=e*Math.sin(h),o.push(l.x,l.y,l.z),a.push(0,0,1),c.x=(o[u]/e+1)/2,c.y=(o[u+1]/e+1)/2,s.push(c.x,c.y)}for(let e=1;e<=t;e++)i.push(e,e+1,0);this.setIndex(i),this.setAttribute("position",new Kt(o,3)),this.setAttribute("normal",new Kt(a,3)),this.setAttribute("uv",new Kt(s,2))}}class ua extends sa{constructor(e,t,n,r){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new ca(e,t,n,r)),this.mergeVertices()}}class ha extends un{constructor(e,t,n,r,i,o,a,s){super(),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};const l=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;const c=[],u=[],h=[],d=[];let f=0;const p=[],m=n/2;let g=0;function v(n){const i=f,o=new ae,p=new ge;let v=0;const y=!0===n?e:t,b=!0===n?1:-1;for(let e=1;e<=r;e++)u.push(0,m*b,0),h.push(0,b,0),d.push(.5,.5),f++;const x=f;for(let e=0;e<=r;e++){const t=e/r*s+a,n=Math.cos(t),i=Math.sin(t);p.x=y*i,p.y=m*b,p.z=y*n,u.push(p.x,p.y,p.z),h.push(0,b,0),o.x=.5*n+.5,o.y=.5*i*b+.5,d.push(o.x,o.y),f++}for(let e=0;e<r;e++){const t=i+e,r=x+e;!0===n?c.push(r,r+1,t):c.push(r+1,r,t),v+=3}l.addGroup(g,v,!0===n?1:2),g+=v}!function(){const o=new ge,v=new ge;let y=0;const b=(t-e)/n;for(let l=0;l<=i;l++){const c=[],g=l/i,y=g*(t-e)+e;for(let e=0;e<=r;e++){const t=e/r,i=t*s+a,l=Math.sin(i),p=Math.cos(i);v.x=y*l,v.y=-g*n+m,v.z=y*p,u.push(v.x,v.y,v.z),o.set(l,b,p).normalize(),h.push(o.x,o.y,o.z),d.push(t,1-g),c.push(f++)}p.push(c)}for(let e=0;e<r;e++)for(let t=0;t<i;t++){const n=p[t][e],r=p[t+1][e],i=p[t+1][e+1],o=p[t][e+1];c.push(n,r,o),c.push(r,i,o),y+=6}l.addGroup(g,y,0),g+=y}(),!1===o&&(e>0&&v(!0),t>0&&v(!1)),this.setIndex(c),this.setAttribute("position",new Kt(u,3)),this.setAttribute("normal",new Kt(h,3)),this.setAttribute("uv",new Kt(d,2))}}class da extends sa{constructor(e,t,n,r,i,o,a,s){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new ha(e,t,n,r,i,o,a,s)),this.mergeVertices()}}class fa extends da{constructor(e,t,n,r,i,o,a){super(0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}}class pa extends ha{constructor(e,t,n,r,i,o,a){super(0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}}class ma extends un{constructor(e,t,n,r){super(),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;const i=[],o=[];function a(e,t,n,r){const i=r+1,o=[];for(let r=0;r<=i;r++){o[r]=[];const a=e.clone().lerp(n,r/i),s=t.clone().lerp(n,r/i),l=i-r;for(let e=0;e<=l;e++)o[r][e]=0===e&&r===i?a:a.clone().lerp(s,e/l)}for(let e=0;e<i;e++)for(let t=0;t<2*(i-e)-1;t++){const n=Math.floor(t/2);t%2==0?(s(o[e][n+1]),s(o[e+1][n]),s(o[e][n])):(s(o[e][n+1]),s(o[e+1][n+1]),s(o[e+1][n]))}}function s(e){i.push(e.x,e.y,e.z)}function l(t,n){const r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function u(e){return Math.atan2(e.z,-e.x)}!function(e){const n=new ge,r=new ge,i=new ge;for(let o=0;o<t.length;o+=3)l(t[o+0],n),l(t[o+1],r),l(t[o+2],i),a(n,r,i,e)}(r=r||0),function(e){const t=new ge;for(let n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){const e=new ge;for(let n=0;n<i.length;n+=3){e.x=i[n+0],e.y=i[n+1],e.z=i[n+2];const r=u(e)/2/Math.PI+.5,a=(t=e,Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))/Math.PI+.5);o.push(r,1-a)}var t;(function(){const e=new ge,t=new ge,n=new ge,r=new ge,a=new ae,s=new ae,l=new ae;for(let h=0,d=0;h<i.length;h+=9,d+=6){e.set(i[h+0],i[h+1],i[h+2]),t.set(i[h+3],i[h+4],i[h+5]),n.set(i[h+6],i[h+7],i[h+8]),a.set(o[d+0],o[d+1]),s.set(o[d+2],o[d+3]),l.set(o[d+4],o[d+5]),r.copy(e).add(t).add(n).divideScalar(3);const f=u(r);c(a,d+0,e,f),c(s,d+2,t,f),c(l,d+4,n,f)}})(),function(){for(let e=0;e<o.length;e+=6){const t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}()}(),this.setAttribute("position",new Kt(i,3)),this.setAttribute("normal",new Kt(i.slice(),3)),this.setAttribute("uv",new Kt(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}}class ga extends ma{constructor(e,t){const n=(1+Math.sqrt(5))/2,r=1/n;super([-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}}class va extends sa{constructor(e,t){super(),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ga(e,t)),this.mergeVertices()}}const ya=new ge,ba=new ge,xa=new ge,_a=new Pt;class wa extends un{constructor(e,t){super(),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1,e.isGeometry&&(e=(new un).fromGeometry(e));const n=Math.pow(10,4),r=Math.cos(oe.DEG2RAD*t),i=e.getIndex(),o=e.getAttribute("position"),a=i?i.count:o.count,s=[0,0,0],l=["a","b","c"],c=new Array(3),u={},h=[];for(let e=0;e<a;e+=3){i?(s[0]=i.getX(e),s[1]=i.getX(e+1),s[2]=i.getX(e+2)):(s[0]=e,s[1]=e+1,s[2]=e+2);const{a:t,b:a,c:d}=_a;if(t.fromBufferAttribute(o,s[0]),a.fromBufferAttribute(o,s[1]),d.fromBufferAttribute(o,s[2]),_a.getNormal(xa),c[0]=`${Math.round(t.x*n)},${Math.round(t.y*n)},${Math.round(t.z*n)}`,c[1]=`${Math.round(a.x*n)},${Math.round(a.y*n)},${Math.round(a.z*n)}`,c[2]=`${Math.round(d.x*n)},${Math.round(d.y*n)},${Math.round(d.z*n)}`,c[0]!==c[1]&&c[1]!==c[2]&&c[2]!==c[0])for(let e=0;e<3;e++){const t=(e+1)%3,n=c[e],i=c[t],o=_a[l[e]],a=_a[l[t]],d=`${n}_${i}`,f=`${i}_${n}`;f in u&&u[f]?(xa.dot(u[f].normal)<=r&&(h.push(o.x,o.y,o.z),h.push(a.x,a.y,a.z)),u[f]=null):d in u||(u[d]={index0:s[e],index1:s[t],normal:xa.clone()})}}for(const e in u)if(u[e]){const{index0:t,index1:n}=u[e];ya.fromBufferAttribute(o,t),ba.fromBufferAttribute(o,n),h.push(ya.x,ya.y,ya.z),h.push(ba.x,ba.y,ba.z)}this.setAttribute("position",new Kt(h,3))}}const Sa=function(e,t,n){n=n||2;const r=t&&t.length,i=r?t[0]*n:e.length;let o=Ea(e,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c,u,h,d,f;if(r&&(o=function(e,t,n,r){const i=[];let o,a,s,l,c;for(o=0,a=t.length;o<a;o++)s=t[o]*r,l=o<a-1?t[o+1]*r:e.length,c=Ea(e,s,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Na(c));for(i.sort(Aa),o=0;o<i.length;o++)La(i[o],n),n=Ma(n,n.next);return n}(e,t,o,n)),e.length>80*n){s=c=e[0],l=u=e[1];for(let t=n;t<i;t+=n)h=e[t],d=e[t+1],h<s&&(s=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);f=Math.max(c-s,u-l),f=0!==f?1/f:0}return Ta(o,a,n,s,l,f),a};function Ea(e,t,n,r,i){let o,a;if(i===function(e,t,n,r){let i=0;for(let o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Wa(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Wa(o,e[o],e[o+1],a);return a&&Ua(a,a.next)&&(qa(a),a=a.next),a}function Ma(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!Ua(r,r.next)&&0!==Fa(r.prev,r,r.next))r=r.next;else{if(qa(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function Ta(e,t,n,r,i,o,a){if(!e)return;!a&&o&&function(e,t,n,r){let i=e;do{null===i.z&&(i.z=Ia(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n,r,i,o,a,s,l,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ,r);t++);for(l=c;s>0||l>0&&r;)0!==s&&(0===l||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(e,r,i,o);let s,l,c=e;for(;e.prev!==e.next;)if(s=e.prev,l=e.next,o?Ra(e,r,i,o):ka(e))t.push(s.i/n),t.push(e.i/n),t.push(l.i/n),qa(e),e=l.next,c=l.next;else if((e=l)===c){a?1===a?Ta(e=Ca(Ma(e),t,n),t,n,r,i,o,2):2===a&&Pa(e,t,n,r,i,o):Ta(Ma(e),t,n,r,i,o,1);break}}function ka(e){const t=e.prev,n=e,r=e.next;if(Fa(t,n,r)>=0)return!1;let i=e.next.next;for(;i!==e.prev;){if(Da(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Fa(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function Ra(e,t,n,r){const i=e.prev,o=e,a=e.next;if(Fa(i,o,a)>=0)return!1;const s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,l=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,u=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,h=Ia(s,l,t,n,r),d=Ia(c,u,t,n,r);let f=e.prevZ,p=e.nextZ;for(;f&&f.z>=h&&p&&p.z<=d;){if(f!==e.prev&&f!==e.next&&Da(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Fa(f.prev,f,f.next)>=0)return!1;if(f=f.prevZ,p!==e.prev&&p!==e.next&&Da(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Fa(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(;f&&f.z>=h;){if(f!==e.prev&&f!==e.next&&Da(i.x,i.y,o.x,o.y,a.x,a.y,f.x,f.y)&&Fa(f.prev,f,f.next)>=0)return!1;f=f.prevZ}for(;p&&p.z<=d;){if(p!==e.prev&&p!==e.next&&Da(i.x,i.y,o.x,o.y,a.x,a.y,p.x,p.y)&&Fa(p.prev,p,p.next)>=0)return!1;p=p.nextZ}return!0}function Ca(e,t,n){let r=e;do{const i=r.prev,o=r.next.next;!Ua(i,o)&&Ba(i,r,r.next,o)&&Va(i,o)&&Va(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),qa(r),qa(r.next),r=e=o),r=r.next}while(r!==e);return Ma(r)}function Pa(e,t,n,r,i,o){let a=e;do{let e=a.next.next;for(;e!==a.prev;){if(a.i!==e.i&&za(a,e)){let s=Ga(a,e);return a=Ma(a,a.next),s=Ma(s,s.next),Ta(a,t,n,r,i,o),void Ta(s,t,n,r,i,o)}e=e.next}a=a.next}while(a!==e)}function Aa(e,t){return e.x-t.x}function La(e,t){if(t=function(e,t){let n=t;const r=e.x,i=e.y;let o,a=-1/0;do{if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const e=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=r&&e>a){if(a=e,e===r){if(i===n.y)return n;if(i===n.next.y)return n.next}o=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!o)return null;if(r===a)return o;const s=o,l=o.x,c=o.y;let u,h=1/0;n=o;do{r>=n.x&&n.x>=l&&r!==n.x&&Da(i<c?r:a,i,l,c,i<c?a:r,i,n.x,n.y)&&(u=Math.abs(i-n.y)/(r-n.x),Va(n,e)&&(u<h||u===h&&(n.x>o.x||n.x===o.x&&Oa(o,n)))&&(o=n,h=u)),n=n.next}while(n!==s);return o}(e,t)){const n=Ga(t,e);Ma(t,t.next),Ma(n,n.next)}}function Oa(e,t){return Fa(e.prev,e,t.prev)<0&&Fa(t.next,e,e.next)<0}function Ia(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Na(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Da(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function za(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Ba(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Va(e,t)&&Va(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Fa(e.prev,e,t.prev)||Fa(e,t.prev,t))||Ua(e,t)&&Fa(e.prev,e,e.next)>0&&Fa(t.prev,t,t.next)>0)}function Fa(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Ua(e,t){return e.x===t.x&&e.y===t.y}function Ba(e,t,n,r){const i=Ha(Fa(e,t,n)),o=Ha(Fa(e,t,r)),a=Ha(Fa(n,r,e)),s=Ha(Fa(n,r,t));return i!==o&&a!==s||(!(0!==i||!ja(e,n,t))||(!(0!==o||!ja(e,r,t))||(!(0!==a||!ja(n,e,r))||!(0!==s||!ja(n,t,r)))))}function ja(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function Ha(e){return e>0?1:e<0?-1:0}function Va(e,t){return Fa(e.prev,e,e.next)<0?Fa(e,t,e.next)>=0&&Fa(e,e.prev,t)>=0:Fa(e,t,e.prev)<0||Fa(e,e.next,t)<0}function Ga(e,t){const n=new Xa(e.i,e.x,e.y),r=new Xa(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Wa(e,t,n,r){const i=new Xa(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function qa(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Xa(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const Ya={area:function(e){const t=e.length;let n=0;for(let r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return Ya.area(e)<0},triangulateShape:function(e,t){const n=[],r=[],i=[];Za(e),Qa(n,e);let o=e.length;t.forEach(Za);for(let e=0;e<t.length;e++)r.push(o),o+=t[e].length,Qa(n,t[e]);const a=Sa(n,r);for(let e=0;e<a.length;e+=3)i.push(a.slice(e,e+3));return i}};function Za(e){const t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Qa(e,t){for(let n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}class $a extends un{constructor(e,t){super(),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const n=this,r=[],i=[];for(let t=0,n=e.length;t<n;t++){o(e[t])}function o(e){const o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1;let l=void 0!==t.depth?t.depth:100,c=void 0===t.bevelEnabled||t.bevelEnabled,u=void 0!==t.bevelThickness?t.bevelThickness:6,h=void 0!==t.bevelSize?t.bevelSize:u-2,d=void 0!==t.bevelOffset?t.bevelOffset:0,f=void 0!==t.bevelSegments?t.bevelSegments:3;const p=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Ka;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=t.amount);let g,v,y,b,x,_=!1;p&&(g=p.getSpacedPoints(s),_=!0,c=!1,v=p.computeFrenetFrames(s,!1),y=new ge,b=new ge,x=new ge),c||(f=0,u=0,h=0,d=0);const w=e.extractPoints(a);let S=w.shape;const E=w.holes;if(!Ya.isClockWise(S)){S=S.reverse();for(let e=0,t=E.length;e<t;e++){const t=E[e];Ya.isClockWise(t)&&(E[e]=t.reverse())}}const M=Ya.triangulateShape(S,E),T=S;for(let e=0,t=E.length;e<t;e++){const t=E[e];S=S.concat(t)}function k(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}const R=S.length,C=M.length;function P(e,t,n){let r,i,o;const a=e.x-t.x,s=e.y-t.y,l=n.x-e.x,c=n.y-e.y,u=a*a+s*s,h=a*c-s*l;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(u),d=Math.sqrt(l*l+c*c),f=t.x-s/h,p=t.y+a/h,m=((n.x-c/d-f)*c-(n.y+l/d-p)*l)/(a*c-s*l);r=f+a*m-e.x,i=p+s*m-e.y;const g=r*r+i*i;if(g<=2)return new ae(r,i);o=Math.sqrt(g/2)}else{let e=!1;a>Number.EPSILON?l>Number.EPSILON&&(e=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(e=!0):Math.sign(s)===Math.sign(c)&&(e=!0),e?(r=-s,i=a,o=Math.sqrt(u)):(r=a,i=s,o=Math.sqrt(u/2))}return new ae(r/o,i/o)}const A=[];for(let e=0,t=T.length,n=t-1,r=e+1;e<t;e++,n++,r++)n===t&&(n=0),r===t&&(r=0),A[e]=P(T[e],T[n],T[r]);const L=[];let O,I=A.concat();for(let e=0,t=E.length;e<t;e++){const t=E[e];O=[];for(let e=0,n=t.length,r=n-1,i=e+1;e<n;e++,r++,i++)r===n&&(r=0),i===n&&(i=0),O[e]=P(t[e],t[r],t[i]);L.push(O),I=I.concat(O)}for(let e=0;e<f;e++){const t=e/f,n=u*Math.cos(t*Math.PI/2),r=h*Math.sin(t*Math.PI/2)+d;for(let e=0,t=T.length;e<t;e++){const t=k(T[e],A[e],r);z(t.x,t.y,-n)}for(let e=0,t=E.length;e<t;e++){const t=E[e];O=L[e];for(let e=0,i=t.length;e<i;e++){const i=k(t[e],O[e],r);z(i.x,i.y,-n)}}}const N=h+d;for(let e=0;e<R;e++){const t=c?k(S[e],I[e],N):S[e];_?(b.copy(v.normals[0]).multiplyScalar(t.x),y.copy(v.binormals[0]).multiplyScalar(t.y),x.copy(g[0]).add(b).add(y),z(x.x,x.y,x.z)):z(t.x,t.y,0)}for(let e=1;e<=s;e++)for(let t=0;t<R;t++){const n=c?k(S[t],I[t],N):S[t];_?(b.copy(v.normals[e]).multiplyScalar(n.x),y.copy(v.binormals[e]).multiplyScalar(n.y),x.copy(g[e]).add(b).add(y),z(x.x,x.y,x.z)):z(n.x,n.y,l/s*e)}for(let e=f-1;e>=0;e--){const t=e/f,n=u*Math.cos(t*Math.PI/2),r=h*Math.sin(t*Math.PI/2)+d;for(let e=0,t=T.length;e<t;e++){const t=k(T[e],A[e],r);z(t.x,t.y,l+n)}for(let e=0,t=E.length;e<t;e++){const t=E[e];O=L[e];for(let e=0,i=t.length;e<i;e++){const i=k(t[e],O[e],r);_?z(i.x,i.y+g[s-1].y,g[s-1].x+n):z(i.x,i.y,l+n)}}}function D(e,t){let n=e.length;for(;--n>=0;){const r=n;let i=n-1;i<0&&(i=e.length-1);for(let e=0,n=s+2*f;e<n;e++){const n=R*e,o=R*(e+1);U(t+r+n,t+i+n,t+i+o,t+r+o)}}}function z(e,t,n){o.push(e),o.push(t),o.push(n)}function F(e,t,i){B(e),B(t),B(i);const o=r.length/3,a=m.generateTopUV(n,r,o-3,o-2,o-1);j(a[0]),j(a[1]),j(a[2])}function U(e,t,i,o){B(e),B(t),B(o),B(t),B(i),B(o);const a=r.length/3,s=m.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);j(s[0]),j(s[1]),j(s[3]),j(s[1]),j(s[2]),j(s[3])}function B(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function j(e){i.push(e.x),i.push(e.y)}!function(){const e=r.length/3;if(c){let e=0,t=R*e;for(let e=0;e<C;e++){const n=M[e];F(n[2]+t,n[1]+t,n[0]+t)}e=s+2*f,t=R*e;for(let e=0;e<C;e++){const n=M[e];F(n[0]+t,n[1]+t,n[2]+t)}}else{for(let e=0;e<C;e++){const t=M[e];F(t[2],t[1],t[0])}for(let e=0;e<C;e++){const t=M[e];F(t[0]+R*s,t[1]+R*s,t[2]+R*s)}}n.addGroup(e,r.length/3-e,0)}(),function(){const e=r.length/3;let t=0;D(T,t),t+=T.length;for(let e=0,n=E.length;e<n;e++){const n=E[e];D(n,t),t+=n.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new Kt(r,3)),this.setAttribute("uv",new Kt(i,2)),this.computeVertexNormals()}toJSON(){const e=un.prototype.toJSON.call(this);return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let t=0,r=e.length;t<r;t++){const r=e[t];n.shapes.push(r.uuid)}else n.shapes.push(e.uuid);void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}const Ka={generateTopUV:function(e,t,n,r,i){const o=t[3*n],a=t[3*n+1],s=t[3*r],l=t[3*r+1],c=t[3*i],u=t[3*i+1];return[new ae(o,a),new ae(s,l),new ae(c,u)]},generateSideWallUV:function(e,t,n,r,i,o){const a=t[3*n],s=t[3*n+1],l=t[3*n+2],c=t[3*r],u=t[3*r+1],h=t[3*r+2],d=t[3*i],f=t[3*i+1],p=t[3*i+2],m=t[3*o],g=t[3*o+1],v=t[3*o+2];return Math.abs(s-u)<.01?[new ae(a,1-l),new ae(c,1-h),new ae(d,1-p),new ae(m,1-v)]:[new ae(s,1-l),new ae(u,1-h),new ae(f,1-p),new ae(g,1-v)]}};class Ja extends sa{constructor(e,t){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new $a(e,t)),this.mergeVertices()}toJSON(){const e=super.toJSON();return function(e,t,n){if(n.shapes=[],Array.isArray(e))for(let t=0,r=e.length;t<r;t++){const r=e[t];n.shapes.push(r.uuid)}else n.shapes.push(e.uuid);void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON());return n}(this.parameters.shapes,this.parameters.options,e)}}class es extends ma{constructor(e,t){const n=(1+Math.sqrt(5))/2;super([-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}}class ts extends sa{constructor(e,t){super(),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new es(e,t)),this.mergeVertices()}}class ns extends un{constructor(e,t,n,r){super(),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=oe.clamp(r,0,2*Math.PI);const i=[],o=[],a=[],s=1/t,l=new ge,c=new ae;for(let i=0;i<=t;i++){const u=n+i*s*r,h=Math.sin(u),d=Math.cos(u);for(let n=0;n<=e.length-1;n++)l.x=e[n].x*h,l.y=e[n].y,l.z=e[n].x*d,o.push(l.x,l.y,l.z),c.x=i/t,c.y=n/(e.length-1),a.push(c.x,c.y)}for(let n=0;n<t;n++)for(let t=0;t<e.length-1;t++){const r=t+n*e.length,o=r,a=r+e.length,s=r+e.length+1,l=r+1;i.push(o,a,l),i.push(a,s,l)}if(this.setIndex(i),this.setAttribute("position",new Kt(o,3)),this.setAttribute("uv",new Kt(a,2)),this.computeVertexNormals(),r===2*Math.PI){const n=this.attributes.normal.array,r=new ge,i=new ge,o=new ge,a=t*e.length*3;for(let t=0,s=0;t<e.length;t++,s+=3)r.x=n[s+0],r.y=n[s+1],r.z=n[s+2],i.x=n[a+s+0],i.y=n[a+s+1],i.z=n[a+s+2],o.addVectors(r,i).normalize(),n[s+0]=n[a+s+0]=o.x,n[s+1]=n[a+s+1]=o.y,n[s+2]=n[a+s+2]=o.z}}}class rs extends sa{constructor(e,t,n,r){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new ns(e,t,n,r)),this.mergeVertices()}}class is extends ma{constructor(e,t){super([1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}}class os extends sa{constructor(e,t){super(),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new is(e,t)),this.mergeVertices()}}function as(e,t,n){un.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};const r=[],i=[],o=[],a=[],s=1e-5,l=new ge,c=new ge,u=new ge,h=new ge,d=new ge;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const f=t+1;for(let r=0;r<=n;r++){const f=r/n;for(let n=0;n<=t;n++){const r=n/t;e(r,f,c),i.push(c.x,c.y,c.z),r-s>=0?(e(r-s,f,u),h.subVectors(c,u)):(e(r+s,f,u),h.subVectors(u,c)),f-s>=0?(e(r,f-s,u),d.subVectors(c,u)):(e(r,f+s,u),d.subVectors(u,c)),l.crossVectors(h,d).normalize(),o.push(l.x,l.y,l.z),a.push(r,f)}}for(let e=0;e<n;e++)for(let n=0;n<t;n++){const t=e*f+n,i=e*f+n+1,o=(e+1)*f+n+1,a=(e+1)*f+n;r.push(t,i,a),r.push(i,o,a)}this.setIndex(r),this.setAttribute("position",new Kt(i,3)),this.setAttribute("normal",new Kt(o,3)),this.setAttribute("uv",new Kt(a,2))}function ss(e,t,n){sa.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new as(e,t,n)),this.mergeVertices()}as.prototype=Object.create(un.prototype),as.prototype.constructor=as,ss.prototype=Object.create(sa.prototype),ss.prototype.constructor=ss;class ls extends sa{constructor(e,t,n,r){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new Xn(e,t,n,r)),this.mergeVertices()}}class cs extends sa{constructor(e,t,n,r){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new ma(e,t,n,r)),this.mergeVertices()}}class us extends un{constructor(e,t,n,r,i,o){super(),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;const a=[],s=[],l=[],c=[];let u=e;const h=(t-e)/(r=void 0!==r?Math.max(1,r):1),d=new ge,f=new ae;for(let e=0;e<=r;e++){for(let e=0;e<=n;e++){const r=i+e/n*o;d.x=u*Math.cos(r),d.y=u*Math.sin(r),s.push(d.x,d.y,d.z),l.push(0,0,1),f.x=(d.x/t+1)/2,f.y=(d.y/t+1)/2,c.push(f.x,f.y)}u+=h}for(let e=0;e<r;e++){const t=e*(n+1);for(let e=0;e<n;e++){const r=e+t,i=r,o=r+n+1,s=r+n+2,l=r+1;a.push(i,o,l),a.push(o,s,l)}}this.setIndex(a),this.setAttribute("position",new Kt(s,3)),this.setAttribute("normal",new Kt(l,3)),this.setAttribute("uv",new Kt(c,2))}}class hs extends sa{constructor(e,t,n,r,i,o){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new us(e,t,n,r,i,o)),this.mergeVertices()}}class ds extends un{constructor(e,t){super(),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;const n=[],r=[],i=[],o=[];let a=0,s=0;if(!1===Array.isArray(e))l(e);else for(let t=0;t<e.length;t++)l(e[t]),this.addGroup(a,s,t),a+=s,s=0;function l(e){const a=r.length/3,l=e.extractPoints(t);let c=l.shape;const u=l.holes;!1===Ya.isClockWise(c)&&(c=c.reverse());for(let e=0,t=u.length;e<t;e++){const t=u[e];!0===Ya.isClockWise(t)&&(u[e]=t.reverse())}const h=Ya.triangulateShape(c,u);for(let e=0,t=u.length;e<t;e++){const t=u[e];c=c.concat(t)}for(let e=0,t=c.length;e<t;e++){const t=c[e];r.push(t.x,t.y,0),i.push(0,0,1),o.push(t.x,t.y)}for(let e=0,t=h.length;e<t;e++){const t=h[e],r=t[0]+a,i=t[1]+a,o=t[2]+a;n.push(r,i,o),s+=3}}this.setIndex(n),this.setAttribute("position",new Kt(r,3)),this.setAttribute("normal",new Kt(i,3)),this.setAttribute("uv",new Kt(o,2))}toJSON(){const e=un.prototype.toJSON.call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}class fs extends sa{constructor(e,t){super(),this.type="ShapeGeometry","object"==typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new ds(e,t)),this.mergeVertices()}toJSON(){const e=sa.prototype.toJSON.call(this);return function(e,t){if(t.shapes=[],Array.isArray(e))for(let n=0,r=e.length;n<r;n++){const r=e[n];t.shapes.push(r.uuid)}else t.shapes.push(e.uuid);return t}(this.parameters.shapes,e)}}class ps extends un{constructor(e,t,n,r,i,o,a){super(),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;const s=Math.min(o+a,Math.PI);let l=0;const c=[],u=new ge,h=new ge,d=[],f=[],p=[],m=[];for(let d=0;d<=n;d++){const g=[],v=d/n;let y=0;0==d&&0==o?y=.5/t:d==n&&s==Math.PI&&(y=-.5/t);for(let n=0;n<=t;n++){const s=n/t;u.x=-e*Math.cos(r+s*i)*Math.sin(o+v*a),u.y=e*Math.cos(o+v*a),u.z=e*Math.sin(r+s*i)*Math.sin(o+v*a),f.push(u.x,u.y,u.z),h.copy(u).normalize(),p.push(h.x,h.y,h.z),m.push(s+y,1-v),g.push(l++)}c.push(g)}for(let e=0;e<n;e++)for(let r=0;r<t;r++){const t=c[e][r+1],i=c[e][r],a=c[e+1][r],l=c[e+1][r+1];(0!==e||o>0)&&d.push(t,i,l),(e!==n-1||s<Math.PI)&&d.push(i,a,l)}this.setIndex(d),this.setAttribute("position",new Kt(f,3)),this.setAttribute("normal",new Kt(p,3)),this.setAttribute("uv",new Kt(m,2))}}class ms extends sa{constructor(e,t,n,r,i,o,a){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new ps(e,t,n,r,i,o,a)),this.mergeVertices()}}class gs extends ma{constructor(e,t){super([1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}}class vs extends sa{constructor(e,t){super(),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new gs(e,t)),this.mergeVertices()}}class ys extends $a{constructor(e,t){const n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new un;const r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),super(r,t),this.type="TextBufferGeometry"}}class bs extends sa{constructor(e,t){super(),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new ys(e,t)),this.mergeVertices()}}class xs extends un{constructor(e,t,n,r,i){super(),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;const o=[],a=[],s=[],l=[],c=new ge,u=new ge,h=new ge;for(let o=0;o<=n;o++)for(let d=0;d<=r;d++){const f=d/r*i,p=o/n*Math.PI*2;u.x=(e+t*Math.cos(p))*Math.cos(f),u.y=(e+t*Math.cos(p))*Math.sin(f),u.z=t*Math.sin(p),a.push(u.x,u.y,u.z),c.x=e*Math.cos(f),c.y=e*Math.sin(f),h.subVectors(u,c).normalize(),s.push(h.x,h.y,h.z),l.push(d/r),l.push(o/n)}for(let e=1;e<=n;e++)for(let t=1;t<=r;t++){const n=(r+1)*e+t-1,i=(r+1)*(e-1)+t-1,a=(r+1)*(e-1)+t,s=(r+1)*e+t;o.push(n,i,s),o.push(i,a,s)}this.setIndex(o),this.setAttribute("position",new Kt(a,3)),this.setAttribute("normal",new Kt(s,3)),this.setAttribute("uv",new Kt(l,2))}}class _s extends sa{constructor(e,t,n,r,i){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new xs(e,t,n,r,i)),this.mergeVertices()}}class ws extends un{constructor(e,t,n,r,i,o){super(),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;const a=[],s=[],l=[],c=[],u=new ge,h=new ge,d=new ge,f=new ge,p=new ge,m=new ge,g=new ge;for(let a=0;a<=n;++a){const y=a/n*i*Math.PI*2;v(y,i,o,e,d),v(y+.01,i,o,e,f),m.subVectors(f,d),g.addVectors(f,d),p.crossVectors(m,g),g.crossVectors(p,m),p.normalize(),g.normalize();for(let e=0;e<=r;++e){const i=e/r*Math.PI*2,o=-t*Math.cos(i),f=t*Math.sin(i);u.x=d.x+(o*g.x+f*p.x),u.y=d.y+(o*g.y+f*p.y),u.z=d.z+(o*g.z+f*p.z),s.push(u.x,u.y,u.z),h.subVectors(u,d).normalize(),l.push(h.x,h.y,h.z),c.push(a/n),c.push(e/r)}}for(let e=1;e<=n;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),o=(r+1)*e+t,s=(r+1)*(e-1)+t;a.push(n,i,s),a.push(i,o,s)}function v(e,t,n,r,i){const o=Math.cos(e),a=Math.sin(e),s=n/t*e,l=Math.cos(s);i.x=r*(2+l)*.5*o,i.y=r*(2+l)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(a),this.setAttribute("position",new Kt(s,3)),this.setAttribute("normal",new Kt(l,3)),this.setAttribute("uv",new Kt(c,2))}}class Ss extends sa{constructor(e,t,n,r,i,o,a){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new ws(e,t,n,r,i,o)),this.mergeVertices()}}class Es extends un{constructor(e,t,n,r,i){super(),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;const o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new ge,s=new ge,l=new ae;let c=new ge;const u=[],h=[],d=[],f=[];function p(i){c=e.getPointAt(i/t,c);const l=o.normals[i],d=o.binormals[i];for(let e=0;e<=r;e++){const t=e/r*Math.PI*2,i=Math.sin(t),o=-Math.cos(t);s.x=o*l.x+i*d.x,s.y=o*l.y+i*d.y,s.z=o*l.z+i*d.z,s.normalize(),h.push(s.x,s.y,s.z),a.x=c.x+n*s.x,a.y=c.y+n*s.y,a.z=c.z+n*s.z,u.push(a.x,a.y,a.z)}}!function(){for(let e=0;e<t;e++)p(e);p(!1===i?t:0),function(){for(let e=0;e<=t;e++)for(let n=0;n<=r;n++)l.x=e/t,l.y=n/r,d.push(l.x,l.y)}(),function(){for(let e=1;e<=t;e++)for(let t=1;t<=r;t++){const n=(r+1)*(e-1)+(t-1),i=(r+1)*e+(t-1),o=(r+1)*e+t,a=(r+1)*(e-1)+t;f.push(n,i,a),f.push(i,o,a)}}()}(),this.setIndex(f),this.setAttribute("position",new Kt(u,3)),this.setAttribute("normal",new Kt(h,3)),this.setAttribute("uv",new Kt(d,2))}toJSON(){const e=un.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e}}class Ms extends sa{constructor(e,t,n,r,i,o){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");const a=new Es(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}}class Ts extends un{constructor(e){super(),this.type="WireframeGeometry";const t=[],n=[0,0],r={},i=["a","b","c"];if(e&&e.isGeometry){const o=e.faces;for(let e=0,t=o.length;e<t;e++){const t=o[e];for(let e=0;e<3;e++){const o=t[i[e]],a=t[i[(e+1)%3]];n[0]=Math.min(o,a),n[1]=Math.max(o,a);const s=n[0]+","+n[1];void 0===r[s]&&(r[s]={index1:n[0],index2:n[1]})}}for(const n in r){const i=r[n];let o=e.vertices[i.index1];t.push(o.x,o.y,o.z),o=e.vertices[i.index2],t.push(o.x,o.y,o.z)}}else if(e&&e.isBufferGeometry){const i=new ge;if(null!==e.index){const o=e.attributes.position,a=e.index;let s=e.groups;0===s.length&&(s=[{start:0,count:a.count,materialIndex:0}]);for(let e=0,t=s.length;e<t;++e){const t=s[e],i=t.start;for(let e=i,o=i+t.count;e<o;e+=3)for(let t=0;t<3;t++){const i=a.getX(e+t),o=a.getX(e+(t+1)%3);n[0]=Math.min(i,o),n[1]=Math.max(i,o);const s=n[0]+","+n[1];void 0===r[s]&&(r[s]={index1:n[0],index2:n[1]})}}for(const e in r){const n=r[e];i.fromBufferAttribute(o,n.index1),t.push(i.x,i.y,i.z),i.fromBufferAttribute(o,n.index2),t.push(i.x,i.y,i.z)}}else{const n=e.attributes.position;for(let e=0,r=n.count/3;e<r;e++)for(let r=0;r<3;r++){const o=3*e+r;i.fromBufferAttribute(n,o),t.push(i.x,i.y,i.z);const a=3*e+(r+1)%3;i.fromBufferAttribute(n,a),t.push(i.x,i.y,i.z)}}}this.setAttribute("position",new Kt(t,3))}}var ks=Object.freeze({__proto__:null,BoxGeometry:la,BoxBufferGeometry:An,CircleGeometry:ua,CircleBufferGeometry:ca,ConeGeometry:fa,ConeBufferGeometry:pa,CylinderGeometry:da,CylinderBufferGeometry:ha,DodecahedronGeometry:va,DodecahedronBufferGeometry:ga,EdgesGeometry:wa,ExtrudeGeometry:Ja,ExtrudeBufferGeometry:$a,IcosahedronGeometry:ts,IcosahedronBufferGeometry:es,LatheGeometry:rs,LatheBufferGeometry:ns,OctahedronGeometry:os,OctahedronBufferGeometry:is,ParametricGeometry:ss,ParametricBufferGeometry:as,PlaneGeometry:ls,PlaneBufferGeometry:Xn,PolyhedronGeometry:cs,PolyhedronBufferGeometry:ma,RingGeometry:hs,RingBufferGeometry:us,ShapeGeometry:fs,ShapeBufferGeometry:ds,SphereGeometry:ms,SphereBufferGeometry:ps,TetrahedronGeometry:vs,TetrahedronBufferGeometry:gs,TextGeometry:bs,TextBufferGeometry:ys,TorusGeometry:_s,TorusBufferGeometry:xs,TorusKnotGeometry:Ss,TorusKnotBufferGeometry:ws,TubeGeometry:Ms,TubeBufferGeometry:Es,WireframeGeometry:Ts});function Rs(e){Bt.call(this),this.type="ShadowMaterial",this.color=new zt(0),this.transparent=!0,this.setValues(e)}function Cs(e){Nn.call(this,e),this.type="RawShaderMaterial"}function Ps(e){Bt.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new zt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function As(e){Ps.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ae(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(e){this.reflectivity=oe.clamp(2.5*(e-1)/(e+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(e)}function Ls(e){Bt.call(this),this.type="MeshPhongMaterial",this.color=new zt(16777215),this.specular=new zt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Os(e){Bt.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new zt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Is(e){Bt.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ns(e){Bt.call(this),this.type="MeshLambertMaterial",this.color=new zt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function Ds(e){Bt.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new zt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ae(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function zs(e){No.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}Rs.prototype=Object.create(Bt.prototype),Rs.prototype.constructor=Rs,Rs.prototype.isShadowMaterial=!0,Rs.prototype.copy=function(e){return Bt.prototype.copy.call(this,e),this.color.copy(e.color),this},Cs.prototype=Object.create(Nn.prototype),Cs.prototype.constructor=Cs,Cs.prototype.isRawShaderMaterial=!0,Ps.prototype=Object.create(Bt.prototype),Ps.prototype.constructor=Ps,Ps.prototype.isMeshStandardMaterial=!0,Ps.prototype.copy=function(e){return Bt.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},As.prototype=Object.create(Ps.prototype),As.prototype.constructor=As,As.prototype.isMeshPhysicalMaterial=!0,As.prototype.copy=function(e){return Ps.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new zt).copy(e.sheen):this.sheen=null,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this},Ls.prototype=Object.create(Bt.prototype),Ls.prototype.constructor=Ls,Ls.prototype.isMeshPhongMaterial=!0,Ls.prototype.copy=function(e){return Bt.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Os.prototype=Object.create(Bt.prototype),Os.prototype.constructor=Os,Os.prototype.isMeshToonMaterial=!0,Os.prototype.copy=function(e){return Bt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Is.prototype=Object.create(Bt.prototype),Is.prototype.constructor=Is,Is.prototype.isMeshNormalMaterial=!0,Is.prototype.copy=function(e){return Bt.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ns.prototype=Object.create(Bt.prototype),Ns.prototype.constructor=Ns,Ns.prototype.isMeshLambertMaterial=!0,Ns.prototype.copy=function(e){return Bt.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ds.prototype=Object.create(Bt.prototype),Ds.prototype.constructor=Ds,Ds.prototype.isMeshMatcapMaterial=!0,Ds.prototype.copy=function(e){return Bt.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},zs.prototype=Object.create(No.prototype),zs.prototype.constructor=zs,zs.prototype.isLineDashedMaterial=!0,zs.prototype.copy=function(e){return No.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var Fs=Object.freeze({__proto__:null,ShadowMaterial:Rs,SpriteMaterial:oo,RawShaderMaterial:Cs,ShaderMaterial:Nn,PointsMaterial:qo,MeshPhysicalMaterial:As,MeshStandardMaterial:Ps,MeshPhongMaterial:Ls,MeshToonMaterial:Os,MeshNormalMaterial:Is,MeshLambertMaterial:Ns,MeshDepthMaterial:Bi,MeshDistanceMaterial:ji,MeshBasicMaterial:jt,MeshMatcapMaterial:Ds,LineDashedMaterial:zs,LineBasicMaterial:No,Material:Bt});const Us={arraySlice:function(e,t,n){return Us.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){const t=e.length,n=new Array(t);for(let e=0;e!==t;++e)n[e]=e;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){const r=e.length,i=new e.constructor(r);for(let o=0,a=0;a!==r;++o){const r=n[o]*t;for(let n=0;n!==t;++n)i[a++]=e[r+n]}return i},flattenJSON:function(e,t,n,r){let i=1,o=e[0];for(;void 0!==o&&void 0===o[r];)o=e[i++];if(void 0===o)return;let a=o[r];if(void 0!==a)if(Array.isArray(a))do{a=o[r],void 0!==a&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{a=o[r],void 0!==a&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{a=o[r],void 0!==a&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)},subclip:function(e,t,n,r,i){i=i||30;const o=e.clone();o.name=t;const a=[];for(let e=0;e<o.tracks.length;++e){const t=o.tracks[e],s=t.getValueSize(),l=[],c=[];for(let e=0;e<t.times.length;++e){const o=t.times[e]*i;if(!(o<n||o>=r)){l.push(t.times[e]);for(let n=0;n<s;++n)c.push(t.values[e*s+n])}}0!==l.length&&(t.times=Us.convertArray(l,t.times.constructor),t.values=Us.convertArray(c,t.values.constructor),a.push(t))}o.tracks=a;let s=1/0;for(let e=0;e<o.tracks.length;++e)s>o.tracks[e].times[0]&&(s=o.tracks[e].times[0]);for(let e=0;e<o.tracks.length;++e)o.tracks[e].shift(-1*s);return o.resetDuration(),o},makeClipAdditive:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=e),(void 0===r||r<=0)&&(r=30);const i=n.tracks.length,o=t/r;for(let t=0;t<i;++t){const r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)continue;const a=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===a)continue;let s=0;const l=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(s=l/3);let c=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const h=r.times.length-1;let d;if(o<=r.times[0]){const e=s,t=l-s;d=Us.arraySlice(r.values,e,t)}else if(o>=r.times[h]){const e=h*l+s,t=e+l-s;d=Us.arraySlice(r.values,e,t)}else{const e=r.createInterpolant(),t=s,n=l-s;e.evaluate(o),d=Us.arraySlice(e.resultBuffer,t,n)}if("quaternion"===i){(new me).fromArray(d).normalize().conjugate().toArray(d)}const f=a.times.length;for(let e=0;e<f;++e){const t=e*u+c;if("quaternion"===i)me.multiplyQuaternionsFlat(a.values,t,d,0,a.values,t);else{const e=u-2*c;for(let n=0;n<e;++n)a.values[t+n]-=d[n]}}}return e.blendMode=2501,e}};function Bs(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function js(e,t,n,r){Bs.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Hs(e,t,n,r){Bs.call(this,e,t,n,r)}function Vs(e,t,n,r){Bs.call(this,e,t,n,r)}function Gs(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Us.convertArray(t,this.TimeBufferType),this.values=Us.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Ws(e,t,n){Gs.call(this,e,t,n)}function qs(e,t,n,r){Gs.call(this,e,t,n,r)}function Xs(e,t,n,r){Gs.call(this,e,t,n,r)}function Ys(e,t,n,r){Bs.call(this,e,t,n,r)}function Zs(e,t,n,r){Gs.call(this,e,t,n,r)}function Qs(e,t,n,r){Gs.call(this,e,t,n,r)}function $s(e,t,n,r){Gs.call(this,e,t,n,r)}function Ks(e,t,n,r){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.blendMode=void 0!==r?r:2500,this.uuid=oe.generateUUID(),this.duration<0&&this.resetDuration()}function Js(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Xs;case"vector":case"vector2":case"vector3":case"vector4":return $s;case"color":return qs;case"quaternion":return Zs;case"bool":case"boolean":return Ws;case"string":return Qs}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){const t=[],n=[];Us.flattenJSON(e.keys,t,n,"value"),e.times=t,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(Bs.prototype,{evaluate:function(e){const t=this.parameterPositions;let n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{let o;n:{r:if(!(e<r)){for(let o=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===o)break;if(i=r,r=t[++n],e<r)break t}o=t.length;break n}if(e>=i)break e;{const a=t[1];e<a&&(n=2,i=a);for(let o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===o)break;if(r=i,i=t[--n-1],e>=i)break t}o=n,n=0}}for(;n<o;){const r=n+o>>>1;e<t[r]?o=r:n=r+1}if(r=t[n],i=t[n-1],void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){const t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r;for(let e=0;e!==r;++e)t[e]=n[i+e];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Bs.prototype,{beforeStart_:Bs.prototype.copySampleValue_,afterEnd_:Bs.prototype.copySampleValue_}),js.prototype=Object.assign(Object.create(Bs.prototype),{constructor:js,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(e,t,n){const r=this.parameterPositions;let i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:i=e,a=2*t-n;break;case 2402:i=r.length-2,a=t+r[i]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case 2401:o=e,s=2*n-t;break;case 2402:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}const l=.5*(n-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,f=(n-t)/(r-t),p=f*f,m=p*f,g=-h*m+2*h*p-h*f,v=(1+h)*m+(-1.5-2*h)*p+(-.5+h)*f+1,y=(-1-d)*m+(1.5+d)*p+.5*f,b=d*m-d*p;for(let e=0;e!==a;++e)i[e]=g*o[c+e]+v*o[l+e]+y*o[s+e]+b*o[u+e];return i}}),Hs.prototype=Object.assign(Object.create(Bs.prototype),{constructor:Hs,interpolate_:function(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,l=s-a,c=(n-t)/(r-t),u=1-c;for(let e=0;e!==a;++e)i[e]=o[l+e]*u+o[s+e]*c;return i}}),Vs.prototype=Object.assign(Object.create(Bs.prototype),{constructor:Vs,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Gs,{toJSON:function(e){const t=e.constructor;let n;if(void 0!==t.toJSON)n=t.toJSON(e);else{n={name:e.name,times:Us.convertArray(e.times,Array),values:Us.convertArray(e.values,Array)};const t=e.getInterpolation();t!==e.DefaultInterpolation&&(n.interpolation=t)}return n.type=e.ValueTypeName,n}}),Object.assign(Gs.prototype,{constructor:Gs,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(e){return new Vs(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Hs(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new js(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const t="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(t);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",t),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]+=e}return this},scale:function(e){if(1!==e){const t=this.times;for(let n=0,r=t.length;n!==r;++n)t[n]*=e}return this},trim:function(e,t){const n=this.times,r=n.length;let i=0,o=r-1;for(;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(o=Math.max(o,1),i=o-1);const e=this.getValueSize();this.times=Us.arraySlice(n,i,o),this.values=Us.arraySlice(this.values,i*e,o*e)}return this},validate:function(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let t=0;t!==i;t++){const r=n[t];if("number"==typeof r&&isNaN(r)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,t,r),e=!1;break}if(null!==o&&o>r){console.error("THREE.KeyframeTrack: Out of order keys.",this,t,r,o),e=!1;break}o=r}if(void 0!==r&&Us.isTypedArray(r))for(let t=0,n=r.length;t!==n;++t){const n=r[t];if(isNaN(n)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,t,n),e=!1;break}}return e},optimize:function(){const e=Us.arraySlice(this.times),t=Us.arraySlice(this.values),n=this.getValueSize(),r=2302===this.getInterpolation(),i=e.length-1;let o=1;for(let a=1;a<i;++a){let i=!1;const s=e[a];if(s!==e[a+1]&&(1!==a||s!==s[0]))if(r)i=!0;else{const e=a*n,r=e-n,o=e+n;for(let a=0;a!==n;++a){const n=t[e+a];if(n!==t[r+a]||n!==t[o+a]){i=!0;break}}}if(i){if(a!==o){e[o]=e[a];const r=a*n,i=o*n;for(let e=0;e!==n;++e)t[i+e]=t[r+e]}++o}}if(i>0){e[o]=e[i];for(let e=i*n,r=o*n,a=0;a!==n;++a)t[r+a]=t[e+a];++o}return o!==e.length?(this.times=Us.arraySlice(e,0,o),this.values=Us.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this},clone:function(){const e=Us.arraySlice(this.times,0),t=Us.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),Ws.prototype=Object.assign(Object.create(Gs.prototype),{constructor:Ws,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),qs.prototype=Object.assign(Object.create(Gs.prototype),{constructor:qs,ValueTypeName:"color"}),Xs.prototype=Object.assign(Object.create(Gs.prototype),{constructor:Xs,ValueTypeName:"number"}),Ys.prototype=Object.assign(Object.create(Bs.prototype),{constructor:Ys,interpolate_:function(e,t,n,r){const i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t);let l=e*a;for(let e=l+a;l!==e;l+=4)me.slerpFlat(i,0,o,l-a,o,l,s);return i}}),Zs.prototype=Object.assign(Object.create(Gs.prototype),{constructor:Zs,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(e){return new Ys(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Qs.prototype=Object.assign(Object.create(Gs.prototype),{constructor:Qs,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),$s.prototype=Object.assign(Object.create(Gs.prototype),{constructor:$s,ValueTypeName:"vector"}),Object.assign(Ks,{parse:function(e){const t=[],n=e.tracks,r=1/(e.fps||1);for(let e=0,i=n.length;e!==i;++e)t.push(Js(n[e]).scale(r));return new Ks(e.name,e.duration,t,e.blendMode)},toJSON:function(e){const t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let e=0,r=n.length;e!==r;++e)t.push(Gs.toJSON(n[e]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){const i=t.length,o=[];for(let e=0;e<i;e++){let a=[],s=[];a.push((e+i-1)%i,e,(e+1)%i),s.push(0,1,0);const l=Us.getKeyframeOrder(a);a=Us.sortedArray(a,1,l),s=Us.sortedArray(s,1,l),r||0!==a[0]||(a.push(i),s.push(s[0])),o.push(new Xs(".morphTargetInfluences["+t[e].name+"]",a,s).scale(1/n))}return new Ks(e,-1,o)},findByName:function(e,t){let n=e;if(!Array.isArray(e)){const t=e;n=t.geometry&&t.geometry.animations||t.animations}for(let e=0;e<n.length;e++)if(n[e].name===t)return n[e];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){const r={},i=/^([\w-]*?)([\d]+)$/;for(let t=0,n=e.length;t<n;t++){const n=e[t],o=n.name.match(i);if(o&&o.length>1){const e=o[1];let t=r[e];t||(r[e]=t=[]),t.push(n)}}const o=[];for(const e in r)o.push(Ks.CreateFromMorphTargetSequence(e,r[e],t,n));return o},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const n=function(e,t,n,r,i){if(0!==n.length){const o=[],a=[];Us.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.fps||30,a=e.blendMode;let s=e.length||-1;const l=e.hierarchy||[];for(let e=0;e<l.length;e++){const i=l[e].keys;if(i&&0!==i.length)if(i[0].morphTargets){const e={};let t;for(t=0;t<i.length;t++)if(i[t].morphTargets)for(let n=0;n<i[t].morphTargets.length;n++)e[i[t].morphTargets[n]]=-1;for(const n in e){const e=[],o=[];for(let r=0;r!==i[t].morphTargets.length;++r){const r=i[t];e.push(r.time),o.push(r.morphTarget===n?1:0)}r.push(new Xs(".morphTargetInfluence["+n+"]",e,o))}s=e.length*(o||1)}else{const o=".bones["+t[e].name+"]";n($s,o+".position",i,"pos",r),n(Zs,o+".quaternion",i,"rot",r),n($s,o+".scale",i,"scl",r)}}if(0===r.length)return null;return new Ks(i,s,r,a)}}),Object.assign(Ks.prototype,{resetDuration:function(){let e=0;for(let t=0,n=this.tracks.length;t!==n;++t){const n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}return this.duration=e,this},trim:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Ks(this.name,this.duration,e,this.blendMode)}});const el={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function tl(e,t,n){const r=this;let i,o=!1,a=0,s=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){s++,!1===o&&void 0!==r.onStart&&r.onStart(e,a,s),o=!0},this.itemEnd=function(e){a++,void 0!==r.onProgress&&r.onProgress(e,a,s),a===s&&(o=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return i?i(e):e},this.setURLModifier=function(e){return i=e,this},this.addHandler=function(e,t){return l.push(e,t),this},this.removeHandler=function(e){const t=l.indexOf(e);return-1!==t&&l.splice(t,2),this},this.getHandler=function(e){for(let t=0,n=l.length;t<n;t+=2){const n=l[t],r=l[t+1];if(n.global&&(n.lastIndex=0),n.test(e))return r}return null}}const nl=new tl;function rl(e){this.manager=void 0!==e?e:nl,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(rl.prototype,{load:function(){},loadAsync:function(e,t){const n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});const il={};function ol(e){rl.call(this,e)}function al(e){rl.call(this,e)}function sl(e){rl.call(this,e)}function ll(e){rl.call(this,e)}function cl(e){rl.call(this,e)}function ul(e){rl.call(this,e)}function hl(e){rl.call(this,e)}function dl(){this.type="Curve",this.arcLengthDivisions=200}function fl(e,t,n,r,i,o,a,s){dl.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function pl(e,t,n,r,i,o){fl.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}function ml(){let e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){let l=(t-e)/o-(n-e)/(o+a)+(n-t)/a,c=(n-t)/a-(r-t)/(a+s)+(r-n)/s;l*=a,c*=a,i(t,n,l,c)},calc:function(i){const o=i*i;return e+t*i+n*o+r*(o*i)}}}ol.prototype=Object.assign(Object.create(rl.prototype),{constructor:ol,load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=el.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0!==il[e])return void il[e].push({onLoad:t,onProgress:n,onError:r});const a=e.match(/^data:(.*?)(;base64)?,(.*)$/);let s;if(a){const n=a[1],o=!!a[2];let s=a[3];s=decodeURIComponent(s),o&&(s=atob(s));try{let r;const o=(this.responseType||"").toLowerCase();switch(o){case"arraybuffer":case"blob":const e=new Uint8Array(s.length);for(let t=0;t<s.length;t++)e[t]=s.charCodeAt(t);r="blob"===o?new Blob([e.buffer],{type:n}):e.buffer;break;case"document":const t=new DOMParser;r=t.parseFromString(s,n);break;case"json":r=JSON.parse(s);break;default:r=s}setTimeout((function(){t&&t(r),i.manager.itemEnd(e)}),0)}catch(t){setTimeout((function(){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{il[e]=[],il[e].push({onLoad:t,onProgress:n,onError:r}),s=new XMLHttpRequest,s.open("GET",e,!0),s.addEventListener("load",(function(t){const n=this.response,r=il[e];if(delete il[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),el.add(e,n);for(let e=0,t=r.length;e<t;e++){const t=r[e];t.onLoad&&t.onLoad(n)}i.manager.itemEnd(e)}else{for(let e=0,n=r.length;e<n;e++){const n=r[e];n.onError&&n.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),s.addEventListener("progress",(function(t){const n=il[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onProgress&&r.onProgress(t)}}),!1),s.addEventListener("error",(function(t){const n=il[e];delete il[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),s.addEventListener("abort",(function(t){const n=il[e];delete il[e];for(let e=0,r=n.length;e<r;e++){const r=n[e];r.onError&&r.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(s.responseType=this.responseType),void 0!==this.withCredentials&&(s.withCredentials=this.withCredentials),s.overrideMimeType&&s.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const e in this.requestHeader)s.setRequestHeader(e,this.requestHeader[e]);s.send(null)}return i.manager.itemStart(e),s},setResponseType:function(e){return this.responseType=e,this},setMimeType:function(e){return this.mimeType=e,this}}),al.prototype=Object.assign(Object.create(rl.prototype),{constructor:al,load:function(e,t,n,r){const i=this,o=new ol(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}}),n,r)},parse:function(e){const t=[];for(let n=0;n<e.length;n++){const r=Ks.parse(e[n]);t.push(r)}return t}}),sl.prototype=Object.assign(Object.create(rl.prototype),{constructor:sl,load:function(e,t,n,r){const i=this,o=[],a=new ea;a.image=o;const s=new ol(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(i.withCredentials);let l=0;function c(c){s.load(e[c],(function(e){const n=i.parse(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},l+=1,6===l&&(1===n.mipmapCount&&(a.minFilter=1006),a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(Array.isArray(e))for(let t=0,n=e.length;t<n;++t)c(t);else s.load(e,(function(e){const n=i.parse(e,!0);if(n.isCubemap){const e=n.mipmaps.length/n.mipmapCount;for(let t=0;t<e;t++){o[t]={mipmaps:[]};for(let e=0;e<n.mipmapCount;e++)o[t].mipmaps.push(n.mipmaps[t*n.mipmapCount+e]),o[t].format=n.format,o[t].width=n.width,o[t].height=n.height}}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=1006),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a}}),ll.prototype=Object.assign(Object.create(rl.prototype),{constructor:ll,load:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=el.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;const a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),el.add(e,this),t&&t(this),i.manager.itemEnd(e)}function l(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}),cl.prototype=Object.assign(Object.create(rl.prototype),{constructor:cl,load:function(e,t,n,r){const i=new Un,o=new ll(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,a++,6===a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(let t=0;t<e.length;++t)s(t);return i}}),ul.prototype=Object.assign(Object.create(rl.prototype),{constructor:ul,load:function(e,t,n,r){const i=this,o=new jn,a=new ol(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(i.withCredentials),a.load(e,(function(e){const n=i.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:1001,o.wrapT=void 0!==n.wrapT?n.wrapT:1001,o.magFilter=void 0!==n.magFilter?n.magFilter:1006,o.minFilter=void 0!==n.minFilter?n.minFilter:1006,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=1008),1===n.mipmapCount&&(o.minFilter=1006),o.needsUpdate=!0,t&&t(o,n))}),n,r),o}}),hl.prototype=Object.assign(Object.create(rl.prototype),{constructor:hl,load:function(e,t,n,r){const i=new he,o=new ll(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(n){i.image=n;const r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?1022:1023,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}),Object.assign(dl.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){const n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);const t=[];for(let n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){const e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let n,r=this.getPoint(0),i=0;t.push(0);for(let o=1;o<=e;o++)n=this.getPoint(o/e),i+=n.distanceTo(r),t.push(i),r=n;return this.cacheArcLengths=t,t},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){const n=this.getLengths();let r=0;const i=n.length;let o;o=t||e*n[i-1];let a,s=0,l=i-1;for(;s<=l;)if(r=Math.floor(s+(l-s)/2),a=n[r]-o,a<0)s=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(r=l,n[r]===o)return r/(i-1);const c=n[r];return(r+(o-c)/(n[r+1]-c))/(i-1)},getTangent:function(e,t){const n=1e-4;let r=e-n,i=e+n;r<0&&(r=0),i>1&&(i=1);const o=this.getPoint(r),a=this.getPoint(i),s=t||(o.isVector2?new ae:new ge);return s.copy(a).sub(o).normalize(),s},getTangentAt:function(e,t){const n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){const n=new ge,r=[],i=[],o=[],a=new ge,s=new Ge;for(let t=0;t<=e;t++){const n=t/e;r[t]=this.getTangentAt(n,new ge),r[t].normalize()}i[0]=new ge,o[0]=new ge;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),u=Math.abs(r[0].y),h=Math.abs(r[0].z);c<=l&&(l=c,n.set(1,0,0)),u<=l&&(l=u,n.set(0,1,0)),h<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(let t=1;t<=e;t++){if(i[t]=i[t-1].clone(),o[t]=o[t-1].clone(),a.crossVectors(r[t-1],r[t]),a.length()>Number.EPSILON){a.normalize();const e=Math.acos(oe.clamp(r[t-1].dot(r[t]),-1,1));i[t].applyMatrix4(s.makeRotationAxis(a,e))}o[t].crossVectors(r[t],i[t])}if(!0===t){let t=Math.acos(oe.clamp(i[0].dot(i[e]),-1,1));t/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(t=-t);for(let n=1;n<=e;n++)i[n].applyMatrix4(s.makeRotationAxis(r[n],t*n)),o[n].crossVectors(r[n],i[n])}return{tangents:r,normals:i,binormals:o}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){const e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),fl.prototype=Object.create(dl.prototype),fl.prototype.constructor=fl,fl.prototype.isEllipseCurve=!0,fl.prototype.getPoint=function(e,t){const n=t||new ae,r=2*Math.PI;let i=this.aEndAngle-this.aStartAngle;const o=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);const a=this.aStartAngle+e*i;let s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const e=Math.cos(this.aRotation),t=Math.sin(this.aRotation),n=s-this.aX,r=l-this.aY;s=n*e-r*t+this.aX,l=n*t+r*e+this.aY}return n.set(s,l)},fl.prototype.copy=function(e){return dl.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},fl.prototype.toJSON=function(){const e=dl.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},fl.prototype.fromJSON=function(e){return dl.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},pl.prototype=Object.create(fl.prototype),pl.prototype.constructor=pl,pl.prototype.isArcCurve=!0;const gl=new ge,vl=new ml,yl=new ml,bl=new ml;function xl(e,t,n,r){dl.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=void 0!==r?r:.5}function _l(e,t,n,r,i){const o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function wl(e,t,n,r){return function(e,t){const n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function Sl(e,t,n,r,i){return function(e,t){const n=1-e;return n*n*n*t}(e,t)+function(e,t){const n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function El(e,t,n,r){dl.call(this),this.type="CubicBezierCurve",this.v0=e||new ae,this.v1=t||new ae,this.v2=n||new ae,this.v3=r||new ae}function Ml(e,t,n,r){dl.call(this),this.type="CubicBezierCurve3",this.v0=e||new ge,this.v1=t||new ge,this.v2=n||new ge,this.v3=r||new ge}function Tl(e,t){dl.call(this),this.type="LineCurve",this.v1=e||new ae,this.v2=t||new ae}function kl(e,t){dl.call(this),this.type="LineCurve3",this.v1=e||new ge,this.v2=t||new ge}function Rl(e,t,n){dl.call(this),this.type="QuadraticBezierCurve",this.v0=e||new ae,this.v1=t||new ae,this.v2=n||new ae}function Cl(e,t,n){dl.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new ge,this.v1=t||new ge,this.v2=n||new ge}function Pl(e){dl.call(this),this.type="SplineCurve",this.points=e||[]}xl.prototype=Object.create(dl.prototype),xl.prototype.constructor=xl,xl.prototype.isCatmullRomCurve3=!0,xl.prototype.getPoint=function(e,t){const n=t||new ge,r=this.points,i=r.length,o=(i-(this.closed?0:1))*e;let a,s,l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:0===c&&l===i-1&&(l=i-2,c=1),this.closed||l>0?a=r[(l-1)%i]:(gl.subVectors(r[0],r[1]).add(r[0]),a=gl);const u=r[l%i],h=r[(l+1)%i];if(this.closed||l+2<i?s=r[(l+2)%i]:(gl.subVectors(r[i-1],r[i-2]).add(r[i-1]),s=gl),"centripetal"===this.curveType||"chordal"===this.curveType){const e="chordal"===this.curveType?.5:.25;let t=Math.pow(a.distanceToSquared(u),e),n=Math.pow(u.distanceToSquared(h),e),r=Math.pow(h.distanceToSquared(s),e);n<1e-4&&(n=1),t<1e-4&&(t=n),r<1e-4&&(r=n),vl.initNonuniformCatmullRom(a.x,u.x,h.x,s.x,t,n,r),yl.initNonuniformCatmullRom(a.y,u.y,h.y,s.y,t,n,r),bl.initNonuniformCatmullRom(a.z,u.z,h.z,s.z,t,n,r)}else"catmullrom"===this.curveType&&(vl.initCatmullRom(a.x,u.x,h.x,s.x,this.tension),yl.initCatmullRom(a.y,u.y,h.y,s.y,this.tension),bl.initCatmullRom(a.z,u.z,h.z,s.z,this.tension));return n.set(vl.calc(c),yl.calc(c),bl.calc(c)),n},xl.prototype.copy=function(e){dl.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},xl.prototype.toJSON=function(){const e=dl.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},xl.prototype.fromJSON=function(e){dl.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new ge).fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},El.prototype=Object.create(dl.prototype),El.prototype.constructor=El,El.prototype.isCubicBezierCurve=!0,El.prototype.getPoint=function(e,t){const n=t||new ae,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Sl(e,r.x,i.x,o.x,a.x),Sl(e,r.y,i.y,o.y,a.y)),n},El.prototype.copy=function(e){return dl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},El.prototype.toJSON=function(){const e=dl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},El.prototype.fromJSON=function(e){return dl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Ml.prototype=Object.create(dl.prototype),Ml.prototype.constructor=Ml,Ml.prototype.isCubicBezierCurve3=!0,Ml.prototype.getPoint=function(e,t){const n=t||new ge,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(Sl(e,r.x,i.x,o.x,a.x),Sl(e,r.y,i.y,o.y,a.y),Sl(e,r.z,i.z,o.z,a.z)),n},Ml.prototype.copy=function(e){return dl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},Ml.prototype.toJSON=function(){const e=dl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},Ml.prototype.fromJSON=function(e){return dl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},Tl.prototype=Object.create(dl.prototype),Tl.prototype.constructor=Tl,Tl.prototype.isLineCurve=!0,Tl.prototype.getPoint=function(e,t){const n=t||new ae;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},Tl.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},Tl.prototype.getTangent=function(e,t){const n=t||new ae;return n.copy(this.v2).sub(this.v1).normalize(),n},Tl.prototype.copy=function(e){return dl.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Tl.prototype.toJSON=function(){const e=dl.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Tl.prototype.fromJSON=function(e){return dl.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},kl.prototype=Object.create(dl.prototype),kl.prototype.constructor=kl,kl.prototype.isLineCurve3=!0,kl.prototype.getPoint=function(e,t){const n=t||new ge;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},kl.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},kl.prototype.copy=function(e){return dl.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},kl.prototype.toJSON=function(){const e=dl.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},kl.prototype.fromJSON=function(e){return dl.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Rl.prototype=Object.create(dl.prototype),Rl.prototype.constructor=Rl,Rl.prototype.isQuadraticBezierCurve=!0,Rl.prototype.getPoint=function(e,t){const n=t||new ae,r=this.v0,i=this.v1,o=this.v2;return n.set(wl(e,r.x,i.x,o.x),wl(e,r.y,i.y,o.y)),n},Rl.prototype.copy=function(e){return dl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Rl.prototype.toJSON=function(){const e=dl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Rl.prototype.fromJSON=function(e){return dl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Cl.prototype=Object.create(dl.prototype),Cl.prototype.constructor=Cl,Cl.prototype.isQuadraticBezierCurve3=!0,Cl.prototype.getPoint=function(e,t){const n=t||new ge,r=this.v0,i=this.v1,o=this.v2;return n.set(wl(e,r.x,i.x,o.x),wl(e,r.y,i.y,o.y),wl(e,r.z,i.z,o.z)),n},Cl.prototype.copy=function(e){return dl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},Cl.prototype.toJSON=function(){const e=dl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},Cl.prototype.fromJSON=function(e){return dl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},Pl.prototype=Object.create(dl.prototype),Pl.prototype.constructor=Pl,Pl.prototype.isSplineCurve=!0,Pl.prototype.getPoint=function(e,t){const n=t||new ae,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],l=r[o],c=r[o>r.length-2?r.length-1:o+1],u=r[o>r.length-3?r.length-1:o+2];return n.set(_l(a,s.x,l.x,c.x,u.x),_l(a,s.y,l.y,c.y,u.y)),n},Pl.prototype.copy=function(e){dl.prototype.copy.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push(n.clone())}return this},Pl.prototype.toJSON=function(){const e=dl.prototype.toJSON.call(this);e.points=[];for(let t=0,n=this.points.length;t<n;t++){const n=this.points[t];e.points.push(n.toArray())}return e},Pl.prototype.fromJSON=function(e){dl.prototype.fromJSON.call(this,e),this.points=[];for(let t=0,n=e.points.length;t<n;t++){const n=e.points[t];this.points.push((new ae).fromArray(n))}return this};var Al=Object.freeze({__proto__:null,ArcCurve:pl,CatmullRomCurve3:xl,CubicBezierCurve:El,CubicBezierCurve3:Ml,EllipseCurve:fl,LineCurve:Tl,LineCurve3:kl,QuadraticBezierCurve:Rl,QuadraticBezierCurve3:Cl,SplineCurve:Pl});function Ll(){dl.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Ol(e){Ll.call(this),this.type="Path",this.currentPoint=new ae,e&&this.setFromPoints(e)}function Il(e){Ol.call(this,e),this.uuid=oe.generateUUID(),this.type="Shape",this.holes=[]}function Nl(e,t){mt.call(this),this.type="Light",this.color=new zt(e),this.intensity=void 0!==t?t:1}function Dl(e,t,n){Nl.call(this,e,n),this.type="HemisphereLight",this.position.copy(mt.DefaultUp),this.updateMatrix(),this.groundColor=new zt(t)}function zl(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new ae(512,512),this.map=null,this.mapPass=null,this.matrix=new Ge,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Gn,this._frameExtents=new ae(1,1),this._viewportCount=1,this._viewports=[new de(0,0,1,1)]}function Fl(){zl.call(this,new zn(50,1,.5,500)),this.focus=1}function Ul(e,t,n,r,i,o){Nl.call(this,e,t),this.type="SpotLight",this.position.copy(mt.DefaultUp),this.updateMatrix(),this.target=new mt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new Fl}function Bl(){zl.call(this,new zn(90,1,.5,500)),this._frameExtents=new ae(4,2),this._viewportCount=6,this._viewports=[new de(2,1,1,1),new de(0,1,1,1),new de(3,1,1,1),new de(1,1,1,1),new de(3,0,1,1),new de(1,0,1,1)],this._cubeDirections=[new ge(1,0,0),new ge(-1,0,0),new ge(0,0,1),new ge(0,0,-1),new ge(0,1,0),new ge(0,-1,0)],this._cubeUps=[new ge(0,1,0),new ge(0,1,0),new ge(0,1,0),new ge(0,1,0),new ge(0,0,1),new ge(0,0,-1)]}function jl(e,t,n,r){Nl.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Bl}function Hl(e,t,n,r,i,o){Dn.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Vl(){zl.call(this,new Hl(-5,5,5,-5,.5,500))}function Gl(e,t){Nl.call(this,e,t),this.type="DirectionalLight",this.position.copy(mt.DefaultUp),this.updateMatrix(),this.target=new mt,this.shadow=new Vl}function Wl(e,t){Nl.call(this,e,t),this.type="AmbientLight"}function ql(e,t,n,r){Nl.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}Ll.prototype=Object.assign(Object.create(dl.prototype),{constructor:Ll,add:function(e){this.curves.push(e)},closePath:function(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Tl(t,e))},getPoint:function(e){const t=e*this.getLength(),n=this.getCurveLengths();let r=0;for(;r<n.length;){if(n[r]>=t){const e=n[r]-t,i=this.curves[r],o=i.getLength(),a=0===o?0:1-e/o;return i.getPointAt(a)}r++}return null},getLength:function(){const e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);const t=[];for(let n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;const t=[];let n;for(let r=0,i=this.curves;r<i.length;r++){const o=i[r],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a);for(let e=0;e<s.length;e++){const r=s[e];n&&n.equals(r)||(t.push(r),n=r)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t},copy:function(e){dl.prototype.copy.call(this,e),this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){const e=dl.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(let t=0,n=this.curves.length;t<n;t++){const n=this.curves[t];e.curves.push(n.toJSON())}return e},fromJSON:function(e){dl.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,n=e.curves.length;t<n;t++){const n=e.curves[t];this.curves.push((new Al[n.type]).fromJSON(n))}return this}}),Ol.prototype=Object.assign(Object.create(Ll.prototype),{constructor:Ol,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(let t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){const n=new Tl(this.currentPoint.clone(),new ae(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,r){const i=new Rl(this.currentPoint.clone(),new ae(e,t),new ae(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this},bezierCurveTo:function(e,t,n,r,i,o){const a=new El(this.currentPoint.clone(),new ae(e,t),new ae(n,r),new ae(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this},splineThru:function(e){const t=new Pl([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,r,i,o){const a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,i,o),this},absarc:function(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this},ellipse:function(e,t,n,r,i,o,a,s){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+l,t+c,n,r,i,o,a,s),this},absellipse:function(e,t,n,r,i,o,a,s){const l=new fl(e,t,n,r,i,o,a,s);if(this.curves.length>0){const e=l.getPoint(0);e.equals(this.currentPoint)||this.lineTo(e.x,e.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this},copy:function(e){return Ll.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){const e=Ll.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return Ll.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),Il.prototype=Object.assign(Object.create(Ol.prototype),{constructor:Il,getPointsHoles:function(e){const t=[];for(let n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){Ol.prototype.copy.call(this,e),this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push(n.clone())}return this},toJSON:function(){const e=Ol.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(let t=0,n=this.holes.length;t<n;t++){const n=this.holes[t];e.holes.push(n.toJSON())}return e},fromJSON:function(e){Ol.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(let t=0,n=e.holes.length;t<n;t++){const n=e.holes[t];this.holes.push((new Ol).fromJSON(n))}return this}}),Nl.prototype=Object.assign(Object.create(mt.prototype),{constructor:Nl,isLight:!0,copy:function(e){return mt.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){const t=mt.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),Dl.prototype=Object.assign(Object.create(Nl.prototype),{constructor:Dl,isHemisphereLight:!0,copy:function(e){return Nl.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(zl.prototype,{_projScreenMatrix:new Ge,_lightPositionWorld:new ge,_lookTarget:new ge,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){const t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),Fl.prototype=Object.assign(Object.create(zl.prototype),{constructor:Fl,isSpotLightShadow:!0,updateMatrices:function(e){const t=this.camera,n=2*oe.RAD2DEG*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),zl.prototype.updateMatrices.call(this,e)}}),Ul.prototype=Object.assign(Object.create(Nl.prototype),{constructor:Ul,isSpotLight:!0,copy:function(e){return Nl.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Bl.prototype=Object.assign(Object.create(zl.prototype),{constructor:Bl,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);const n=this.camera,r=this.matrix,i=this._lightPositionWorld,o=this._lookTarget,a=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),n.position.copy(i),o.copy(n.position),o.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(o),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),a.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}}),jl.prototype=Object.assign(Object.create(Nl.prototype),{constructor:jl,isPointLight:!0,copy:function(e){return Nl.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Hl.prototype=Object.assign(Object.create(Dn.prototype),{constructor:Hl,isOrthographicCamera:!0,copy:function(e,t){return Dn.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){const e=(this.right-this.left)/this.view.fullWidth/this.zoom,t=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=e*this.view.offsetX,o=i+e*this.view.width,a-=t*this.view.offsetY,s=a-t*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){const t=mt.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Vl.prototype=Object.assign(Object.create(zl.prototype),{constructor:Vl,isDirectionalLightShadow:!0,updateMatrices:function(e){zl.prototype.updateMatrices.call(this,e)}}),Gl.prototype=Object.assign(Object.create(Nl.prototype),{constructor:Gl,isDirectionalLight:!0,copy:function(e){return Nl.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Wl.prototype=Object.assign(Object.create(Nl.prototype),{constructor:Wl,isAmbientLight:!0}),ql.prototype=Object.assign(Object.create(Nl.prototype),{constructor:ql,isRectAreaLight:!0,copy:function(e){return Nl.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){const t=Nl.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}});class Xl{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ge)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],n*i*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t}getIrradianceAt(e,t){const n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*n*i),t.addScaledVector(o[8],.429043*(n*n-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(e,t){void 0===t&&(t=0);const n=this.coefficients;for(let r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this}toArray(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);const n=this.coefficients;for(let r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}static getBasisAt(e,t){const n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}function Yl(e,t){Nl.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new Xl}function Zl(e){rl.call(this,e),this.textures={}}Yl.prototype=Object.assign(Object.create(Nl.prototype),{constructor:Yl,isLightProbe:!0,copy:function(e){return Nl.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){const t=Nl.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),Zl.prototype=Object.assign(Object.create(rl.prototype),{constructor:Zl,load:function(e,t,n,r){const i=this,o=new ol(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}}),n,r)},parse:function(e){const t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}const r=new Fs[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new zt).setHex(e.sheen)),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.vertexTangents&&(r.vertexTangents=e.vertexTangents),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"==typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(const t in e.uniforms){const i=e.uniforms[t];switch(r.uniforms[t]={},i.type){case"t":r.uniforms[t].value=n(i.value);break;case"c":r.uniforms[t].value=(new zt).setHex(i.value);break;case"v2":r.uniforms[t].value=(new ae).fromArray(i.value);break;case"v3":r.uniforms[t].value=(new ge).fromArray(i.value);break;case"v4":r.uniforms[t].value=(new de).fromArray(i.value);break;case"m3":r.uniforms[t].value=(new se).fromArray(i.value);break;case"m4":r.uniforms[t].value=(new Ge).fromArray(i.value);break;default:r.uniforms[t].value=i.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(const t in e.extensions)r.extensions[t]=e.extensions[t];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){let t=e.normalScale;!1===Array.isArray(t)&&(t=[t,t]),r.normalScale=(new ae).fromArray(t)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new ae).fromArray(e.clearcoatNormalScale)),void 0!==e.transmission&&(r.transmission=e.transmission),void 0!==e.transmissionMap&&(r.transmissionMap=n(e.transmissionMap)),r},setTextures:function(e){return this.textures=e,this}});const Ql={decodeText:function(e){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(e);let t="";for(let n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(e){return t}},extractUrlBase:function(e){const t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function $l(){un.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Kl(e,t,n,r){"number"==typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),Gt.call(this,e,t,n),this.meshPerAttribute=r||1}function Jl(e){rl.call(this,e)}$l.prototype=Object.assign(Object.create(un.prototype),{constructor:$l,isInstancedBufferGeometry:!0,copy:function(e){return un.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const e=un.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),Kl.prototype=Object.assign(Object.create(Gt.prototype),{constructor:Kl,isInstancedBufferAttribute:!0,copy:function(e){return Gt.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){const e=Gt.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Jl.prototype=Object.assign(Object.create(rl.prototype),{constructor:Jl,load:function(e,t,n,r){const i=this,o=new ol(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}}),n,r)},parse:function(e){const t={},n={};function r(e,r){if(void 0!==t[r])return t[r];const i=e.interleavedBuffers[r],o=function(e,t){if(void 0!==n[t])return n[t];const r=e.arrayBuffers[t],i=new Uint32Array(r).buffer;return n[t]=i,i}(e,i.buffer),a=new no(new ec[i.type](o),i.stride);return a.uuid=i.uuid,t[r]=a,a}const i=e.isInstancedBufferGeometry?new $l:new un,o=e.data.index;if(void 0!==o){const e=new ec[o.type](o.array);i.setIndex(new Gt(e,1))}const a=e.data.attributes;for(const t in a){const n=a[t];let o;if(n.isInterleavedBufferAttribute){o=new io(r(e.data,n.data),n.itemSize,n.offset,n.normalized)}else{const e=new ec[n.type](n.array);o=new(n.isInstancedBufferAttribute?Kl:Gt)(e,n.itemSize,n.normalized)}void 0!==n.name&&(o.name=n.name),i.setAttribute(t,o)}const s=e.data.morphAttributes;if(s)for(const t in s){const n=s[t],o=[];for(let t=0,i=n.length;t<i;t++){const i=n[t];let a;if(i.isInterleavedBufferAttribute){a=new io(r(e.data,i.data),i.itemSize,i.offset,i.normalized)}else{a=new Gt(new ec[i.type](i.array),i.itemSize,i.normalized)}void 0!==i.name&&(a.name=i.name),o.push(a)}i.morphAttributes[t]=o}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);const l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(let e=0,t=l.length;e!==t;++e){const t=l[e];i.addGroup(t.start,t.count,t.materialIndex)}const c=e.data.boundingSphere;if(void 0!==c){const e=new ge;void 0!==c.center&&e.fromArray(c.center),i.boundingSphere=new Ne(e,c.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}});const ec={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};const tc={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},nc={RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002},rc={NearestFilter:1003,NearestMipmapNearestFilter:1004,NearestMipmapLinearFilter:1005,LinearFilter:1006,LinearMipmapNearestFilter:1007,LinearMipmapLinearFilter:1008};function ic(e){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),rl.call(this,e),this.options={premultiplyAlpha:"none"}}function oc(){this.type="ShapePath",this.color=new zt,this.subPaths=[],this.currentPath=null}function ac(e){this.type="Font",this.data=e}function sc(e,t,n,r,i){const o=i.glyphs[e]||i.glyphs["?"];if(!o)return void console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".");const a=new oc;let s,l,c,u,h,d,f,p;if(o.o){const e=o._cachedOutline||(o._cachedOutline=o.o.split(" "));for(let i=0,o=e.length;i<o;){switch(e[i++]){case"m":s=e[i++]*t+n,l=e[i++]*t+r,a.moveTo(s,l);break;case"l":s=e[i++]*t+n,l=e[i++]*t+r,a.lineTo(s,l);break;case"q":c=e[i++]*t+n,u=e[i++]*t+r,h=e[i++]*t+n,d=e[i++]*t+r,a.quadraticCurveTo(h,d,c,u);break;case"b":c=e[i++]*t+n,u=e[i++]*t+r,h=e[i++]*t+n,d=e[i++]*t+r,f=e[i++]*t+n,p=e[i++]*t+r,a.bezierCurveTo(h,d,f,p,c,u)}}}return{offsetX:o.ha*t,path:a}}function lc(e){rl.call(this,e)}let cc;ic.prototype=Object.assign(Object.create(rl.prototype),{constructor:ic,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const i=this,o=el.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;const a={};a.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(e,a).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,i.options)})).then((function(n){el.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Object.assign(oc.prototype,{moveTo:function(e,t){return this.currentPath=new Ol,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this},bezierCurveTo:function(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){const t=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],i=new Il;i.curves=r.curves,t.push(i)}return t}function r(e,t){const n=t.length;let r=!1;for(let i=n-1,o=0;o<n;i=o++){let n=t[i],a=t[o],s=a.x-n.x,l=a.y-n.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(n=t[o],s=-s,a=t[i],l=-l),e.y<n.y||e.y>a.y)continue;if(e.y===n.y){if(e.x===n.x)return!0}else{const t=l*(e.x-n.x)-s*(e.y-n.y);if(0===t)return!0;if(t<0)continue;r=!r}}else{if(e.y!==n.y)continue;if(a.x<=e.x&&e.x<=n.x||n.x<=e.x&&e.x<=a.x)return!0}}return r}const i=Ya.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);let a,s,l;const c=[];if(1===o.length)return s=o[0],l=new Il,l.curves=s.curves,c.push(l),c;let u=!i(o[0].getPoints());u=e?!u:u;const h=[],d=[];let f,p,m=[],g=0;d[g]=void 0,m[g]=[];for(let t=0,n=o.length;t<n;t++)s=o[t],f=s.getPoints(),a=i(f),a=e?!a:a,a?(!u&&d[g]&&g++,d[g]={s:new Il,p:f},d[g].s.curves=s.curves,u&&g++,m[g]=[]):m[g].push({h:s,p:f[0]});if(!d[0])return n(o);if(d.length>1){let e=!1;const t=[];for(let e=0,t=d.length;e<t;e++)h[e]=[];for(let n=0,i=d.length;n<i;n++){const i=m[n];for(let o=0;o<i.length;o++){const a=i[o];let s=!0;for(let i=0;i<d.length;i++)r(a.p,d[i].p)&&(n!==i&&t.push({froms:n,tos:i,hole:o}),s?(s=!1,h[i].push(a)):e=!0);s&&h[n].push(a)}}t.length>0&&(e||(m=h))}for(let e=0,t=d.length;e<t;e++){l=d[e].s,c.push(l),p=m[e];for(let e=0,t=p.length;e<t;e++)l.holes.push(p[e].h)}return c}}),Object.assign(ac.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);const n=[],r=function(e,t,n){const r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[];let s=0,l=0;for(let e=0;e<r.length;e++){const t=r[e];if("\n"===t)s=0,l-=o;else{const e=sc(t,i,s,l,n);s+=e.offsetX,a.push(e.path)}}return a}(e,t,this.data);for(let e=0,t=r.length;e<t;e++)Array.prototype.push.apply(n,r[e].toShapes());return n}}),lc.prototype=Object.assign(Object.create(rl.prototype),{constructor:lc,load:function(e,t,n,r){const i=this,o=new ol(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(e){let n;try{n=JSON.parse(e)}catch(t){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}const r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new ac(e)}});const uc={getContext:function(){return void 0===cc&&(cc=new(window.AudioContext||window.webkitAudioContext)),cc},setContext:function(e){cc=e}};function hc(e){rl.call(this,e)}function dc(e,t,n){Yl.call(this,void 0,n);const r=(new zt).set(e),i=(new zt).set(t),o=new ge(r.r,r.g,r.b),a=new ge(i.r,i.g,i.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(l)}function fc(e,t){Yl.call(this,void 0,t);const n=(new zt).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}hc.prototype=Object.assign(Object.create(rl.prototype),{constructor:hc,load:function(e,t,n,r){const i=this,o=new ol(i.manager);o.setResponseType("arraybuffer"),o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,(function(n){try{const e=n.slice(0);uc.getContext().decodeAudioData(e,(function(e){t(e)}))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}}),n,r)}}),dc.prototype=Object.assign(Object.create(Yl.prototype),{constructor:dc,isHemisphereLightProbe:!0,copy:function(e){return Yl.prototype.copy.call(this,e),this},toJSON:function(e){return Yl.prototype.toJSON.call(this,e)}}),fc.prototype=Object.assign(Object.create(Yl.prototype),{constructor:fc,isAmbientLightProbe:!0,copy:function(e){return Yl.prototype.copy.call(this,e),this},toJSON:function(e){return Yl.prototype.toJSON.call(this,e)}});const pc=new Ge,mc=new Ge;function gc(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new zn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new zn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}Object.assign(gc.prototype,{update:function(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;const n=e.projectionMatrix.clone(),r=t.eyeSep/2,i=r*t.near/t.focus,o=t.near*Math.tan(oe.DEG2RAD*t.fov*.5)/t.zoom;let a,s;mc.elements[12]=-r,pc.elements[12]=r,a=-o*t.aspect+i,s=o*t.aspect+i,n.elements[0]=2*t.near/(s-a),n.elements[8]=(s+a)/(s-a),this.cameraL.projectionMatrix.copy(n),a=-o*t.aspect-i,s=o*t.aspect-i,n.elements[0]=2*t.near/(s-a),n.elements[8]=(s+a)/(s-a),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(mc),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(pc)}});class vc{constructor(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=("undefined"==typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const yc=new ge,bc=new me,xc=new ge,_c=new ge;class wc extends mt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e){if(void 0===e&&(e=0),!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(e){return e||(e=[]),!0===this._connected?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this}setDetune(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Sc=new ge,Ec=new me,Mc=new ge,Tc=new ge;class kc{constructor(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let n=0;n<t.length;n++)e+=t[n];return e/t.length}}function Rc(e,t,n){let r,i,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(Rc.prototype,{accumulate:function(e,t){const n=this.buffer,r=this.valueSize,i=e*r+r;let o=this.cumulativeWeight;if(0===o){for(let e=0;e!==r;++e)n[i+e]=n[e];o=t}else{o+=t;const e=t/o;this._mixBufferRegion(n,i,0,e,r)}this.cumulativeWeight=o},accumulateAdditive:function(e){const t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){const t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){const e=t*this._origIndex;this._mixBufferRegion(n,r,e,1-i,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(let e=t,i=t+t;e!==i;++e)if(n[e]!==n[e+t]){a.setValue(n,r);break}},saveOriginalState:function(){const e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(let e=n,i=r;e!==i;++e)t[e]=t[r+e%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,r,i){if(r>=.5)for(let r=0;r!==i;++r)e[t+r]=e[n+r]},_slerp:function(e,t,n,r){me.slerpFlat(e,t,e,t,e,n,r)},_slerpAdditive:function(e,t,n,r,i){const o=this._workIndex*i;me.multiplyQuaternionsFlat(e,o,e,t,e,n),me.slerpFlat(e,t,e,t,e,o,r)},_lerp:function(e,t,n,r,i){const o=1-r;for(let a=0;a!==i;++a){const i=t+a;e[i]=e[i]*o+e[n+a]*r}},_lerpAdditive:function(e,t,n,r,i){for(let o=0;o!==i;++o){const i=t+o;e[i]=e[i]+e[n+o]*r}}});const Cc=new RegExp("[\\[\\]\\.:\\/]","g"),Pc="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",Ac=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),Lc=/(WCOD+)?/.source.replace("WCOD",Pc),Oc=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Ic=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Nc=new RegExp("^"+Ac+Lc+Oc+Ic+"$"),Dc=["material","materials","bones"];function zc(e,t,n){const r=n||Fc.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Fc(e,t,n){this.path=t,this.parsedPath=n||Fc.parseTrackName(t),this.node=Fc.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Uc(){this.uuid=oe.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}Object.assign(zc.prototype,{getValue:function(e,t){this.bind();const n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){const n=this._bindings;for(let r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Fc,{Composite:zc,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Fc.Composite(e,t,n):new Fc(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(Cc,"")},parseTrackName:function(e){const t=Nc.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){const e=n.nodeName.substring(r+1);-1!==Dc.indexOf(e)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=e)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){const n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){const n=function(e){for(let r=0;r<e.length;r++){const i=e[r];if(i.name===t||i.uuid===t)return i;const o=n(i.children);if(o)return o}return null},r=n(e.children);if(r)return r}return null}}),Object.assign(Fc.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){const n=this.resolvedProperty;for(let r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){let e=this.node;const t=this.parsedPath,n=t.objectName,r=t.propertyName;let i=t.propertyIndex;if(e||(e=Fc.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(n){let r=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let t=0;t<e.length;t++)if(e[t].name===r){r=t;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==r){if(void 0===e[r])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[r]}}const o=e[r];if(void 0===o){const n=t.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+n+"."+r+" but it wasn't found.",e)}let a=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?a=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(a=this.Versioning.MatrixWorldNeedsUpdate);let s=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}s=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else void 0!==o.fromArray&&void 0!==o.toArray?(s=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(s=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[s],this.setValue=this.SetterByBindingTypeAndVersioning[s][a]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Fc.prototype,{_getValue_unbound:Fc.prototype.getValue,_setValue_unbound:Fc.prototype.setValue}),Object.assign(Uc.prototype,{isAnimationObjectGroup:!0,add:function(){const e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length;let a,s=e.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],h=u.uuid;let d=t[h];if(void 0===d){d=s++,t[h]=d,e.push(u);for(let e=0,t=o;e!==t;++e)i[e].push(new Fc(u,n[e],r[e]))}else if(d<l){a=e[d];const s=--l,c=e[s];t[c.uuid]=d,e[d]=c,t[h]=s,e[s]=u;for(let e=0,t=o;e!==t;++e){const t=i[e],o=t[s];let a=t[d];t[d]=o,void 0===a&&(a=new Fc(u,n[e],r[e])),t[s]=a}}else e[d]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const a=arguments[o],s=a.uuid,l=t[s];if(void 0!==l&&l>=i){const o=i++,c=e[o];t[c.uuid]=l,e[l]=c,t[s]=o,e[o]=a;for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[o],i=t[l];t[l]=r,t[o]=i}}}this.nCachedObjects_=i},uncache:function(){const e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length;let i=this.nCachedObjects_,o=e.length;for(let a=0,s=arguments.length;a!==s;++a){const s=arguments[a].uuid,l=t[s];if(void 0!==l)if(delete t[s],l<i){const a=--i,s=e[a],c=--o,u=e[c];t[s.uuid]=l,e[l]=s,t[u.uuid]=a,e[a]=u,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e],r=t[a],i=t[c];t[l]=r,t[a]=i,t.pop()}}else{const i=--o,a=e[i];t[a.uuid]=l,e[l]=a,e.pop();for(let e=0,t=r;e!==t;++e){const t=n[e];t[l]=t[i],t.pop()}}}this.nCachedObjects_=i},subscribe_:function(e,t){const n=this._bindingsIndicesByPath;let r=n[e];const i=this._bindings;if(void 0!==r)return i[r];const o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(u);for(let n=c,r=s.length;n!==r;++n){const r=s[n];u[n]=new Fc(r,e,t)}return u},unsubscribe_:function(e){const t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){const r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}});class Bc{constructor(e,t,n,r){this._mixer=e,this._clip=t,this._localRoot=n||null,this.blendMode=r||t.blendMode;const i=t.tracks,o=i.length,a=new Array(o),s={endingStart:2400,endingEnd:2400};for(let e=0;e!==o;++e){const t=i[e].createInterpolant(null);a[e]=t,t.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){const n=this._clip.duration,r=e._clip.duration,i=r/n,o=n/r;e.warp(1,i,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,n){return e.crossFadeFrom(this,t,n)}stopFading(){const e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,n){const r=this._mixer,i=r.time,o=this.timeScale;let a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=i,s[1]=i+n,l[0]=e/o,l[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,n,r){if(!this.enabled)return void this._updateWeight(e);const i=this._startTime;if(null!==i){const r=(e-i)*n;if(r<0||0===n)return;this._startTime=null,t=n*r}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const e=this._interpolants,t=this._propertyBindings;switch(this.blendMode){case 2501:for(let n=0,r=e.length;n!==r;++n)e[n].evaluate(o),t[n].accumulateAdditive(a);break;case 2500:default:for(let n=0,i=e.length;n!==i;++n)e[n].evaluate(o),t[n].accumulate(r,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const n=this._weightInterpolant;if(null!==n){const r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const n=this._timeScaleInterpolant;if(null!==n){t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,n=this.loop;let r=this.time+e,i=this._loopCount;const o=2202===n;if(0===e)return-1===i?r:o&&1==(1&i)?t-r:r;if(2200===n){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){const n=Math.floor(r/t);r-=t*n,i+=Math.abs(n);const a=this.repetitions-i;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===a){const t=e<0;this._setEndings(t,!t,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:n})}}else this.time=r;if(o&&1==(1&i))return t-r}return r}_setEndings(e,t,n){const r=this._interpolantSettings;n?(r.endingStart=2401,r.endingEnd=2401):(r.endingStart=e?this.zeroSlopeAtStart?2401:2400:2402,r.endingEnd=t?this.zeroSlopeAtEnd?2401:2400:2402)}_scheduleFading(e,t,n){const r=this._mixer,i=r.time;let o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}function jc(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}jc.prototype=Object.assign(Object.create(ne.prototype),{constructor:jc,_bindAction:function(e,t){const n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,l=this._bindingsByRootAndName;let c=l[s];void 0===c&&(c={},l[s]=c);for(let e=0;e!==i;++e){const i=r[e],l=i.name;let u=c[l];if(void 0!==u)o[e]=u;else{if(u=o[e],void 0!==u){null===u._cacheIndex&&(++u.referenceCount,this._addInactiveBinding(u,s,l));continue}const r=t&&t._propertyBindings[e].binding.parsedPath;u=new Rc(Fc.create(n,l,r),i.ValueTypeName,i.getValueSize()),++u.referenceCount,this._addInactiveBinding(u,s,l),o[e]=u}a[e].resultBuffer=u.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){const t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0==n.useCount++&&(this._lendBinding(n),n.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0==--n.useCount&&(n.restoreOriginalState(),this._takeBackBinding(n))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){const t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){const r=this._actions,i=this._actionsByClip;let o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{const t=o.knownActions;e._byClipCacheIndex=t.length,t.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){const t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;const i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,l=s[s.length-1],c=e._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),e._byClipCacheIndex=null;delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){const t=e._propertyBindings;for(let e=0,n=t.length;e!==n;++e){const n=t[e];0==--n.referenceCount&&this._removeInactiveBinding(n)}},_lendAction:function(e){const t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){const t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){const r=this._bindingsByRootAndName,i=this._bindings;let o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=i.length,i.push(e)},_removeInactiveBinding:function(e){const t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],l=e._cacheIndex;s._cacheIndex=l,t[l]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]},_lendBinding:function(e){const t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){const t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let n=e[t];return void 0===n&&(n=new Hs(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),n.__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){const t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){const r=t||this._root,i=r.uuid;let o="string"==typeof e?Ks.findByName(r,e):e;const a=null!==o?o.uuid:e,s=this._actionsByClip[a];let l=null;if(void 0===n&&(n=null!==o?o.blendMode:2500),void 0!==s){const e=s.actionByRoot[i];if(void 0!==e&&e.blendMode===n)return e;l=s.knownActions[0],null===o&&(o=l._clip)}if(null===o)return null;const c=new Bc(this,o,t,n);return this._bindAction(c,l),this._addInactiveAction(c,a,i),c},existingAction:function(e,t){const n=t||this._root,r=n.uuid,i="string"==typeof e?Ks.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){const e=this._actions;for(let t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this},update:function(e){e*=this.timeScale;const t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1;for(let a=0;a!==n;++a){t[a]._update(r,e,i,o)}const a=this._bindings,s=this._nActiveBindings;for(let e=0;e!==s;++e)a[e].apply(o);return this},setTime:function(e){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){const t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){const e=i.knownActions;for(let n=0,r=e.length;n!==r;++n){const r=e[n];this._deactivateAction(r);const i=r._cacheIndex,o=t[t.length-1];r._cacheIndex=null,r._byClipCacheIndex=null,o._cacheIndex=i,t[i]=o,t.pop(),this._removeInactiveBindingsForAction(r)}delete r[n]}},uncacheRoot:function(e){const t=e.uuid,n=this._actionsByClip;for(const e in n){const r=n[e].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}const r=this._bindingsByRootAndName[t];if(void 0!==r)for(const e in r){const t=r[e];t.restoreOriginalState(),this._removeInactiveBinding(t)}},uncacheAction:function(e,t){const n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}});class Hc{constructor(e){"string"==typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}clone(){return new Hc(void 0===this.value.clone?this.value:this.value.clone())}}function Vc(e,t,n){no.call(this,e,t),this.meshPerAttribute=n||1}function Gc(e,t,n,r,i){this.buffer=e,this.type=t,this.itemSize=n,this.elementSize=r,this.count=i,this.version=0}function Wc(e,t,n,r){this.ray=new Ve(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.layers=new tt,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function qc(e,t){return e.distance-t.distance}function Xc(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r){const r=e.children;for(let e=0,i=r.length;e<i;e++)Xc(r[e],t,n,!0)}}Vc.prototype=Object.assign(Object.create(no.prototype),{constructor:Vc,isInstancedInterleavedBuffer:!0,copy:function(e){return no.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){const t=no.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){const t=no.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.defineProperty(Gc.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Gc.prototype,{isGLBufferAttribute:!0,setBuffer:function(e){return this.buffer=e,this},setType:function(e,t){return this.type=e,this.elementSize=t,this},setItemSize:function(e){return this.itemSize=e,this},setCount:function(e){return this.count=e,this}}),Object.assign(Wc.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){const r=n||[];return Xc(e,this,r,t),r.sort(qc),r},intersectObjects:function(e,t,n){const r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(let n=0,i=e.length;n<i;n++)Xc(e[n],this,r,t);return r.sort(qc),r}});class Yc{constructor(e=1,t=0,n=0){return this.radius=e,this.phi=t,this.theta=n,this}set(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this}clone(){return(new this.constructor).copy(this)}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){const e=1e-6;return this.phi=Math.max(e,Math.min(Math.PI-e,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(oe.clamp(t/this.radius,-1,1))),this}}const Zc=new ae;class Qc{constructor(e,t){Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==e?e:new ae(1/0,1/0),this.max=void 0!==t?t:new ae(-1/0,-1/0)}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const n=Zc.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new ae),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new ae),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new ae),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new ae),t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Zc.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const $c=new ge,Kc=new ge;class Jc{constructor(e,t){this.start=void 0!==e?e:new ge,this.end=void 0!==t?t:new ge}set(e,t){return this.start.copy(e),this.end.copy(t),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new ge),e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new ge),e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new ge),this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){$c.subVectors(e,this.start),Kc.subVectors(this.end,this.start);const n=Kc.dot(Kc);let r=Kc.dot($c)/n;return t&&(r=oe.clamp(r,0,1)),r}closestPointToPoint(e,t,n){const r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new ge),this.delta(n).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}function eu(e){mt.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}eu.prototype=Object.create(mt.prototype),eu.prototype.constructor=eu,eu.prototype.isImmediateRenderObject=!0;const tu=new ge;const nu=new ge,ru=new Ge,iu=new Ge;class ou extends Go{constructor(e){const t=au(e),n=new un,r=[],i=[],o=new zt(0,0,1),a=new zt(0,1,0);for(let e=0;e<t.length;e++){const n=t[e];n.parent&&n.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.setAttribute("position",new Kt(r,3)),n.setAttribute("color",new Kt(i,3));super(n,new No({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,n=this.geometry,r=n.getAttribute("position");iu.getInverse(this.root.matrixWorld);for(let e=0,n=0;e<t.length;e++){const i=t[e];i.parent&&i.parent.isBone&&(ru.multiplyMatrices(iu,i.matrixWorld),nu.setFromMatrixPosition(ru),r.setXYZ(n,nu.x,nu.y,nu.z),ru.multiplyMatrices(iu,i.parent.matrixWorld),nu.setFromMatrixPosition(ru),r.setXYZ(n+1,nu.x,nu.y,nu.z),n+=2)}n.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}}function au(e){const t=[];e&&e.isBone&&t.push(e);for(let n=0;n<e.children.length;n++)t.push.apply(t,au(e.children[n]));return t}const su=new ge,lu=new zt,cu=new zt;class uu extends Go{constructor(e,t,n,r){e=e||10,t=t||10,n=new zt(void 0!==n?n:4473924),r=new zt(void 0!==r?r:8947848);const i=t/2,o=e/t,a=e/2,s=[],l=[];for(let e=0,c=0,u=-a;e<=t;e++,u+=o){s.push(-a,0,u,a,0,u),s.push(u,0,-a,u,0,a);const t=e===i?n:r;t.toArray(l,c),c+=3,t.toArray(l,c),c+=3,t.toArray(l,c),c+=3,t.toArray(l,c),c+=3}const c=new un;c.setAttribute("position",new Kt(s,3)),c.setAttribute("color",new Kt(l,3));super(c,new No({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}const hu=new ge,du=new ge,fu=new ge;const pu=new ge,mu=new Dn;function gu(e,t,n,r,i,o,a){pu.set(i,o,a).unproject(r);const s=t[e];if(void 0!==s){const e=n.getAttribute("position");for(let t=0,n=s.length;t<n;t++)e.setXYZ(s[t],pu.x,pu.y,pu.z)}}const vu=new be;class yu extends Go{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new un;i.setIndex(new Gt(n,1)),i.setAttribute("position",new Gt(r,3)),super(i,new No({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&vu.setFromObject(this.object),vu.isEmpty())return;const t=vu.min,n=vu.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e){return Go.prototype.copy.call(this,e),this.object=e.object,this}}const bu=new ge;let xu,_u;class wu extends Go{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new un;n.setAttribute("position",new Kt(t,3)),n.setAttribute("color",new Kt([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));super(n,new No({vertexColors:!0,toneMapped:!1})),this.type="AxesHelper"}}const Su=Math.pow(2,8),Eu=[.125,.215,.35,.446,.526,.582],Mu=5+Eu.length,Tu={3e3:0,3001:1,3002:2,3004:3,3005:4,3006:5,3007:6},ku=new Hl,{_lodPlanes:Ru,_sizeLods:Cu,_sigmas:Pu}=Du();let Au=null;const Lu=(1+Math.sqrt(5))/2,Ou=1/Lu,Iu=[new ge(1,1,1),new ge(-1,1,1),new ge(1,1,-1),new ge(-1,1,-1),new ge(0,Lu,Ou),new ge(0,Lu,-Ou),new ge(Ou,0,Lu),new ge(-Ou,0,Lu),new ge(Lu,Ou,0),new ge(-Lu,Ou,0)];function Nu(e){return void 0!==e&&1009===e.type&&(3e3===e.encoding||3001===e.encoding||3007===e.encoding)}function Du(){const e=[],t=[],n=[];let r=8;for(let i=0;i<Mu;i++){const o=Math.pow(2,r);t.push(o);let a=1/o;i>4?a=Eu[i-8+4-1]:0==i&&(a=0),n.push(a);const s=1/(o-1),l=-s/2,c=1+s/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],h=6,d=6,f=3,p=2,m=1,g=new Float32Array(f*d*h),v=new Float32Array(p*d*h),y=new Float32Array(m*d*h);for(let e=0;e<h;e++){const t=e%3*2/3-1,n=e>2?0:-1,r=[t,n,0,t+2/3,n,0,t+2/3,n+1,0,t,n,0,t+2/3,n+1,0,t,n+1,0];g.set(r,f*d*e),v.set(u,p*d*e);const i=[e,e,e,e,e,e];y.set(i,m*d*e)}const b=new un;b.setAttribute("position",new Gt(g,f)),b.setAttribute("uv",new Gt(v,p)),b.setAttribute("faceIndex",new Gt(y,m)),e.push(b),r>4&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}function zu(e){const t=new fe(3*Su,3*Su,e);return t.texture.mapping=306,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function Fu(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Uu(){return new Cs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new ae(1,1)},inputEncoding:{value:Tu[3e3]},outputEncoding:{value:Tu[3e3]}},vertexShader:ju(),fragmentShader:`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t${Hu()}\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,blending:0,depthTest:!1,depthWrite:!1})}function Bu(){return new Cs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Tu[3e3]},outputEncoding:{value:Tu[3e3]}},vertexShader:ju(),fragmentShader:`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t${Hu()}\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,blending:0,depthTest:!1,depthWrite:!1})}function ju(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function Hu(){return"\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t"}function Vu(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),xl.call(this,e),this.type="catmullrom",this.closed=!0}function Gu(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),xl.call(this,e),this.type="catmullrom"}function Wu(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),xl.call(this,e),this.type="catmullrom"}dl.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(dl.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(Ll.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");const t=new sa;for(let n=0,r=e.length;n<r;n++){const r=e[n];t.vertices.push(new ge(r.x,r.y,r.z||0))}return t}}),Object.assign(Ol.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),Vu.prototype=Object.create(xl.prototype),Gu.prototype=Object.create(xl.prototype),Wu.prototype=Object.create(xl.prototype),Object.assign(Wu.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),uu.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},ou.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(rl.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ql.extractUrlBase(e)}}),rl.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Qc.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(be.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Ne.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Gn.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Jc.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(oe,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),oe.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),oe.ceilPowerOfTwo(e)}}),Object.assign(se.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(Ge.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new ge).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),bt.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},me.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(Ve.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(Pt.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(Pt,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Pt.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Pt.getNormal(e,t,n,r)}}),Object.assign(Il.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ja(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new fs(this,e)}}),Object.assign(ae.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ge.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(de.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(sa.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.assign(mt.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(mt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(Rn.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(Rn.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(Eo.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Ro.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Mo.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(dl.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),zn.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(Nl.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(Gt.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Object.assign(Gt.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(un.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new Gt(arguments[1],arguments[2])))},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(un.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties($l.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties(Wc.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(no.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),35048===this.usage},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(no.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign($a.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.assign(to.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(Hc.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Bt.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new zt}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===e}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(Ls.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(As.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(e){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=e}}}),Object.defineProperties(Nn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign($i.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties($i.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?3001:3e3}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Hi.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(fe.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(wc.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return(new hc).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),kc.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},Fn.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};const qu={merge:function(e,t,n){let r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};ce.crossOrigin=void 0,ce.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const i=new hl;i.setCrossOrigin(this.crossOrigin);const o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},ce.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const i=new cl;i.setCrossOrigin(this.crossOrigin);const o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},ce.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},ce.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};const Xu={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"121"}}));var Yu=Object.freeze({__proto__:null,ACESFilmicToneMapping:4,AddEquation:100,AddOperation:2,AdditiveAnimationBlendMode:2501,AdditiveBlending:2,AlphaFormat:1021,AlwaysDepth:1,AlwaysStencilFunc:519,AmbientLight:Wl,AmbientLightProbe:fc,AnimationClip:Ks,AnimationLoader:al,AnimationMixer:jc,AnimationObjectGroup:Uc,AnimationUtils:Us,ArcCurve:pl,ArrayCamera:qi,ArrowHelper:class extends mt{constructor(e,t,n,r,i,o){super(),this.type="ArrowHelper",void 0===e&&(e=new ge(0,0,1)),void 0===t&&(t=new ge(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===xu&&(xu=new un,xu.setAttribute("position",new Kt([0,0,0,0,1,0],3)),_u=new ha(0,.5,1,5,1),_u.translate(0,-.5,0)),this.position.copy(t),this.line=new jo(xu,new No({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Rn(_u,new jt({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{bu.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(bu,t)}}setLength(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}},Audio:wc,AudioAnalyser:kc,AudioContext:uc,AudioListener:class extends mt{constructor(){super(),this.type="AudioListener",this.context=uc.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new vc}getInput(){return this.gain}removeFilter(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(yc,bc,xc),_c.set(0,0,-1).applyQuaternion(bc),t.positionX){const e=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(yc.x,e),t.positionY.linearRampToValueAtTime(yc.y,e),t.positionZ.linearRampToValueAtTime(yc.z,e),t.forwardX.linearRampToValueAtTime(_c.x,e),t.forwardY.linearRampToValueAtTime(_c.y,e),t.forwardZ.linearRampToValueAtTime(_c.z,e),t.upX.linearRampToValueAtTime(n.x,e),t.upY.linearRampToValueAtTime(n.y,e),t.upZ.linearRampToValueAtTime(n.z,e)}else t.setPosition(yc.x,yc.y,yc.z),t.setOrientation(_c.x,_c.y,_c.z,n.x,n.y,n.z)}},AudioLoader:hc,AxesHelper:wu,AxisHelper:function(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new wu(e)},BackSide:1,BasicDepthPacking:3200,BasicShadowMap:0,BinaryTextureLoader:function(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new ul(e)},Bone:Co,BooleanKeyframeTrack:Ws,BoundingBoxHelper:function(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new yu(e,t)},Box2:Qc,Box3:be,Box3Helper:class extends Go{constructor(e,t=16776960){const n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new un;r.setIndex(new Gt(n,1)),r.setAttribute("position",new Kt([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),super(r,new No({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}},BoxBufferGeometry:An,BoxGeometry:la,BoxHelper:yu,BufferAttribute:Gt,BufferGeometry:un,BufferGeometryLoader:Jl,ByteType:1010,Cache:el,Camera:Dn,CameraHelper:class extends Go{constructor(e){const t=new un,n=new No({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],o={},a=new zt(16755200),s=new zt(16711680),l=new zt(43775),c=new zt(16777215),u=new zt(3355443);function h(e,t,n){d(e,n),d(t,n)}function d(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",l),h("u2","u3",l),h("u3","u1",l),h("c","t",c),h("p","c",u),h("cn1","cn2",u),h("cn3","cn4",u),h("cf1","cf2",u),h("cf3","cf4",u),t.setAttribute("position",new Kt(r,3)),t.setAttribute("color",new Kt(i,3)),super(t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){const e=this.geometry,t=this.pointMap;mu.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),gu("c",t,e,mu,0,0,-1),gu("t",t,e,mu,0,0,1),gu("n1",t,e,mu,-1,-1,-1),gu("n2",t,e,mu,1,-1,-1),gu("n3",t,e,mu,-1,1,-1),gu("n4",t,e,mu,1,1,-1),gu("f1",t,e,mu,-1,-1,1),gu("f2",t,e,mu,1,-1,1),gu("f3",t,e,mu,-1,1,1),gu("f4",t,e,mu,1,1,1),gu("u1",t,e,mu,.7,1.1,-1),gu("u2",t,e,mu,-.7,1.1,-1),gu("u3",t,e,mu,0,2,-1),gu("cf1",t,e,mu,-1,0,1),gu("cf2",t,e,mu,1,0,1),gu("cf3",t,e,mu,0,-1,1),gu("cf4",t,e,mu,0,1,1),gu("cn1",t,e,mu,-1,0,-1),gu("cn2",t,e,mu,1,0,-1),gu("cn3",t,e,mu,0,-1,-1),gu("cn4",t,e,mu,0,1,-1),e.getAttribute("position").needsUpdate=!0}},CanvasRenderer:function(){console.error("THREE.CanvasRenderer has been removed")},CanvasTexture:ta,CatmullRomCurve3:xl,CineonToneMapping:3,CircleBufferGeometry:ca,CircleGeometry:ua,ClampToEdgeWrapping:1001,Clock:vc,ClosedSplineCurve3:Vu,Color:zt,ColorKeyframeTrack:qs,CompressedTexture:ea,CompressedTextureLoader:sl,ConeBufferGeometry:pa,ConeGeometry:fa,CubeCamera:Fn,CubeGeometry:la,CubeReflectionMapping:301,CubeRefractionMapping:302,CubeTexture:Un,CubeTextureLoader:cl,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307,CubicBezierCurve:El,CubicBezierCurve3:Ml,CubicInterpolant:js,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,CullFaceNone:0,Curve:dl,CurvePath:Ll,CustomBlending:5,CustomToneMapping:5,CylinderBufferGeometry:ha,CylinderGeometry:da,Cylindrical:class{constructor(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}set(e,t,n){return this.radius=e,this.theta=t,this.y=n,this}clone(){return(new this.constructor).copy(this)}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}},DataTexture:jn,DataTexture2DArray:hr,DataTexture3D:dr,DataTextureLoader:ul,DecrementStencilOp:7683,DecrementWrapStencilOp:34056,DefaultLoadingManager:nl,DepthFormat:1026,DepthStencilFormat:1027,DepthTexture:na,DirectionalLight:Gl,DirectionalLightHelper:class extends mt{constructor(e,t,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);let r=new un;r.setAttribute("position",new Kt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const i=new No({fog:!1,toneMapped:!1});this.lightPlane=new jo(r,i),this.add(this.lightPlane),r=new un,r.setAttribute("position",new Kt([0,0,0,0,0,1],3)),this.targetLine=new jo(r,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){hu.setFromMatrixPosition(this.light.matrixWorld),du.setFromMatrixPosition(this.light.target.matrixWorld),fu.subVectors(du,hu),this.lightPlane.lookAt(du),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(du),this.targetLine.scale.z=fu.length()}},DiscreteInterpolant:Vs,DodecahedronBufferGeometry:ga,DodecahedronGeometry:va,DoubleSide:2,DstAlphaFactor:206,DstColorFactor:208,DynamicBufferAttribute:function(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new Gt(e,t).setUsage(35048)},DynamicCopyUsage:35050,DynamicDrawUsage:35048,DynamicReadUsage:35049,EdgesGeometry:wa,EdgesHelper:function(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Go(new wa(e.geometry),new No({color:void 0!==t?t:16777215}))},EllipseCurve:fl,EqualDepth:4,EqualStencilFunc:514,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,Euler:Ke,EventDispatcher:ne,ExtrudeBufferGeometry:$a,ExtrudeGeometry:Ja,Face3:Ft,Face4:function(e,t,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Ft(e,t,n,i,o,a)},FaceColors:1,FileLoader:ol,FlatShading:1,Float32Attribute:function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Kt(e,t)},Float32BufferAttribute:Kt,Float64Attribute:function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Jt(e,t)},Float64BufferAttribute:Jt,FloatType:1015,Fog:eo,FogExp2:Ji,Font:ac,FontLoader:lc,FrontSide:0,Frustum:Gn,GLBufferAttribute:Gc,GLSL1:"100",GLSL3:"300 es",GammaEncoding:3007,Geometry:sa,GeometryUtils:qu,GreaterDepth:6,GreaterEqualDepth:5,GreaterEqualStencilFunc:518,GreaterStencilFunc:516,GridHelper:uu,Group:Xi,HalfFloatType:1016,HemisphereLight:Dl,HemisphereLightHelper:class extends mt{constructor(e,t,n){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;const r=new is(t);r.rotateY(.5*Math.PI),this.material=new jt({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);const i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.setAttribute("color",new Gt(o,3)),this.add(new Rn(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");lu.copy(this.light.color),cu.copy(this.light.groundColor);for(let e=0,n=t.count;e<n;e++){const r=e<n/2?lu:cu;t.setXYZ(e,r.r,r.g,r.b)}t.needsUpdate=!0}e.lookAt(su.setFromMatrixPosition(this.light.matrixWorld).negate())}},HemisphereLightProbe:dc,IcosahedronBufferGeometry:es,IcosahedronGeometry:ts,ImageBitmapLoader:ic,ImageLoader:ll,ImageUtils:ce,ImmediateRenderObject:eu,IncrementStencilOp:7682,IncrementWrapStencilOp:34055,InstancedBufferAttribute:Kl,InstancedBufferGeometry:$l,InstancedInterleavedBuffer:Vc,InstancedMesh:Io,Int16Attribute:function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Yt(e,t)},Int16BufferAttribute:Yt,Int32Attribute:function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Qt(e,t)},Int32BufferAttribute:Qt,Int8Attribute:function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new Wt(e,t)},Int8BufferAttribute:Wt,IntType:1013,InterleavedBuffer:no,InterleavedBufferAttribute:io,Interpolant:Bs,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,InvertStencilOp:5386,JSONLoader:function(){console.error("THREE.JSONLoader has been removed.")},KeepStencilOp:7680,KeyframeTrack:Gs,LOD:Eo,LatheBufferGeometry:ns,LatheGeometry:rs,Layers:tt,LensFlare:function(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")},LessDepth:2,LessEqualDepth:3,LessEqualStencilFunc:515,LessStencilFunc:513,Light:Nl,LightProbe:Yl,Line:jo,Line3:Jc,LineBasicMaterial:No,LineCurve:Tl,LineCurve3:kl,LineDashedMaterial:zs,LineLoop:Wo,LinePieces:1,LineSegments:Go,LineStrip:0,LinearEncoding:3e3,LinearFilter:1006,LinearInterpolant:Hs,LinearMipMapLinearFilter:1008,LinearMipMapNearestFilter:1007,LinearMipmapLinearFilter:1008,LinearMipmapNearestFilter:1007,LinearToneMapping:1,Loader:rl,LoaderUtils:Ql,LoadingManager:tl,LogLuvEncoding:3003,LoopOnce:2200,LoopPingPong:2202,LoopRepeat:2201,LuminanceAlphaFormat:1025,LuminanceFormat:1024,MOUSE:ee,Material:Bt,MaterialLoader:Zl,Math:oe,MathUtils:oe,Matrix3:se,Matrix4:Ge,MaxEquation:104,Mesh:Rn,MeshBasicMaterial:jt,MeshDepthMaterial:Bi,MeshDistanceMaterial:ji,MeshFaceMaterial:function(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e},MeshLambertMaterial:Ns,MeshMatcapMaterial:Ds,MeshNormalMaterial:Is,MeshPhongMaterial:Ls,MeshPhysicalMaterial:As,MeshStandardMaterial:Ps,MeshToonMaterial:Os,MinEquation:103,MirroredRepeatWrapping:1002,MixOperation:1,MultiMaterial:function(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e},MultiplyBlending:4,MultiplyOperation:0,NearestFilter:1003,NearestMipMapLinearFilter:1005,NearestMipMapNearestFilter:1004,NearestMipmapLinearFilter:1005,NearestMipmapNearestFilter:1004,NeverDepth:0,NeverStencilFunc:512,NoBlending:0,NoColors:0,NoToneMapping:0,NormalAnimationBlendMode:2500,NormalBlending:1,NotEqualDepth:7,NotEqualStencilFunc:517,NumberKeyframeTrack:Xs,Object3D:mt,ObjectLoader:class extends rl{constructor(e){super(e)}load(e,t,n,r){const i=this,o=""===this.path?Ql.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new ol(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(n){let o=null;try{o=JSON.parse(n)}catch(t){return void 0!==r&&r(t),void console.error("THREE:ObjectLoader: Can't parse "+e+".",t.message)}const a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)}parse(e,t){const n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s}parseShape(e){const t={};if(void 0!==e)for(let n=0,r=e.length;n<r;n++){const r=(new Il).fromJSON(e[n]);t[r.uuid]=r}return t}parseGeometries(e,t){const n={};let r;if(void 0!==e){const i=new Jl;for(let o=0,a=e.length;o<a;o++){let a;const s=e[o];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new ks[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new ks[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new ks[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new ks[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new ks[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new ks[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new ks[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new ks[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new ks[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new ks[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":a=new ks[s.type]((new Al[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":a=new ks[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new ks[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":r=[];for(let e=0,n=s.shapes.length;e<n;e++){const n=t[s.shapes[e]];r.push(n)}a=new ks[s.type](r,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":r=[];for(let e=0,n=s.shapes.length;e<n;e++){const n=t[s.shapes[e]];r.push(n)}const e=s.options.extrudePath;void 0!==e&&(s.options.extrudePath=(new Al[e.type]).fromJSON(e)),a=new ks[s.type](r,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(s);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),!0===a.isBufferGeometry&&void 0!==s.userData&&(a.userData=s.userData),n[s.uuid]=a}}return n}parseMaterials(e,t){const n={},r={};if(void 0!==e){const i=new Zl;i.setTextures(t);for(let t=0,o=e.length;t<o;t++){const o=e[t];if("MultiMaterial"===o.type){const e=[];for(let t=0;t<o.materials.length;t++){const r=o.materials[t];void 0===n[r.uuid]&&(n[r.uuid]=i.parse(r)),e.push(n[r.uuid])}r[o.uuid]=e}else void 0===n[o.uuid]&&(n[o.uuid]=i.parse(o)),r[o.uuid]=n[o.uuid]}}return r}parseAnimations(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n],i=Ks.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t}parseImages(e,t){const n=this,r={};let i;function o(e){return n.manager.itemStart(e),i.load(e,(function(){n.manager.itemEnd(e)}),void 0,(function(){n.manager.itemError(e),n.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){const a=new tl(t);i=new ll(a),i.setCrossOrigin(this.crossOrigin);for(let t=0,i=e.length;t<i;t++){const i=e[t],a=i.url;if(Array.isArray(a)){r[i.uuid]=[];for(let e=0,t=a.length;e<t;e++){const t=a[e],s=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(t)?t:n.resourcePath+t;r[i.uuid].push(o(s))}}else{const e=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(i.url)?i.url:n.resourcePath+i.url;r[i.uuid]=o(e)}}}return r}parseTextures(e,t){function n(e,t){return"number"==typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}const r={};if(void 0!==e)for(let i=0,o=e.length;i<o;i++){const o=e[i];let a;void 0===o.image&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),void 0===t[o.image]&&console.warn("THREE.ObjectLoader: Undefined image",o.image),a=Array.isArray(t[o.image])?new Un(t[o.image]):new he(t[o.image]),a.needsUpdate=!0,a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),void 0!==o.mapping&&(a.mapping=n(o.mapping,tc)),void 0!==o.offset&&a.offset.fromArray(o.offset),void 0!==o.repeat&&a.repeat.fromArray(o.repeat),void 0!==o.center&&a.center.fromArray(o.center),void 0!==o.rotation&&(a.rotation=o.rotation),void 0!==o.wrap&&(a.wrapS=n(o.wrap[0],nc),a.wrapT=n(o.wrap[1],nc)),void 0!==o.format&&(a.format=o.format),void 0!==o.type&&(a.type=o.type),void 0!==o.encoding&&(a.encoding=o.encoding),void 0!==o.minFilter&&(a.minFilter=n(o.minFilter,rc)),void 0!==o.magFilter&&(a.magFilter=n(o.magFilter,rc)),void 0!==o.anisotropy&&(a.anisotropy=o.anisotropy),void 0!==o.flipY&&(a.flipY=o.flipY),void 0!==o.premultiplyAlpha&&(a.premultiplyAlpha=o.premultiplyAlpha),void 0!==o.unpackAlignment&&(a.unpackAlignment=o.unpackAlignment),r[o.uuid]=a}return r}parseObject(e,t,n){let r,i,o;function a(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function s(e){if(void 0!==e){if(Array.isArray(e)){const t=[];for(let r=0,i=e.length;r<i;r++){const i=e[r];void 0===n[i]&&console.warn("THREE.ObjectLoader: Undefined material",i),t.push(n[i])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new to,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new zt(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new eo(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new Ji(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new zn(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new Hl(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new Wl(e.color,e.intensity);break;case"DirectionalLight":r=new Gl(e.color,e.intensity);break;case"PointLight":r=new jl(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new ql(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new Ul(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new Dl(e.color,e.groundColor,e.intensity);break;case"LightProbe":r=(new Yl).fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":i=a(e.geometry),o=s(e.material),r=new Rn(i,o);break;case"InstancedMesh":i=a(e.geometry),o=s(e.material);const t=e.count,n=e.instanceMatrix;r=new Io(i,o,t),r.instanceMatrix=new Gt(new Float32Array(n.array),16);break;case"LOD":r=new Eo;break;case"Line":r=new jo(a(e.geometry),s(e.material),e.mode);break;case"LineLoop":r=new Wo(a(e.geometry),s(e.material));break;case"LineSegments":r=new Go(a(e.geometry),s(e.material));break;case"PointCloud":case"Points":r=new $o(a(e.geometry),s(e.material));break;case"Sprite":r=new xo(s(e.material));break;case"Group":r=new Xi;break;default:r=new mt}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(r.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children){const i=e.children;for(let e=0;e<i.length;e++)r.add(this.parseObject(i[e],t,n))}if("LOD"===e.type){void 0!==e.autoUpdate&&(r.autoUpdate=e.autoUpdate);const t=e.levels;for(let e=0;e<t.length;e++){const n=t[e],i=r.getObjectByProperty("uuid",n.object);void 0!==i&&r.addLevel(i,n.distance)}}return r}setTexturePath(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}},ObjectSpaceNormalMap:1,OctahedronBufferGeometry:is,OctahedronGeometry:os,OneFactor:201,OneMinusDstAlphaFactor:207,OneMinusDstColorFactor:209,OneMinusSrcAlphaFactor:205,OneMinusSrcColorFactor:203,OrthographicCamera:Hl,PCFShadowMap:1,PCFSoftShadowMap:2,PMREMGenerator:class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=function(e){const t=new Float32Array(e),n=new ge(0,1,0);return new Cs({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:Tu[3e3]},outputEncoding:{value:Tu[3e3]}},vertexShader:ju(),fragmentShader:`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t${Hu()}\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,blending:0,depthTest:!1,depthWrite:!1})}(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,n=.1,r=100){Au=this._renderer.getRenderTarget();const i=this._allocateTargets();return this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e){return this._fromTexture(e)}fromCubemap(e){return this._fromTexture(e)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=Bu(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=Uu(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let e=0;e<Ru.length;e++)Ru[e].dispose()}_cleanup(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Au),e.scissorTest=!1,Fu(e,0,0,e.width,e.height)}_fromTexture(e){Au=this._renderer.getRenderTarget();const t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t}_allocateTargets(e){const t={magFilter:1003,minFilter:1003,generateMipmaps:!1,type:1009,format:1023,encoding:Nu(e)?e.encoding:3002,depthBuffer:!1},n=zu(t);return n.depthBuffer=!e,this._pingPongRenderTarget=zu(t),n}_compileMaterial(e){const t=new Rn(Ru[0],e);this._renderer.compile(t,ku)}_sceneToCubeUV(e,t,n,r){const i=new zn(90,1,t,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,l=s.outputEncoding,c=s.toneMapping,u=s.getClearColor(),h=s.getClearAlpha();s.toneMapping=0,s.outputEncoding=3e3;let d=e.background;if(d&&d.isColor){d.convertSRGBToLinear();const t=Math.max(d.r,d.g,d.b),n=Math.min(Math.max(Math.ceil(Math.log2(t)),-128),127);d=d.multiplyScalar(Math.pow(2,-n));const r=(n+128)/255;s.setClearColor(d,r),e.background=null}for(let t=0;t<6;t++){const n=t%3;0==n?(i.up.set(0,o[t],0),i.lookAt(a[t],0,0)):1==n?(i.up.set(0,0,o[t]),i.lookAt(0,a[t],0)):(i.up.set(0,o[t],0),i.lookAt(0,0,a[t])),Fu(r,n*Su,t>2?Su:0,Su,Su),s.setRenderTarget(r),s.render(e,i)}s.toneMapping=c,s.outputEncoding=l,s.setClearColor(u,h)}_textureToCubeUV(e,t){const n=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=Bu()):null==this._equirectShader&&(this._equirectShader=Uu());const r=e.isCubeTexture?this._cubemapShader:this._equirectShader,i=new Rn(Ru[0],r),o=r.uniforms;o.envMap.value=e,e.isCubeTexture||o.texelSize.value.set(1/e.image.width,1/e.image.height),o.inputEncoding.value=Tu[e.encoding],o.outputEncoding.value=Tu[t.texture.encoding],Fu(t,0,0,3*Su,2*Su),n.setRenderTarget(t),n.render(i,ku)}_applyPMREM(e){const t=this._renderer,n=t.autoClear;t.autoClear=!1;for(let t=1;t<Mu;t++){const n=Math.sqrt(Pu[t]*Pu[t]-Pu[t-1]*Pu[t-1]),r=Iu[(t-1)%Iu.length];this._blur(e,t-1,t,n,r)}t.autoClear=n}_blur(e,t,n,r,i){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)}_halfBlur(e,t,n,r,i,o,a){const s=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new Rn(Ru[r],l),u=l.uniforms,h=Cu[n]-1,d=isFinite(i)?Math.PI/(2*h):2*Math.PI/39,f=i/d,p=isFinite(i)?1+Math.floor(3*f):20;p>20&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${p} samples when the maximum is set to 20`);const m=[];let g=0;for(let e=0;e<20;++e){const t=e/f,n=Math.exp(-t*t/2);m.push(n),0==e?g+=n:e<p&&(g+=2*n)}for(let e=0;e<m.length;e++)m[e]=m[e]/g;u.envMap.value=e.texture,u.samples.value=p,u.weights.value=m,u.latitudinal.value="latitudinal"===o,a&&(u.poleAxis.value=a),u.dTheta.value=d,u.mipInt.value=8-n,u.inputEncoding.value=Tu[e.texture.encoding],u.outputEncoding.value=Tu[e.texture.encoding];const v=Cu[r];Fu(t,3*Math.max(0,Su-2*v),(0===r?0:2*Su)+2*v*(r>4?r-8+4:0),3*v,2*v),s.setRenderTarget(t),s.render(c,ku)}},ParametricBufferGeometry:as,ParametricGeometry:ss,Particle:function(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new xo(e)},ParticleBasicMaterial:function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new qo(e)},ParticleSystem:function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new $o(e,t)},ParticleSystemMaterial:function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new qo(e)},Path:Ol,PerspectiveCamera:zn,Plane:bt,PlaneBufferGeometry:Xn,PlaneGeometry:ls,PlaneHelper:class extends jo{constructor(e,t,n){const r=void 0!==n?n:16776960,i=new un;i.setAttribute("position",new Kt([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),super(i,new No({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=void 0===t?1:t;const o=new un;o.setAttribute("position",new Kt([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new Rn(o,new jt({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){let t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?1:0,this.lookAt(this.plane.normal),super.updateMatrixWorld(e)}},PointCloud:function(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new $o(e,t)},PointCloudMaterial:function(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new qo(e)},PointLight:jl,PointLightHelper:class extends Rn{constructor(e,t,n){super(new ps(t,4,2),new jt({wireframe:!0,fog:!1,toneMapped:!1})),this.light=e,this.light.updateMatrixWorld(),this.color=n,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},Points:$o,PointsMaterial:qo,PolarGridHelper:class extends Go{constructor(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new zt(void 0!==i?i:4473924),o=new zt(void 0!==o?o:8947848);const a=[],s=[];for(let n=0;n<=t;n++){const r=n/t*(2*Math.PI),l=Math.sin(r)*e,c=Math.cos(r)*e;a.push(0,0,0),a.push(l,0,c);const u=1&n?i:o;s.push(u.r,u.g,u.b),s.push(u.r,u.g,u.b)}for(let t=0;t<=n;t++){const l=1&t?i:o,c=e-e/n*t;for(let e=0;e<r;e++){let t=e/r*(2*Math.PI),n=Math.sin(t)*c,i=Math.cos(t)*c;a.push(n,0,i),s.push(l.r,l.g,l.b),t=(e+1)/r*(2*Math.PI),n=Math.sin(t)*c,i=Math.cos(t)*c,a.push(n,0,i),s.push(l.r,l.g,l.b)}}const l=new un;l.setAttribute("position",new Kt(a,3)),l.setAttribute("color",new Kt(s,3));super(l,new No({vertexColors:!0,toneMapped:!1})),this.type="PolarGridHelper"}},PolyhedronBufferGeometry:ma,PolyhedronGeometry:cs,PositionalAudio:class extends wc{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),!0===this.hasPlaybackControl&&!1===this.isPlaying)return;this.matrixWorld.decompose(Sc,Ec,Mc),Tc.set(0,0,1).applyQuaternion(Ec);const t=this.panner;if(t.positionX){const e=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Sc.x,e),t.positionY.linearRampToValueAtTime(Sc.y,e),t.positionZ.linearRampToValueAtTime(Sc.z,e),t.orientationX.linearRampToValueAtTime(Tc.x,e),t.orientationY.linearRampToValueAtTime(Tc.y,e),t.orientationZ.linearRampToValueAtTime(Tc.z,e)}else t.setPosition(Sc.x,Sc.y,Sc.z),t.setOrientation(Tc.x,Tc.y,Tc.z)}},PropertyBinding:Fc,PropertyMixer:Rc,QuadraticBezierCurve:Rl,QuadraticBezierCurve3:Cl,Quaternion:me,QuaternionKeyframeTrack:Zs,QuaternionLinearInterpolant:Ys,REVISION:"121",RGBADepthPacking:3201,RGBAFormat:1023,RGBAIntegerFormat:1033,RGBA_ASTC_10x10_Format:37819,RGBA_ASTC_10x5_Format:37816,RGBA_ASTC_10x6_Format:37817,RGBA_ASTC_10x8_Format:37818,RGBA_ASTC_12x10_Format:37820,RGBA_ASTC_12x12_Format:37821,RGBA_ASTC_4x4_Format:37808,RGBA_ASTC_5x4_Format:37809,RGBA_ASTC_5x5_Format:37810,RGBA_ASTC_6x5_Format:37811,RGBA_ASTC_6x6_Format:37812,RGBA_ASTC_8x5_Format:37813,RGBA_ASTC_8x6_Format:37814,RGBA_ASTC_8x8_Format:37815,RGBA_BPTC_Format:36492,RGBA_ETC2_EAC_Format:37496,RGBA_PVRTC_2BPPV1_Format:35843,RGBA_PVRTC_4BPPV1_Format:35842,RGBA_S3TC_DXT1_Format:33777,RGBA_S3TC_DXT3_Format:33778,RGBA_S3TC_DXT5_Format:33779,RGBDEncoding:3006,RGBEEncoding:3002,RGBEFormat:1023,RGBFormat:1022,RGBIntegerFormat:1032,RGBM16Encoding:3005,RGBM7Encoding:3004,RGB_ETC1_Format:36196,RGB_ETC2_Format:37492,RGB_PVRTC_2BPPV1_Format:35841,RGB_PVRTC_4BPPV1_Format:35840,RGB_S3TC_DXT1_Format:33776,RGFormat:1030,RGIntegerFormat:1031,RawShaderMaterial:Cs,Ray:Ve,Raycaster:Wc,RectAreaLight:ql,RedFormat:1028,RedIntegerFormat:1029,ReinhardToneMapping:2,RepeatWrapping:1e3,ReplaceStencilOp:7681,ReverseSubtractEquation:102,RingBufferGeometry:us,RingGeometry:hs,SRGB8_ALPHA8_ASTC_10x10_Format:37851,SRGB8_ALPHA8_ASTC_10x5_Format:37848,SRGB8_ALPHA8_ASTC_10x6_Format:37849,SRGB8_ALPHA8_ASTC_10x8_Format:37850,SRGB8_ALPHA8_ASTC_12x10_Format:37852,SRGB8_ALPHA8_ASTC_12x12_Format:37853,SRGB8_ALPHA8_ASTC_4x4_Format:37840,SRGB8_ALPHA8_ASTC_5x4_Format:37841,SRGB8_ALPHA8_ASTC_5x5_Format:37842,SRGB8_ALPHA8_ASTC_6x5_Format:37843,SRGB8_ALPHA8_ASTC_6x6_Format:37844,SRGB8_ALPHA8_ASTC_8x5_Format:37845,SRGB8_ALPHA8_ASTC_8x6_Format:37846,SRGB8_ALPHA8_ASTC_8x8_Format:37847,Scene:to,SceneUtils:Xu,ShaderChunk:Yn,ShaderLib:Qn,ShaderMaterial:Nn,ShadowMaterial:Rs,Shape:Il,ShapeBufferGeometry:ds,ShapeGeometry:fs,ShapePath:oc,ShapeUtils:Ya,ShortType:1011,Skeleton:Ro,SkeletonHelper:ou,SkinnedMesh:Mo,SmoothShading:2,Sphere:Ne,SphereBufferGeometry:ps,SphereGeometry:ms,Spherical:Yc,SphericalHarmonics3:Xl,Spline:Wu,SplineCurve:Pl,SplineCurve3:Gu,SpotLight:Ul,SpotLightHelper:class extends mt{constructor(e,t){super(),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;const n=new un,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let e=0,t=1,n=32;e<n;e++,t++){const i=e/n*Math.PI*2,o=t/n*Math.PI*2;r.push(Math.cos(i),Math.sin(i),1,Math.cos(o),Math.sin(o),1)}n.setAttribute("position",new Kt(r,3));const i=new No({fog:!1,toneMapped:!1});this.cone=new Go(n,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateMatrixWorld();const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),tu.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(tu),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},Sprite:xo,SpriteMaterial:oo,SrcAlphaFactor:204,SrcAlphaSaturateFactor:210,SrcColorFactor:202,StaticCopyUsage:35046,StaticDrawUsage:35044,StaticReadUsage:35045,StereoCamera:gc,StreamCopyUsage:35042,StreamDrawUsage:35040,StreamReadUsage:35041,StringKeyframeTrack:Qs,SubtractEquation:101,SubtractiveBlending:3,TOUCH:te,TangentSpaceNormalMap:0,TetrahedronBufferGeometry:gs,TetrahedronGeometry:vs,TextBufferGeometry:ys,TextGeometry:bs,Texture:he,TextureLoader:hl,TorusBufferGeometry:xs,TorusGeometry:_s,TorusKnotBufferGeometry:ws,TorusKnotGeometry:Ss,Triangle:Pt,TriangleFanDrawMode:2,TriangleStripDrawMode:1,TrianglesDrawMode:0,TubeBufferGeometry:Es,TubeGeometry:Ms,UVMapping:300,Uint16Attribute:function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Zt(e,t)},Uint16BufferAttribute:Zt,Uint32Attribute:function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new $t(e,t)},Uint32BufferAttribute:$t,Uint8Attribute:function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new qt(e,t)},Uint8BufferAttribute:qt,Uint8ClampedAttribute:function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Xt(e,t)},Uint8ClampedBufferAttribute:Xt,Uniform:Hc,UniformsLib:Zn,UniformsUtils:In,UnsignedByteType:1009,UnsignedInt248Type:1020,UnsignedIntType:1014,UnsignedShort4444Type:1017,UnsignedShort5551Type:1018,UnsignedShort565Type:1019,UnsignedShortType:1012,VSMShadowMap:3,Vector2:ae,Vector3:ge,Vector4:de,VectorKeyframeTrack:$s,Vertex:function(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new ge(e,t,n)},VertexColors:2,VideoTexture:Jo,WebGL1Renderer:Ki,WebGLCubeRenderTarget:Bn,WebGLMultisampleRenderTarget:pe,WebGLRenderTarget:fe,WebGLRenderTargetCube:function(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new Bn(e,n)},WebGLRenderer:$i,WebGLUtils:Wi,WireframeGeometry:Ts,WireframeHelper:function(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Go(new Ts(e.geometry),new No({color:void 0!==t?t:16777215}))},WrapAroundEnding:2402,XHRLoader:function(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new ol(e)},ZeroCurvatureEnding:2400,ZeroFactor:200,ZeroSlopeEnding:2401,ZeroStencilOp:0,sRGBEncoding:3001});var Zu,Qu=[],$u="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(Zu||(Zu={}));var Ku,Ju=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),eh=function(e){return e instanceof SVGElement&&"getBBox"in e},th=function(e){if(eh(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||e.getClientRects().length)},nh=function(e){var t,n,r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},rh="undefined"!=typeof window?window:{},ih=new WeakMap,oh=/auto|scroll/,ah=/^tb|vertical/,sh=/msie|trident/i.test(rh.navigator&&rh.navigator.userAgent),lh=function(e){return parseFloat(e||"0")},ch=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),Object.freeze({inlineSize:(n?t:e)||0,blockSize:(n?e:t)||0})},uh=Object.freeze({devicePixelContentBoxSize:ch(),borderBoxSize:ch(),contentBoxSize:ch(),contentRect:new Ju(0,0,0,0)}),hh=function(e,t){if(void 0===t&&(t=!1),ih.has(e)&&!t)return ih.get(e);if(th(e))return ih.set(e,uh),uh;var n=getComputedStyle(e),r=eh(e)&&e.ownerSVGElement&&e.getBBox(),i=!sh&&"border-box"===n.boxSizing,o=ah.test(n.writingMode||""),a=!r&&oh.test(n.overflowY||""),s=!r&&oh.test(n.overflowX||""),l=r?0:lh(n.paddingTop),c=r?0:lh(n.paddingRight),u=r?0:lh(n.paddingBottom),h=r?0:lh(n.paddingLeft),d=r?0:lh(n.borderTopWidth),f=r?0:lh(n.borderRightWidth),p=r?0:lh(n.borderBottomWidth),m=h+c,g=l+u,v=(r?0:lh(n.borderLeftWidth))+f,y=d+p,b=s?e.offsetHeight-y-e.clientHeight:0,x=a?e.offsetWidth-v-e.clientWidth:0,_=i?m+v:0,w=i?g+y:0,S=r?r.width:lh(n.width)-_-x,E=r?r.height:lh(n.height)-w-b,M=S+m+x+v,T=E+g+b+y,k=Object.freeze({devicePixelContentBoxSize:ch(Math.round(S*devicePixelRatio),Math.round(E*devicePixelRatio),o),borderBoxSize:ch(M,T,o),contentBoxSize:ch(S,E,o),contentRect:new Ju(h,l,S,E)});return ih.set(e,k),k},dh=function(e,t,n){var r=hh(e,n),i=r.borderBoxSize,o=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case Zu.DEVICE_PIXEL_CONTENT_BOX:return a;case Zu.BORDER_BOX:return i;default:return o}},fh=function(e){var t=hh(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=[t.borderBoxSize],this.contentBoxSize=[t.contentBoxSize],this.devicePixelContentBoxSize=[t.devicePixelContentBoxSize]},ph=function(e){if(th(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},mh=function(){var e=1/0,t=[];Qu.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new fh(t.target),i=ph(t.target);r.push(n),t.lastReportedSize=dh(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},gh=function(e){Qu.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&(ph(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},vh=function(){var e,t=0;for(gh(t);Qu.some((function(e){return e.activeTargets.length>0}));)t=mh(),gh(t);return Qu.some((function(e){return e.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?e=new ErrorEvent("error",{message:$u}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=$u),window.dispatchEvent(e)),t>0},yh=[],bh=function(e){if(!Ku){var t=0,n=document.createTextNode("");new MutationObserver((function(){return yh.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),Ku=function(){n.textContent=""+(t?t--:t++)}}yh.push(e),Ku()},xh=0,_h={attributes:!0,characterData:!0,childList:!0,subtree:!0},wh=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Sh=function(e){return void 0===e&&(e=0),Date.now()+e},Eh=!1,Mh=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!Eh){Eh=!0;var n=Sh(e);!function(e){bh((function(){requestAnimationFrame(e)}))}((function(){var r=!1;try{r=vh()}finally{if(Eh=!1,e=n-Sh(),!xh)return;r?t.run(1e3):e>0?t.run(e):t.start()}}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,_h)};document.body?t():rh.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),wh.forEach((function(t){return rh.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),wh.forEach((function(t){return rh.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),Th=function(e){!xh&&e>0&&Mh.start(),!(xh+=e)&&Mh.stop()},kh=function(){function e(e,t){this.target=e,this.observedBox=t||Zu.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=dh(this.target,this.observedBox,!0);return e=this.target,eh(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),Rh=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},Ch=new WeakMap,Ph=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},Ah=function(){function e(){}return e.connect=function(e,t){var n=new Rh(e,t);Ch.set(e,n)},e.observe=function(e,t,n){var r=Ch.get(e),i=0===r.observationTargets.length;Ph(r.observationTargets,t)<0&&(i&&Qu.push(r),r.observationTargets.push(new kh(t,n&&n.box)),Th(1),Mh.schedule())},e.unobserve=function(e,t){var n=Ch.get(e),r=Ph(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&Qu.splice(Qu.indexOf(n),1),n.observationTargets.splice(r,1),Th(-1))},e.disconnect=function(e){var t=this,n=Ch.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),Lh=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Ah.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!nh(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Ah.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!nh(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Ah.unobserve(this,e)},e.prototype.disconnect=function(){Ah.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}();function Oh(e,t,n){var r,i,o,a,s;function l(){var c=Date.now()-a;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(s=e.apply(o,i),o=i=null))}null==t&&(t=100);var c=function(){o=this,i=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(s=e.apply(o,i),o=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}Oh.debounce=Oh;var Ih=Oh;function Nh({debounce:e,scroll:t,polyfill:n}={debounce:0,scroll:!1}){const r=n||("undefined"==typeof window?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[i,o]=m.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=m.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:i}),s=e?"number"==typeof e?e:e.scroll:null,l=e?"number"==typeof e?e:e.resize:null,c=m.useRef(!1);m.useEffect((()=>(c.current=!0,()=>{c.current=!1})));const[u,h,d]=m.useMemo((()=>{const e=()=>{if(!a.current.element)return;const{left:e,top:t,width:n,height:r,bottom:i,right:s,x:l,y:u}=a.current.element.getBoundingClientRect(),h={left:e,top:t,width:n,height:r,bottom:i,right:s,x:l,y:u};Object.freeze(h),c.current&&!Fh(a.current.lastBounds,h)&&o(a.current.lastBounds=h)};return[e,l?Ih.debounce(e,l):e,s?Ih.debounce(e,s):e]}),[o,s,l]);function f(){a.current.scrollContainers&&(a.current.scrollContainers.forEach((e=>e.removeEventListener("scroll",d,!0))),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null)}function p(){a.current.element&&(a.current.resizeObserver=new r(d),a.current.resizeObserver.observe(a.current.element),t&&a.current.scrollContainers&&a.current.scrollContainers.forEach((e=>e.addEventListener("scroll",d,{capture:!0,passive:!0}))))}var g,v,y;return g=d,v=Boolean(t),m.useEffect((()=>{if(v){const e=g;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>{window.removeEventListener("scroll",e,!0)}}}),[g,v]),y=h,m.useEffect((()=>{const e=y;return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[y]),m.useEffect((()=>{f(),p()}),[t,d,h]),m.useEffect((()=>f),[]),[e=>{e&&e!==a.current.element&&(f(),a.current.element=e,a.current.scrollContainers=Dh(e),p())},i,u]}function Dh(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some((e=>"auto"===e||"scroll"===e))&&t.push(e),[...t,...Dh(e.parentElement)]}const zh=["x","y","top","bottom","left","right","width","height"],Fh=(e,t)=>zh.every((n=>e[n]===t[n]));function Uh(){}"undefined"!=typeof module&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(module,"exports").writable&&(module.exports=Nh),Uh.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}};var Bh=Uh;Uh.TinyEmitter=Bh;var jh=s((function(e,t){var n,r,i,o,a;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,l=null,c=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(e){throw setTimeout(c,0),e}},u=Date.now();t.unstable_now=function(){return Date.now()-u},n=function(e){null!==s?setTimeout(n,0,e):(s=e,setTimeout(c,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},o=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,d=window.Date,f=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var g=d.now();t.unstable_now=function(){return d.now()-g}}var v=!1,y=null,b=-1,x=5,_=0;o=function(){return t.unstable_now()>=_},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,S=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();_=e+x;try{y(!0,e)?S.postMessage(null):(v=!1,y=null)}catch(e){throw S.postMessage(null),e}}else v=!1},n=function(e){y=e,v||(v=!0,S.postMessage(null))},r=function(e,n){b=f((function(){e(t.unstable_now())}),n)},i=function(){p(b),b=-1}}function E(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<k(i,t)))break e;e[r]=t,e[n]=i,n=r}}function M(e){return void 0===(e=e[0])?null:e}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>k(a,n))void 0!==l&&0>k(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>k(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var R=[],C=[],P=1,A=null,L=3,O=!1,I=!1,N=!1;function D(e){for(var t=M(C);null!==t;){if(null===t.callback)T(C);else{if(!(t.startTime<=e))break;T(C),t.sortIndex=t.expirationTime,E(R,t)}t=M(C)}}function z(e){if(N=!1,D(e),!I)if(null!==M(R))I=!0,n(F);else{var t=M(C);null!==t&&r(z,t.startTime-e)}}function F(e,n){I=!1,N&&(N=!1,i()),O=!0;var a=L;try{for(D(n),A=M(R);null!==A&&(!(A.expirationTime>n)||e&&!o());){var s=A.callback;if(null!==s){A.callback=null,L=A.priorityLevel;var l=s(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof l?A.callback=l:A===M(R)&&T(R),D(n)}else T(R);A=M(R)}if(null!==A)var c=!0;else{var u=M(C);null!==u&&r(z,u.startTime-n),c=!1}return c}finally{A=null,L=a,O=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var B=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){I||O||(I=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return L},t.unstable_getFirstCallbackNode=function(){return M(R)},t.unstable_next=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=B,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var l=a.delay;l="number"==typeof l&&0<l?s+l:s,a="number"==typeof a.timeout?a.timeout:U(e)}else a=U(e),l=s;return e={id:P++,callback:o,priorityLevel:e,startTime:l,expirationTime:a=l+a,sortIndex:-1},l>s?(e.sortIndex=l,E(C,e),null===M(R)&&e===M(C)&&(N?i():N=!0,r(z,l-s))):(e.sortIndex=a,E(R,e),I||O||(I=!0,n(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();D(e);var n=M(R);return n!==A&&null!==A&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<A.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}}})),Hh=s((function(e,t){"production"!==process.env.NODE_ENV&&function(){var e,n,r,i,o;if("undefined"==typeof window||"function"!=typeof MessageChannel){var a=null,s=null,l=function(){if(null!==a)try{var e=t.unstable_now();a(!0,e),a=null}catch(e){throw setTimeout(l,0),e}},c=Date.now();t.unstable_now=function(){return Date.now()-c},e=function(t){null!==a?setTimeout(e,0,t):(a=t,setTimeout(l,0))},n=function(e,t){s=setTimeout(e,t)},r=function(){clearTimeout(s)},i=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var u=window.performance,h=window.Date,d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.requestAnimationFrame,m=window.cancelAnimationFrame;"function"!=typeof p&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof u&&"function"==typeof u.now)t.unstable_now=function(){return u.now()};else{var g=h.now();t.unstable_now=function(){return h.now()-g}}var v=!1,y=null,b=-1,x=5,_=0;i=function(){return t.unstable_now()>=_},o=function(){},t.unstable_forceFrameRate=function(e){e<0||e>125?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):x=e>0?Math.floor(1e3/e):5};var w=new MessageChannel,S=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();_=e+x;try{y(!0,e)?S.postMessage(null):(v=!1,y=null)}catch(e){throw S.postMessage(null),e}}else v=!1},e=function(e){y=e,v||(v=!0,S.postMessage(null))},n=function(e,n){b=d((function(){e(t.unstable_now())}),n)},r=function(){f(b),b=-1}}function E(e,t){var n=e.length;e.push(t),function(e,t,n){var r=n;for(;;){var i=r-1>>>1,o=e[i];if(!(void 0!==o&&k(o,t)>0))return;e[i]=t,e[r]=o,r=i}}(e,t,n)}function M(e){var t=e[0];return void 0===t?null:t}function T(e){var t=e[0];if(void 0!==t){var n=e.pop();return n!==t&&(e[0]=n,function(e,t,n){var r=n,i=e.length;for(;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&k(a,t)<0)void 0!==l&&k(l,a)<0?(e[r]=l,e[s]=t,r=s):(e[r]=a,e[o]=t,r=o);else{if(!(void 0!==l&&k(l,t)<0))return;e[r]=l,e[s]=t,r=s}}}(e,n,0)),t}return null}function k(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var R=0,C=0,P="function"==typeof SharedArrayBuffer?new SharedArrayBuffer(4*Int32Array.BYTES_PER_ELEMENT):"function"==typeof ArrayBuffer?new ArrayBuffer(4*Int32Array.BYTES_PER_ELEMENT):null,A=null!==P?new Int32Array(P):[];A[0]=0,A[3]=0,A[1]=0;var L=0,O=null,I=null,N=0;function D(e){if(null!==I){var t=N;if((N+=e.length)+1>L){if((L*=2)>524288)return console.error("Scheduler Profiling: Event log exceeded maximum size. Don't forget to call `stopLoggingProfilingEvents()`."),void z();var n=new Int32Array(4*L);n.set(I),O=n.buffer,I=n}I.set(e,t)}}function z(){var e=O;return L=0,O=null,I=null,N=0,e}function F(e,t){A[3]++,null!==I&&D([1,1e3*t,e.id,e.priorityLevel])}function U(e,t){A[0]=0,A[1]=0,A[3]--,null!==I&&D([2,1e3*t,e.id])}function B(e,t){R++,A[0]=e.priorityLevel,A[1]=e.id,A[2]=R,null!==I&&D([5,1e3*t,e.id,R])}function j(e,t){A[0]=0,A[1]=0,A[2]=0,null!==I&&D([6,1e3*t,e.id,R])}var H=[],V=[],G=1,W=null,q=3,X=!1,Y=!1,Z=!1;function Q(e){for(var t=M(V);null!==t;){if(null===t.callback)T(V);else{if(!(t.startTime<=e))return;T(V),t.sortIndex=t.expirationTime,E(H,t),F(t,e),t.isQueued=!0}t=M(V)}}function $(t){if(Z=!1,Q(t),!Y)if(null!==M(H))Y=!0,e(K);else{var r=M(V);null!==r&&n($,r.startTime-t)}}function K(e,o){var a;a=o,null!==I&&D([8,1e3*a,C]),Y=!1,Z&&(Z=!1,r()),X=!0;var s=q;try{try{return function(e,r){var o=r;Q(o),W=M(H);for(;null!==W&&(!(W.expirationTime>o)||e&&!i());){var a=W.callback;if(null!==a){W.callback=null,q=W.priorityLevel;var s=W.expirationTime<=o;B(W,o);var l=a(s);o=t.unstable_now(),"function"==typeof l?(W.callback=l,j(W,o)):(U(W,o),W.isQueued=!1,W===M(H)&&T(H)),Q(o)}else T(H);W=M(H)}if(null!==W)return!0;var c=M(V);return null!==c&&n($,c.startTime-o),!1}(e,o)}catch(e){if(null!==W){var l=t.unstable_now();!function(e,t){A[0]=0,A[1]=0,A[3]--,null!==I&&D([3,1e3*t,e.id])}(W,l),W.isQueued=!1}throw e}}finally{W=null,q=s,X=!1,function(e){C++,null!==I&&D([7,1e3*e,C])}(t.unstable_now())}}function J(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;case 3:default:return 5e3}}var ee=o,te={startLoggingProfilingEvents:function(){L=131072,O=new ArrayBuffer(4*L),I=new Int32Array(O),N=0},stopLoggingProfilingEvents:z,sharedProfilingBuffer:P};t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=te,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.isQueued&&(!function(e,t){A[3]--,null!==I&&D([4,1e3*t,e.id])}(e,t.unstable_now()),e.isQueued=!1),e.callback=null},t.unstable_continueExecution=function(){Y||X||(Y=!0,e(K))},t.unstable_getCurrentPriorityLevel=function(){return q},t.unstable_getFirstCallbackNode=function(){return M(H)},t.unstable_next=function(e){var t;switch(q){case 1:case 2:case 3:t=3;break;default:t=q}var n=q;q=t;try{return e()}finally{q=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=ee,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=q;q=e;try{return t()}finally{q=n}},t.unstable_scheduleCallback=function(i,o,a){var s,l,c=t.unstable_now();if("object"==typeof a&&null!==a){var u=a.delay;s="number"==typeof u&&u>0?c+u:c,l="number"==typeof a.timeout?a.timeout:J(i)}else l=J(i),s=c;var h=s+l,d={id:G++,callback:o,priorityLevel:i,startTime:s,expirationTime:h,sortIndex:-1,isQueued:!1};return s>c?(d.sortIndex=s,E(V,d),null===M(H)&&d===M(V)&&(Z?r():Z=!0,n($,s-c))):(d.sortIndex=h,E(H,d),F(d,c),d.isQueued=!0,Y||X||(Y=!0,e(K))),d},t.unstable_shouldYield=function(){var e=t.unstable_now();Q(e);var n=M(H);return n!==W&&null!==W&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<W.expirationTime||i()},t.unstable_wrapCallback=function(e){var t=q;return function(){var n=q;q=t;try{return e.apply(this,arguments)}finally{q=n}}}}()})),Vh=s((function(e){"production"===process.env.NODE_ENV?e.exports=jh:e.exports=Hh}));function Gh(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Wh(){return(Wh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var qh=function(e,t,n){return function(e){e.exports=function t(n){function r(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Fn&&e[Fn]||e["@@iterator"])?e:null}function o(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}function a(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Tn:return"Fragment";case Mn:return"Portal";case Rn:return"Profiler";case kn:return"StrictMode";case On:return"Suspense";case In:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Pn:return"Context.Consumer";case Cn:return"Context.Provider";case Ln:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Nn:return a(e.type);case zn:return a(e.render);case Dn:if(e=1===e._status?e._result:null)return a(e)}return null}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function l(e){if(s(e)!==e)throw Error(r(188))}function c(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(r(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(null===o)break;var a=o.alternate;if(null===a){if(null!==(i=o.return)){n=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return l(o),e;if(a===i)return l(o),t;a=a.sibling}throw Error(r(188))}if(n.return!==i.return)n=o,i=a;else{for(var c=!1,u=o.child;u;){if(u===n){c=!0,n=o,i=a;break}if(u===i){c=!0,i=o,n=a;break}u=u.sibling}if(!c){for(u=a.child;u;){if(u===n){c=!0,n=a,i=o;break}if(u===i){c=!0,i=a,n=o;break}u=u.sibling}if(!c)throw Error(r(189))}}if(n.alternate!==i)throw Error(r(190))}if(3!==n.tag)throw Error(r(188));return n.stateNode.current===n?e:t}function u(e){if(!(e=c(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function h(e){if(!(e=c(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function f(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=a(e.type);n=null,r&&(n=a(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Dr,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function p(e){0>Fr||(e.current=zr[Fr],zr[Fr]=null,Fr--)}function g(e,t){Fr++,zr[Fr]=e.current,e.current=t}function v(e,t){var n=e.type.contextTypes;if(!n)return Ur;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function y(e){return null!=(e=e.childContextTypes)}function b(){p(jr),p(Br)}function x(e,t,n){if(Br.current!==Ur)throw Error(r(168));g(Br,t),g(jr,n)}function _(e,t,n){var i=e.stateNode;if(e=t.childContextTypes,"function"!=typeof i.getChildContext)return n;for(var o in i=i.getChildContext())if(!(o in e))throw Error(r(108,a(t)||"Unknown",o));return bn({},n,{},i)}function w(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ur,Hr=Br.current,g(Br,e),g(jr,jr.current),!0}function S(e,t,n){var i=e.stateNode;if(!i)throw Error(r(169));n?(e=_(e,t,Hr),i.__reactInternalMemoizedMergedChildContext=e,p(jr),p(Br),g(Br,e)):p(jr),g(jr,n)}function E(){switch(Yr()){case Zr:return 99;case Qr:return 98;case $r:return 97;case Kr:return 96;case Jr:return 95;default:throw Error(r(332))}}function M(e){switch(e){case 99:return Zr;case 98:return Qr;case 97:return $r;case 96:return Kr;case 95:return Jr;default:throw Error(r(332))}}function T(e,t){return e=M(e),Vr(e,t)}function k(e,t,n){return e=M(e),Gr(e,t,n)}function R(e){return null===ri?(ri=[e],ii=Gr(Zr,P)):ri.push(e),ei}function C(){if(null!==ii){var e=ii;ii=null,Wr(e)}P()}function P(){if(!oi&&null!==ri){oi=!0;var e=0;try{var t=ri;T(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ri=null}catch(t){throw null!==ri&&(ri=ri.slice(e+1)),Gr(Zr,C),t}finally{oi=!1}}}function A(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function L(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}function O(e,t){if(li(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ci.call(t,n[r])||!li(e[n[r]],t[n[r]]))return!1;return!0}function I(e,t){if(e&&e.defaultProps)for(var n in t=bn({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function N(e,t){e=e.type._context,er?(g(ui,e._currentValue),e._currentValue=t):(g(ui,e._currentValue2),e._currentValue2=t)}function D(e){var t=ui.current;p(ui),e=e.type._context,er?e._currentValue=t:e._currentValue2=t}function z(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function F(e,t){hi=e,fi=di=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ji=!0),e.firstContext=null)}function U(e,t){if(fi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(fi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===di){if(null===hi)throw Error(r(308));di=t,hi.dependencies={expirationTime:0,firstContext:t,responders:null}}else di=di.next=t;return er?e._currentValue:e._currentValue2}function B(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function j(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function H(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function V(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function G(e,t){var n=e.alternate;null!==n&&j(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function W(e,t,n,r){var i=e.updateQueue;pi=!1;var o=i.baseQueue,a=i.shared.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}o=a,i.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=a))}if(null!==o){s=o.next;var l=i.baseState,c=0,u=null,h=null,d=null;if(null!==s)for(var f=s;;){if((a=f.expirationTime)<r){var p={expirationTime:f.expirationTime,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null};null===d?(h=d=p,u=l):d=d.next=p,a>c&&(c=a)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:f.suspenseConfig,tag:f.tag,payload:f.payload,callback:f.callback,next:null}),Ft(a,f.suspenseConfig);e:{var m=e,g=f;switch(a=t,p=n,g.tag){case 1:if("function"==typeof(m=g.payload)){l=m.call(p,l,a);break e}l=m;break e;case 3:m.effectTag=-4097&m.effectTag|64;case 0:if(null==(a="function"==typeof(m=g.payload)?m.call(p,l,a):m))break e;l=bn({},l,a);break e;case 2:pi=!0}}null!==f.callback&&(e.effectTag|=32,null===(a=i.effects)?i.effects=[f]:a.push(f))}if(null===(f=f.next)||f===s){if(null===(a=i.shared.pending))break;f=o.next=a.next,a.next=s,i.baseQueue=o=a,i.shared.pending=null}}null===d?u=l:d.next=h,i.baseState=u,i.baseQueue=d,Ut(c),e.expirationTime=c,e.memoizedState=l}}function q(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(null!==o){if(i.callback=null,i=o,o=n,"function"!=typeof i)throw Error(r(191,i));i.call(o)}}}function X(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:bn({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}function Y(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!O(n,r)||!O(i,o))}function Z(e,t,n){var r=!1,i=Ur,o=t.contextType;return"object"==typeof o&&null!==o?o=U(o):(i=y(t)?Hr:Br.current,o=(r=null!=(r=t.contextTypes))?v(e,i):Ur),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Q(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vi.enqueueReplaceState(t,t.state,null)}function $(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=gi,B(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=U(o):(o=y(t)?Hr:Br.current,i.context=v(e,o)),W(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(X(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vi.enqueueReplaceState(i,i.state,null),W(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}function K(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(r(309));var i=n.stateNode}if(!i)throw Error(r(147,e));var o=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===gi&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!=typeof e)throw Error(r(284));if(!n._owner)throw Error(r(290,e))}return e}function J(e,t){if("textarea"!==e.type)throw Error(r(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function ee(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function o(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=rn(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function l(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=sn(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function u(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=K(e,t,n),r.return=e,r):((r=on(n.type,n.key,n.props,null,e.mode,r)).ref=K(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ln(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=an(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=sn(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case En:return(n=on(t.type,t.key,t.props,null,e.mode,n)).ref=K(e,null,t),n.return=e,n;case Mn:return(t=ln(t,e.mode,n)).return=e,t}if(yi(t)||i(t))return(t=an(t,e.mode,n,null)).return=e,t;J(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==o?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case En:return n.key===o?n.type===Tn?d(e,t,n.props.children,r,o):u(e,t,n,r):null;case Mn:return n.key===o?h(e,t,n,r):null}if(yi(n)||i(n))return null!==o?null:d(e,t,n,r,null);J(e,n)}return null}function m(e,t,n,r,o){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,o);if("object"==typeof r&&null!==r){switch(r.$$typeof){case En:return e=e.get(null===r.key?n:r.key)||null,r.type===Tn?d(t,e,r.props.children,o,r.key):u(t,e,r,o);case Mn:return h(t,e=e.get(null===r.key?n:r.key)||null,r,o)}if(yi(r)||i(r))return d(t,e=e.get(n)||null,r,o,null);J(t,r)}return null}function g(r,i,a,l){for(var c=null,u=null,h=i,d=i=0,g=null;null!==h&&d<a.length;d++){h.index>d?(g=h,h=null):g=h.sibling;var v=p(r,h,a[d],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(r,h),i=s(v,i,d),null===u?c=v:u.sibling=v,u=v,h=g}if(d===a.length)return n(r,h),c;if(null===h){for(;d<a.length;d++)null!==(h=f(r,a[d],l))&&(i=s(h,i,d),null===u?c=h:u.sibling=h,u=h);return c}for(h=o(r,h);d<a.length;d++)null!==(g=m(h,r,d,a[d],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?d:g.key),i=s(g,i,d),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(r,e)})),c}function v(a,l,c,u){var h=i(c);if("function"!=typeof h)throw Error(r(150));if(null==(c=h.call(c)))throw Error(r(151));for(var d=h=null,g=l,v=l=0,y=null,b=c.next();null!==g&&!b.done;v++,b=c.next()){g.index>v?(y=g,g=null):y=g.sibling;var x=p(a,g,b.value,u);if(null===x){null===g&&(g=y);break}e&&g&&null===x.alternate&&t(a,g),l=s(x,l,v),null===d?h=x:d.sibling=x,d=x,g=y}if(b.done)return n(a,g),h;if(null===g){for(;!b.done;v++,b=c.next())null!==(b=f(a,b.value,u))&&(l=s(b,l,v),null===d?h=b:d.sibling=b,d=b);return h}for(g=o(a,g);!b.done;v++,b=c.next())null!==(b=m(g,a,v,b.value,u))&&(e&&null!==b.alternate&&g.delete(null===b.key?v:b.key),l=s(b,l,v),null===d?h=b:d.sibling=b,d=b);return e&&g.forEach((function(e){return t(a,e)})),h}return function(e,o,s,c){var u="object"==typeof s&&null!==s&&s.type===Tn&&null===s.key;u&&(s=s.props.children);var h="object"==typeof s&&null!==s;if(h)switch(s.$$typeof){case En:e:{for(h=s.key,u=o;null!==u;){if(u.key===h){switch(u.tag){case 7:if(s.type===Tn){n(e,u.sibling),(o=a(u,s.props.children)).return=e,e=o;break e}break;default:if(u.elementType===s.type){n(e,u.sibling),(o=a(u,s.props)).ref=K(e,u,s),o.return=e,e=o;break e}}n(e,u);break}t(e,u),u=u.sibling}s.type===Tn?((o=an(s.props.children,e.mode,c,s.key)).return=e,e=o):((c=on(s.type,s.key,s.props,null,e.mode,c)).ref=K(e,o,s),c.return=e,e=c)}return l(e);case Mn:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(e,o.sibling),(o=a(o,s.children||[])).return=e,e=o;break e}n(e,o);break}t(e,o),o=o.sibling}(o=ln(s,e.mode,c)).return=e,e=o}return l(e)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==o&&6===o.tag?(n(e,o.sibling),(o=a(o,s)).return=e,e=o):(n(e,o),(o=sn(s,e.mode,c)).return=e,e=o),l(e);if(yi(s))return g(e,o,s,c);if(i(s))return v(e,o,s,c);if(h&&J(e,s),void 0===s&&!u)switch(e.tag){case 1:case 0:throw e=e.type,Error(r(152,e.displayName||e.name||"Component"))}return n(e,o)}}function te(e){if(e===_i)throw Error(r(174));return e}function ne(e,t){g(Ei,t),g(Si,e),g(wi,_i),e=Bn(t),p(wi),g(wi,e)}function re(){p(wi),p(Si),p(Ei)}function ie(e){var t=te(Ei.current),n=te(wi.current);n!==(t=jn(n,e.type,t))&&(g(Si,e),g(wi,t))}function oe(e){Si.current===e&&(p(wi),p(Si))}function ae(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||kr(n)||Rr(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function se(e,t){return{responder:e,props:t}}function le(){throw Error(r(321))}function ce(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!li(e[n],t[n]))return!1;return!0}function ue(e,t,n,i,o,a){if(Ri=a,Ci=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ti.current=null===e||null===e.memoizedState?Ii:Ni,e=n(i,o),t.expirationTime===Ri){a=0;do{if(t.expirationTime=0,!(25>a))throw Error(r(301));a+=1,Ai=Pi=null,t.updateQueue=null,Ti.current=Di,e=n(i,o)}while(t.expirationTime===Ri)}if(Ti.current=Oi,t=null!==Pi&&null!==Pi.next,Ri=0,Ai=Pi=Ci=null,Li=!1,t)throw Error(r(300));return e}function he(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ai?Ci.memoizedState=Ai=e:Ai=Ai.next=e,Ai}function de(){if(null===Pi){var e=Ci.alternate;e=null!==e?e.memoizedState:null}else e=Pi.next;var t=null===Ai?Ci.memoizedState:Ai.next;if(null!==t)Ai=t,Pi=e;else{if(null===e)throw Error(r(310));e={memoizedState:(Pi=e).memoizedState,baseState:Pi.baseState,baseQueue:Pi.baseQueue,queue:Pi.queue,next:null},null===Ai?Ci.memoizedState=Ai=e:Ai=Ai.next=e}return Ai}function fe(e,t){return"function"==typeof t?t(e):t}function pe(e){var t=de(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=Pi,o=i.baseQueue,a=n.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}i.baseQueue=o=a,n.pending=null}if(null!==o){o=o.next,i=i.baseState;var l=s=a=null,c=o;do{var u=c.expirationTime;if(u<Ri){var h={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===l?(s=l=h,a=i):l=l.next=h,u>Ci.expirationTime&&(Ci.expirationTime=u,Ut(u))}else null!==l&&(l=l.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),Ft(u,c.suspenseConfig),i=c.eagerReducer===e?c.eagerState:e(i,c.action);c=c.next}while(null!==c&&c!==o);null===l?a=i:l.next=s,li(i,t.memoizedState)||(ji=!0),t.memoizedState=i,t.baseState=a,t.baseQueue=l,n.lastRenderedState=i}return[t.memoizedState,n.dispatch]}function me(e){var t=de(),n=t.queue;if(null===n)throw Error(r(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,a=t.memoizedState;if(null!==o){n.pending=null;var s=o=o.next;do{a=e(a,s.action),s=s.next}while(s!==o);li(a,t.memoizedState)||(ji=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function ge(e){var t=he();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:fe,lastRenderedState:e}).dispatch=Ae.bind(null,Ci,e),[t.memoizedState,e]}function ve(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ci.updateQueue)?(t={lastEffect:null},Ci.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ye(){return de().memoizedState}function be(e,t,n,r){var i=he();Ci.effectTag|=e,i.memoizedState=ve(1|t,n,void 0,void 0===r?null:r)}function xe(e,t,n,r){var i=de();r=void 0===r?null:r;var o=void 0;if(null!==Pi){var a=Pi.memoizedState;if(o=a.destroy,null!==r&&ce(r,a.deps))return void ve(t,n,o,r)}Ci.effectTag|=e,i.memoizedState=ve(1|t,n,o,r)}function _e(e,t){return be(516,4,e,t)}function we(e,t){return xe(516,4,e,t)}function Se(e,t){return xe(4,2,e,t)}function Ee(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Me(e,t,n){return n=null!=n?n.concat([e]):null,xe(4,2,Ee.bind(null,t,e),n)}function Te(){}function ke(e,t){return he().memoizedState=[e,void 0===t?null:t],e}function Re(e,t){var n=de();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ce(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ce(e,t){var n=de();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ce(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Pe(e,t,n){var r=E();T(98>r?98:r,(function(){e(!0)})),T(97<r?97:r,(function(){var r=ki.suspense;ki.suspense=void 0===t?null:t;try{e(!1),n()}finally{ki.suspense=r}}))}function Ae(e,t,n){var r=St(),i=mi.suspense;i={expirationTime:r=Et(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Ci||null!==o&&o===Ci)Li=!0,i.expirationTime=Ri,Ci.expirationTime=Ri;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,li(s,a))return}catch(e){}Mt(e,r)}}function Le(e,t){var n=en(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Oe(e,t){switch(e.tag){case 5:return null!==(t=Mr(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=Tr(t,e.pendingProps))&&(e.stateNode=t,!0);case 13:default:return!1}}function Ie(e){if(Ui){var t=Fi;if(t){var n=t;if(!Oe(e,t)){if(!(t=Cr(n))||!Oe(e,t))return e.effectTag=-1025&e.effectTag|2,Ui=!1,void(zi=e);Le(zi,n)}zi=e,Fi=Pr(t)}else e.effectTag=-1025&e.effectTag|2,Ui=!1,zi=e}}function Ne(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;zi=e}function De(e){if(!rr||e!==zi)return!1;if(!Ui)return Ne(e),Ui=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Yn(t,e.memoizedProps))for(t=Fi;t;)Le(e,t),t=Cr(t);if(Ne(e),13===e.tag){if(!rr)throw Error(r(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(r(317));Fi=Or(e)}else Fi=zi?Cr(e.stateNode):null;return!0}function ze(){rr&&(Fi=zi=null,Ui=!1)}function Fe(e,t,n,r){t.child=null===e?xi(t,null,n,r):bi(t,e.child,n,r)}function Ue(e,t,n,r,i){n=n.render;var o=t.ref;return F(t,i),r=ue(e,t,n,r,o,i),null===e||ji?(t.effectTag|=1,Fe(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),$e(e,t,i))}function Be(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||tn(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=on(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,je(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:O)(i,r)&&e.ref===t.ref)?$e(e,t,o):(t.effectTag|=1,(e=rn(a,r)).ref=t.ref,e.return=t,t.child=e)}function je(e,t,n,r,i,o){return null!==e&&O(e.memoizedProps,r)&&e.ref===t.ref&&(ji=!1,i<o)?(t.expirationTime=e.expirationTime,$e(e,t,o)):Ve(e,t,n,r,o)}function He(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ve(e,t,n,r,i){var o=y(n)?Hr:Br.current;return o=v(t,o),F(t,i),n=ue(e,t,n,r,o,i),null===e||ji?(t.effectTag|=1,Fe(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),$e(e,t,i))}function Ge(e,t,n,r,i){if(y(n)){var o=!0;w(t)}else o=!1;if(F(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Z(t,n,r),$(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=U(c):c=v(t,c=y(n)?Hr:Br.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Q(t,a,r,c),pi=!1;var d=t.memoizedState;a.state=d,W(t,r,a,i),l=t.memoizedState,s!==r||d!==l||jr.current||pi?("function"==typeof u&&(X(t,n,u,r),l=t.memoizedState),(s=pi||Y(t,n,s,r,d,l,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,j(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:I(t.type,s),l=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=U(c):c=v(t,c=y(n)?Hr:Br.current),(h="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Q(t,a,r,c),pi=!1,l=t.memoizedState,a.state=l,W(t,r,a,i),d=t.memoizedState,s!==r||l!==d||jr.current||pi?("function"==typeof u&&(X(t,n,u,r),d=t.memoizedState),(u=pi||Y(t,n,s,r,l,d,c))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,d,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,d,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=d),a.props=r,a.state=d,a.context=c,r=u):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return We(e,t,n,r,o,i)}function We(e,t,n,r,i,o){He(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&S(t,n,!1),$e(e,t,o);r=t.stateNode,Bi.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=bi(t,e.child,null,o),t.child=bi(t,null,s,o)):Fe(e,t,s,o),t.memoizedState=r.state,i&&S(t,n,!0),t.child}function qe(e){var t=e.stateNode;t.pendingContext?x(e,t.pendingContext,t.pendingContext!==t.context):t.context&&x(e,t.context,!1),ne(e,t.containerInfo)}function Xe(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Mi.current,s=!1;if((r=0!=(64&t.effectTag))||(r=0!=(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),g(Mi,1&a),null===e){if(void 0!==o.fallback&&Ie(t),s){if(s=o.fallback,(o=an(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=an(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Hi,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=xi(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=rn(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=rn(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Hi,t.child=n,i}return n=bi(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=an(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=an(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Hi,t.child=o,n}return t.memoizedState=null,t.child=bi(t,e,o.children,n)}function Ye(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),z(e.return,t)}function Ze(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function Qe(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Fe(e,t,r.children,n),0!=(2&(r=Mi.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ye(e,n);else if(19===e.tag)Ye(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(g(Mi,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ae(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ze(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ae(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ze(t,!0,n,null,o,t.lastEffect);break;case"together":Ze(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function $e(e,t,n){null!==e&&(t.dependencies=e.dependencies);var i=t.expirationTime;if(0!==i&&Ut(i),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(r(153));if(null!==t.child){for(n=rn(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=rn(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ke(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Je(e,t,n){var i=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return y(t.type)&&b(),null;case 3:return re(),p(jr),p(Br),(i=t.stateNode).pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||!De(t)||(t.effectTag|=4),Gi(t),null;case 5:oe(t);var o=te(Ei.current);if(n=t.type,null!==e&&null!=t.stateNode)Wi(e,t,n,i,o),e.ref!==t.ref&&(t.effectTag|=128);else{if(!i){if(null===t.stateNode)throw Error(r(166));return null}if(e=te(wi.current),De(t)){if(!rr)throw Error(r(175));e=Ar(t.stateNode,t.type,t.memoizedProps,o,e,t),t.updateQueue=e,null!==e&&(t.effectTag|=4)}else{var a=Gn(n,i,o,e,t);Vi(a,t,!1,!1),t.stateNode=a,qn(a,n,i,o,e)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)qi(e,t,e.memoizedProps,i);else{if("string"!=typeof i&&null===t.stateNode)throw Error(r(166));if(e=te(Ei.current),o=te(wi.current),De(t)){if(!rr)throw Error(r(176));Lr(t.stateNode,t.memoizedProps,t)&&(t.effectTag|=4)}else t.stateNode=Qn(i,e,o,t)}return null;case 13:return p(Mi),i=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(i=null!==i,o=!1,null===e?void 0!==t.memoizedProps.fallback&&De(t):(o=null!==(n=e.memoizedState),i||null===n||null!==(n=e.child.sibling)&&(null!==(a=t.firstEffect)?(t.firstEffect=n,n.nextEffect=a):(t.firstEffect=t.lastEffect=n,n.nextEffect=null),n.effectTag=8)),i&&!o&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Mi.current)?po===ro&&(po=ao):(po!==ro&&po!==ao||(po=so),0!==bo&&null!==uo&&(hn(uo,fo),dn(uo,bo)))),nr&&i&&(t.effectTag|=4),tr&&(i||o)&&(t.effectTag|=4),null);case 4:return re(),Gi(t),null;case 10:return D(t),null;case 17:return y(t.type)&&b(),null;case 19:if(p(Mi),null===(i=t.memoizedState))return null;if(o=0!=(64&t.effectTag),null===(a=i.rendering)){if(o)Ke(i,!1);else if(po!==ro||null!==e&&0!=(64&e.effectTag))for(e=t.child;null!==e;){if(null!==(a=ae(e))){for(t.effectTag|=64,Ke(i,!1),null!==(e=a.updateQueue)&&(t.updateQueue=e,t.effectTag|=4),null===i.lastEffect&&(t.firstEffect=null),t.lastEffect=i.lastEffect,e=n,i=t.child;null!==i;)n=e,(o=i).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(a=o.alternate)?(o.childExpirationTime=0,o.expirationTime=n,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=a.childExpirationTime,o.expirationTime=a.expirationTime,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,n=a.dependencies,o.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),i=i.sibling;return g(Mi,1&Mi.current|2),t.child}e=e.sibling}}else{if(!o)if(null!==(e=ae(a))){if(t.effectTag|=64,o=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.effectTag|=4),Ke(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate)return null!==(t=t.lastEffect=i.lastEffect)&&(t.nextEffect=null),null}else 2*si()-i.renderingStartTime>i.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Ke(i,!1),t.expirationTime=t.childExpirationTime=n-1);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(0===i.tailExpiration&&(i.tailExpiration=si()+500),e=i.tail,i.rendering=e,i.tail=e.sibling,i.lastEffect=t.lastEffect,i.renderingStartTime=si(),e.sibling=null,t=Mi.current,g(Mi,o?1&t|2:1&t),e):null}throw Error(r(156,t.tag))}function et(e){switch(e.tag){case 1:y(e.type)&&b();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(re(),p(jr),p(Br),0!=(64&(t=e.effectTag)))throw Error(r(285));return e.effectTag=-4097&t|64,e;case 5:return oe(e),null;case 13:return p(Mi),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return p(Mi),null;case 4:return re(),null;case 10:return D(e),null;default:return null}}function tt(e,t){return{value:e,source:t,stack:f(t)}}function nt(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=f(n)),null!==n&&a(n.type),t=t.value,null!==e&&1===e.tag&&a(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function rt(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Zt(e,t)}}function it(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Zt(e,t)}else t.current=null}function ot(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,i=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:I(t.type,n),i),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(r(163))}function at(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function st(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function lt(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void st(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var i=n.elementType===n.type?t.memoizedProps:I(n.type,t.memoizedProps);e.componentDidUpdate(i,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&q(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=Un(n.child.stateNode);break;case 1:e=n.child.stateNode}q(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&sr(e,n.type,n.memoizedProps,n));case 6:case 4:case 12:return;case 13:return void(rr&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Nr(n)))));case 19:case 17:case 20:case 21:return}throw Error(r(163))}function ct(e,t,n){switch("function"==typeof zo&&zo(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;T(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(e){Zt(i,e)}}e=e.next}while(e!==r)}))}break;case 1:it(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&rt(t,n);break;case 5:it(t);break;case 4:tr?vt(e,t,n):nr&&dt(t)}}function ut(e,t,n){for(var r=t;;)if(ct(e,r,n),null===r.child||tr&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function ht(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ht(t)}function dt(e){if(nr){e=e.stateNode.containerInfo;var t=br(e);wr(e,t)}}function ft(e){return 5===e.tag||3===e.tag||4===e.tag}function pt(e){if(tr){e:{for(var t=e.return;null!==t;){if(ft(t)){var n=t;break e}t=t.return}throw Error(r(160))}switch(t=n.stateNode,n.tag){case 5:var i=!1;break;case 3:case 4:t=t.containerInfo,i=!0;break;default:throw Error(r(161))}16&n.effectTag&&(fr(t),n.effectTag&=-17),n=e;e:t:for(;;){for(;null===n.sibling;){if(null===n.return||ft(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}i?mt(e,n,t):gt(e,n,t)}}function mt(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?ur(n,e,t):or(n,e);else if(4!==r&&null!==(e=e.child))for(mt(e,t,n),e=e.sibling;null!==e;)mt(e,t,n),e=e.sibling}function gt(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?cr(n,e,t):ir(n,e);else if(4!==r&&null!==(e=e.child))for(gt(e,t,n),e=e.sibling;null!==e;)gt(e,t,n),e=e.sibling}function vt(e,t,n){for(var i,o,a=t,s=!1;;){if(!s){s=a.return;e:for(;;){if(null===s)throw Error(r(160));switch(i=s.stateNode,s.tag){case 5:o=!1;break e;case 3:case 4:i=i.containerInfo,o=!0;break e}s=s.return}s=!0}if(5===a.tag||6===a.tag)ut(e,a,n),o?dr(i,a.stateNode):hr(i,a.stateNode);else if(4===a.tag){if(null!==a.child){i=a.stateNode.containerInfo,o=!0,a.child.return=a,a=a.child;continue}}else if(ct(e,a,n),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(s=!1)}a.sibling.return=a.return,a=a.sibling}}function yt(e,t){if(tr){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void at(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var i=t.memoizedProps;e=null!==e?e.memoizedProps:i;var o=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&lr(n,a,o,e,i,t)}return;case 6:if(null===t.stateNode)throw Error(r(162));return n=t.memoizedProps,void ar(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(rr&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,Ir(t.containerInfo))));case 12:return;case 13:return bt(t),void xt(t);case 19:return void xt(t);case 17:return}throw Error(r(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void at(3,t);case 12:return;case 13:return bt(t),void xt(t);case 19:return void xt(t);case 3:rr&&((n=t.stateNode).hydrate&&(n.hydrate=!1,Ir(n.containerInfo)))}e:if(nr){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,wr(t.containerInfo,t.pendingChildren);break e}throw Error(r(163))}}function bt(e){var t=e;if(null===e.memoizedState)var n=!1;else n=!0,t=e.child,_o=si();if(tr&&null!==t)e:if(e=t,tr)for(t=e;;){if(5===t.tag){var r=t.stateNode;n?pr(r):gr(t.stateNode,t.memoizedProps)}else if(6===t.tag)r=t.stateNode,n?mr(r):vr(r,t.memoizedProps);else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(r=t.child.sibling).return=t,t=r;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}}function xt(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Yi),t.forEach((function(t){var r=$t.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function _t(e,t,n){(n=H(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Eo||(Eo=!0,Mo=r),nt(e,t)},n}function wt(e,t,n){(n=H(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return nt(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===To?To=new Set([this]):To.add(this),nt(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function St(){return(co&(to|no))!==Ji?1073741821-(si()/10|0):0!==Oo?Oo:Oo=1073741821-(si()/10|0)}function Et(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var i=E();if(0==(4&t))return 99===i?1073741823:1073741822;if((co&to)!==Ji)return fo;if(null!==n)e=A(e,0|n.timeoutMs||5e3,250);else switch(i){case 99:e=1073741823;break;case 98:e=A(e,150,100);break;case 97:case 96:e=A(e,5e3,250);break;case 95:e=2;break;default:throw Error(r(326))}return null!==uo&&e===fo&&--e,e}function Mt(e,t){if(50<Ao)throw Ao=0,Lo=null,Error(r(185));if(null!==(e=Tt(e,t))){var n=E();1073741823===t?(co&eo)!==Ji&&(co&(to|no))===Ji?Pt(e):(Rt(e),co===Ji&&C()):Rt(e),(4&co)===Ji||98!==n&&99!==n||(null===Po?Po=new Map([[e,t]]):(void 0===(n=Po.get(e))||n>t)&&Po.set(e,t))}}function Tt(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(uo===i&&(Ut(t),po===so&&hn(i,fo)),dn(i,t)),i}function kt(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!un(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Rt(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=R(Pt.bind(null,e));else{var t=kt(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=St();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==ei&&Wr(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?R(Pt.bind(null,e)):k(r,Ct.bind(null,e),{timeout:10*(1073741821-t)-si()}),e.callbackNode=t}}}function Ct(e,t){if(Oo=0,t)return fn(e,t=St()),Rt(e),null;var n=kt(e);if(0!==n){if(t=e.callbackNode,(co&(to|no))!==Ji)throw Error(r(327));if(qt(),e===uo&&n===fo||Nt(e,n),null!==ho){var i=co;co|=to;for(var o=zt();;)try{for(;null!==ho&&!ti();)ho=Bt(ho);break}catch(t){Dt(e,t)}if(fi=di=hi=null,co=i,$i.current=o,po===io)throw t=mo,Nt(e,n),hn(e,n),Rt(e),t;if(null===ho)switch(o=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,i=po,uo=null,i){case ro:case io:throw Error(r(345));case oo:fn(e,2<n?2:n);break;case ao:if(hn(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Ht(o)),1073741823===go&&10<(o=_o+wo-si())){if(xo){var a=e.lastPingedTime;if(0===a||a>=n){e.lastPingedTime=n,Nt(e,n);break}}if(0!==(a=kt(e))&&a!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}e.timeoutHandle=$n(Vt.bind(null,e),o);break}Vt(e);break;case so:if(hn(e,n),n===(i=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Ht(o)),xo&&(0===(o=e.lastPingedTime)||o>=n)){e.lastPingedTime=n,Nt(e,n);break}if(0!==(o=kt(e))&&o!==n)break;if(0!==i&&i!==n){e.lastPingedTime=i;break}if(1073741823!==vo?i=10*(1073741821-vo)-si():1073741823===go?i=0:(i=10*(1073741821-go)-5e3,0>(i=(o=si())-i)&&(i=0),(n=10*(1073741821-n)-o)<(i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Qi(i/1960))-i)&&(i=n)),10<i){e.timeoutHandle=$n(Vt.bind(null,e),i);break}Vt(e);break;case lo:if(1073741823!==go&&null!==yo){a=go;var s=yo;if(0>=(i=0|s.busyMinDurationMs)?i=0:(o=0|s.busyDelayMs,i=(a=si()-(10*(1073741821-a)-(0|s.timeoutMs||5e3)))<=o?0:o+i-a),10<i){hn(e,n),e.timeoutHandle=$n(Vt.bind(null,e),i);break}}Vt(e);break;default:throw Error(r(329))}if(Rt(e),e.callbackNode===t)return Ct.bind(null,e)}}return null}function Pt(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(co&(to|no))!==Ji)throw Error(r(327));if(qt(),e===uo&&t===fo||Nt(e,t),null!==ho){var n=co;co|=to;for(var i=zt();;)try{for(;null!==ho;)ho=Bt(ho);break}catch(t){Dt(e,t)}if(fi=di=hi=null,co=n,$i.current=i,po===io)throw n=mo,Nt(e,t),hn(e,t),Rt(e),n;if(null!==ho)throw Error(r(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,uo=null,Vt(e),Rt(e)}return null}function At(e,t){fn(e,t),Rt(e),(co&(to|no))===Ji&&C()}function Lt(){if(null!==Po){var e=Po;Po=null,e.forEach((function(e,t){fn(t,e),Rt(t)})),C()}}function Ot(e,t){var n=co;co|=1;try{return e(t)}finally{(co=n)===Ji&&C()}}function It(e,t){if((co&(to|no))!==Ji)throw Error(r(187));var n=co;co|=1;try{return T(99,e.bind(null,t))}finally{co=n,C()}}function Nt(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(n!==Jn&&(e.timeoutHandle=Jn,Kn(n)),null!==ho)for(n=ho.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&b();break;case 3:re(),p(jr),p(Br);break;case 5:oe(r);break;case 4:re();break;case 13:case 19:p(Mi);break;case 10:D(r)}n=n.return}uo=e,ho=rn(e.current,null),fo=t,po=ro,mo=null,vo=go=1073741823,yo=null,bo=0,xo=!1}function Dt(e,t){for(;;){try{if(fi=di=hi=null,Ti.current=Oi,Li)for(var n=Ci.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ri=0,Ai=Pi=Ci=null,Li=!1,null===ho||null===ho.return)return po=io,mo=t,ho=null;e:{var i=e,o=ho.return,s=ho,l=t;if(t=fo,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.expirationTime=u.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&Mi.current),d=o;do{var p;if(p=13===d.tag){var m=d.memoizedState;if(null!==m)p=null!==m.dehydrated;else{var g=d.memoizedProps;p=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!h)}}if(p){var v=d.updateQueue;if(null===v){var y=new Set;y.add(c),d.updateQueue=y}else v.add(c);if(0==(2&d.mode)){if(d.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var b=H(1073741823,null);b.tag=2,V(s,b)}s.expirationTime=1073741823;break e}l=void 0,s=t;var x=i.pingCache;if(null===x?(x=i.pingCache=new Zi,l=new Set,x.set(c,l)):void 0===(l=x.get(c))&&(l=new Set,x.set(c,l)),!l.has(s)){l.add(s);var _=Qt.bind(null,i,c,s);c.then(_,_)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);l=Error((a(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+f(s))}po!==lo&&(po=oo),l=tt(l,s),d=o;do{switch(d.tag){case 3:c=l,d.effectTag|=4096,d.expirationTime=t,G(d,_t(d,c,t));break e;case 1:c=l;var w=d.type,S=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==S&&"function"==typeof S.componentDidCatch&&(null===To||!To.has(S)))){d.effectTag|=4096,d.expirationTime=t,G(d,wt(d,c,t));break e}}d=d.return}while(null!==d)}ho=jt(ho)}catch(e){t=e;continue}break}}function zt(){var e=$i.current;return $i.current=Oi,null===e?Oi:e}function Ft(e,t){e<go&&2<e&&(go=e),null!==t&&e<vo&&2<e&&(vo=e,yo=t)}function Ut(e){e>bo&&(bo=e)}function Bt(e){var t=Io(e.alternate,e,fo);return e.memoizedProps=e.pendingProps,null===t&&(t=jt(e)),Ki.current=null,t}function jt(e){ho=e;do{var t=ho.alternate;if(e=ho.return,0==(2048&ho.effectTag)){if(t=Je(t,ho,fo),1===fo||1!==ho.childExpirationTime){for(var n=0,r=ho.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}ho.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=ho.firstEffect),null!==ho.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=ho.firstEffect),e.lastEffect=ho.lastEffect),1<ho.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=ho:e.firstEffect=ho,e.lastEffect=ho))}else{if(null!==(t=et(ho)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=ho.sibling))return t;ho=e}while(null!==ho);return po===ro&&(po=lo),null}function Ht(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function Vt(e){var t=E();return T(99,Gt.bind(null,e,t)),null}function Gt(e,t){do{qt()}while(null!==Ro);if((co&(to|no))!==Ji)throw Error(r(327));var n=e.finishedWork,i=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(r(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var o=Ht(n);if(e.firstPendingTime=o,i<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:i<=e.firstSuspendedTime&&(e.firstSuspendedTime=i-1),i<=e.lastPingedTime&&(e.lastPingedTime=0),i<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===uo&&(ho=uo=null,fo=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,o=n.firstEffect):o=n:o=n.firstEffect,null!==o){var a=co;co|=no,Ki.current=null,Hn(e.containerInfo),So=o;do{try{Wt()}catch(e){if(null===So)throw Error(r(330));Zt(So,e),So=So.nextEffect}}while(null!==So);So=o;do{try{for(var s=e,l=t;null!==So;){var c=So.effectTag;if(16&c&&tr&&fr(So.stateNode),128&c){var u=So.alternate;if(null!==u){var h=u.ref;null!==h&&("function"==typeof h?h(null):h.current=null)}}switch(1038&c){case 2:pt(So),So.effectTag&=-3;break;case 6:pt(So),So.effectTag&=-3,yt(So.alternate,So);break;case 1024:So.effectTag&=-1025;break;case 1028:So.effectTag&=-1025,yt(So.alternate,So);break;case 4:yt(So.alternate,So);break;case 8:var d=s,f=So,p=l;tr?vt(d,f,p):ut(d,f,p),ht(f)}So=So.nextEffect}}catch(e){if(null===So)throw Error(r(330));Zt(So,e),So=So.nextEffect}}while(null!==So);Vn(e.containerInfo),e.current=n,So=o;do{try{for(c=e;null!==So;){var m=So.effectTag;if(36&m&&lt(c,So.alternate,So),128&m){u=void 0;var g=So.ref;if(null!==g){var v=So.stateNode;switch(So.tag){case 5:u=Un(v);break;default:u=v}"function"==typeof g?g(u):g.current=u}}So=So.nextEffect}}catch(e){if(null===So)throw Error(r(330));Zt(So,e),So=So.nextEffect}}while(null!==So);So=null,ni(),co=a}else e.current=n;if(ko)ko=!1,Ro=e,Co=t;else for(So=o;null!==So;)t=So.nextEffect,So.nextEffect=null,So=t;if(0===(t=e.firstPendingTime)&&(To=null),1073741823===t?e===Lo?Ao++:(Ao=0,Lo=e):Ao=0,"function"==typeof Do&&Do(n.stateNode,i),Rt(e),Eo)throw Eo=!1,e=Mo,Mo=null,e;return(co&eo)!==Ji||C(),null}function Wt(){for(;null!==So;){var e=So.effectTag;0!=(256&e)&&ot(So.alternate,So),0==(512&e)||ko||(ko=!0,k(97,(function(){return qt(),null}))),So=So.nextEffect}}function qt(){if(90!==Co){var e=97<Co?97:Co;return Co=90,T(e,Xt)}}function Xt(){if(null===Ro)return!1;var e=Ro;if(Ro=null,(co&(to|no))!==Ji)throw Error(r(331));var t=co;for(co|=no,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:at(5,n),st(5,n)}}catch(t){if(null===e)throw Error(r(330));Zt(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return co=t,C(),!0}function Yt(e,t,n){V(e,t=_t(e,t=tt(n,t),1073741823)),null!==(e=Tt(e,1073741823))&&Rt(e)}function Zt(e,t){if(3===e.tag)Yt(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Yt(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===To||!To.has(r))){V(n,e=wt(n,e=tt(t,e),1073741823)),null!==(n=Tt(n,1073741823))&&Rt(n);break}}n=n.return}}function Qt(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),uo===e&&fo===n?po===so||po===ao&&1073741823===go&&si()-_o<wo?Nt(e,fo):xo=!0:un(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Rt(e)))}function $t(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Et(t=St(),e,null)),null!==(e=Tt(e,t))&&Rt(e)}function Kt(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Do=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},zo=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}return!0}function Jt(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function en(e,t,n,r){return new Jt(e,t,n,r)}function tn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function nn(e){if("function"==typeof e)return tn(e)?1:0;if(null!=e){if((e=e.$$typeof)===Ln)return 11;if(e===Nn)return 14}return 2}function rn(e,t){var n=e.alternate;return null===n?((n=en(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function on(e,t,n,i,o,a){var s=2;if(i=e,"function"==typeof e)tn(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Tn:return an(n.children,o,a,t);case An:s=8,o|=7;break;case kn:s=8,o|=1;break;case Rn:return(e=en(12,n,t,8|o)).elementType=Rn,e.type=Rn,e.expirationTime=a,e;case On:return(e=en(13,n,t,o)).type=On,e.elementType=On,e.expirationTime=a,e;case In:return(e=en(19,n,t,o)).elementType=In,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Cn:s=10;break e;case Pn:s=9;break e;case Ln:s=11;break e;case Nn:s=14;break e;case Dn:s=16,i=null;break e;case zn:s=22;break e}throw Error(r(130,null==e?e:typeof e,""))}return(t=en(s,n,t,o)).elementType=e,t.type=i,t.expirationTime=a,t}function an(e,t,n,r){return(e=en(7,e,r,t)).expirationTime=n,e}function sn(e,t,n){return(e=en(6,e,null,t)).expirationTime=n,e}function ln(e,t,n){return(t=en(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function cn(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=Jn,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function un(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function hn(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function dn(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function fn(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function pn(t){if(null===Fo)try{var n=("require"+Math.random()).slice(0,7);Fo=(e&&e[n])("timers").setImmediate}catch(e){Fo=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}return Fo(t)}function mn(e){var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(r(188));throw Error(r(268,Object.keys(e)))}return null===(e=u(t))?null:e.stateNode}function gn(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function vn(e,t){gn(e,t),(e=e.alternate)&&gn(e,t)}function yn(e){try{jo(),pn((function(){jo()?yn(e):e()}))}catch(t){e(t)}}var bn=d,xn=m,_n=Vh,wn=xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;wn.hasOwnProperty("ReactCurrentDispatcher")||(wn.ReactCurrentDispatcher={current:null}),wn.hasOwnProperty("ReactCurrentBatchConfig")||(wn.ReactCurrentBatchConfig={suspense:null});var Sn="function"==typeof Symbol&&Symbol.for,En=Sn?Symbol.for("react.element"):60103,Mn=Sn?Symbol.for("react.portal"):60106,Tn=Sn?Symbol.for("react.fragment"):60107,kn=Sn?Symbol.for("react.strict_mode"):60108,Rn=Sn?Symbol.for("react.profiler"):60114,Cn=Sn?Symbol.for("react.provider"):60109,Pn=Sn?Symbol.for("react.context"):60110,An=Sn?Symbol.for("react.concurrent_mode"):60111,Ln=Sn?Symbol.for("react.forward_ref"):60112,On=Sn?Symbol.for("react.suspense"):60113,In=Sn?Symbol.for("react.suspense_list"):60120,Nn=Sn?Symbol.for("react.memo"):60115,Dn=Sn?Symbol.for("react.lazy"):60116,zn=Sn?Symbol.for("react.block"):60121,Fn="function"==typeof Symbol&&Symbol.iterator,Un=n.getPublicInstance,Bn=n.getRootHostContext,jn=n.getChildHostContext,Hn=n.prepareForCommit,Vn=n.resetAfterCommit,Gn=n.createInstance,Wn=n.appendInitialChild,qn=n.finalizeInitialChildren,Xn=n.prepareUpdate,Yn=n.shouldSetTextContent,Zn=n.shouldDeprioritizeSubtree,Qn=n.createTextInstance,$n=n.setTimeout,Kn=n.clearTimeout,Jn=n.noTimeout,er=n.isPrimaryRenderer,tr=n.supportsMutation,nr=n.supportsPersistence,rr=n.supportsHydration,ir=n.appendChild,or=n.appendChildToContainer,ar=n.commitTextUpdate,sr=n.commitMount,lr=n.commitUpdate,cr=n.insertBefore,ur=n.insertInContainerBefore,hr=n.removeChild,dr=n.removeChildFromContainer,fr=n.resetTextContent,pr=n.hideInstance,mr=n.hideTextInstance,gr=n.unhideInstance,vr=n.unhideTextInstance,yr=n.cloneInstance,br=n.createContainerChildSet,xr=n.appendChildToContainerChildSet,_r=n.finalizeContainerChildren,wr=n.replaceContainerChildren,Sr=n.cloneHiddenInstance,Er=n.cloneHiddenTextInstance,Mr=n.canHydrateInstance,Tr=n.canHydrateTextInstance,kr=n.isSuspenseInstancePending,Rr=n.isSuspenseInstanceFallback,Cr=n.getNextHydratableSibling,Pr=n.getFirstHydratableChild,Ar=n.hydrateInstance,Lr=n.hydrateTextInstance,Or=n.getNextHydratableInstanceAfterSuspenseInstance,Ir=n.commitHydratedContainer,Nr=n.commitHydratedSuspenseInstance,Dr=/^(.*)[\\\/]/,zr=[],Fr=-1,Ur={},Br={current:Ur},jr={current:!1},Hr=Ur,Vr=_n.unstable_runWithPriority,Gr=_n.unstable_scheduleCallback,Wr=_n.unstable_cancelCallback,qr=_n.unstable_requestPaint,Xr=_n.unstable_now,Yr=_n.unstable_getCurrentPriorityLevel,Zr=_n.unstable_ImmediatePriority,Qr=_n.unstable_UserBlockingPriority,$r=_n.unstable_NormalPriority,Kr=_n.unstable_LowPriority,Jr=_n.unstable_IdlePriority,ei={},ti=_n.unstable_shouldYield,ni=void 0!==qr?qr:function(){},ri=null,ii=null,oi=!1,ai=Xr(),si=1e4>ai?Xr:function(){return Xr()-ai},li="function"==typeof Object.is?Object.is:L,ci=Object.prototype.hasOwnProperty,ui={current:null},hi=null,di=null,fi=null,pi=!1,mi=wn.ReactCurrentBatchConfig,gi=(new xn.Component).refs,vi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&s(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=St(),i=mi.suspense;(i=H(r=Et(r,e,i),i)).payload=t,null!=n&&(i.callback=n),V(e,i),Mt(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=St(),i=mi.suspense;(i=H(r=Et(r,e,i),i)).tag=1,i.payload=t,null!=n&&(i.callback=n),V(e,i),Mt(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=St(),r=mi.suspense;(r=H(n=Et(n,e,r),r)).tag=2,null!=t&&(r.callback=t),V(e,r),Mt(e,n)}},yi=Array.isArray,bi=ee(!0),xi=ee(!1),_i={},wi={current:_i},Si={current:_i},Ei={current:_i},Mi={current:0},Ti=wn.ReactCurrentDispatcher,ki=wn.ReactCurrentBatchConfig,Ri=0,Ci=null,Pi=null,Ai=null,Li=!1,Oi={readContext:U,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useResponder:le,useDeferredValue:le,useTransition:le},Ii={readContext:U,useCallback:ke,useContext:U,useEffect:_e,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,be(4,2,Ee.bind(null,t,e),n)},useLayoutEffect:function(e,t){return be(4,2,e,t)},useMemo:function(e,t){var n=he();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=he();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Ae.bind(null,Ci,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},he().memoizedState=e},useState:ge,useDebugValue:Te,useResponder:se,useDeferredValue:function(e,t){var n=ge(e),r=n[0],i=n[1];return _e((function(){var n=ki.suspense;ki.suspense=void 0===t?null:t;try{i(e)}finally{ki.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ge(!1),n=t[0];return t=t[1],[ke(Pe.bind(null,t,e),[t,e]),n]}},Ni={readContext:U,useCallback:Re,useContext:U,useEffect:we,useImperativeHandle:Me,useLayoutEffect:Se,useMemo:Ce,useReducer:pe,useRef:ye,useState:function(){return pe(fe)},useDebugValue:Te,useResponder:se,useDeferredValue:function(e,t){var n=pe(fe),r=n[0],i=n[1];return we((function(){var n=ki.suspense;ki.suspense=void 0===t?null:t;try{i(e)}finally{ki.suspense=n}}),[e,t]),r},useTransition:function(e){var t=pe(fe),n=t[0];return t=t[1],[Re(Pe.bind(null,t,e),[t,e]),n]}},Di={readContext:U,useCallback:Re,useContext:U,useEffect:we,useImperativeHandle:Me,useLayoutEffect:Se,useMemo:Ce,useReducer:me,useRef:ye,useState:function(){return me(fe)},useDebugValue:Te,useResponder:se,useDeferredValue:function(e,t){var n=me(fe),r=n[0],i=n[1];return we((function(){var n=ki.suspense;ki.suspense=void 0===t?null:t;try{i(e)}finally{ki.suspense=n}}),[e,t]),r},useTransition:function(e){var t=me(fe),n=t[0];return t=t[1],[Re(Pe.bind(null,t,e),[t,e]),n]}},zi=null,Fi=null,Ui=!1,Bi=wn.ReactCurrentOwner,ji=!1,Hi={dehydrated:null,retryTime:0};if(tr)var Vi=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)Wn(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Gi=function(){},Wi=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var o=t.stateNode,a=te(wi.current);n=Xn(o,n,e,r,i,a),(t.updateQueue=n)&&(t.effectTag|=4)}},qi=function(e,t,n,r){n!==r&&(t.effectTag|=4)};else if(nr){Vi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=Sr(o,i.type,i.memoizedProps,i)),Wn(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=Er(o,i.memoizedProps,i)),Wn(e,o);else if(4!==i.tag){if(13===i.tag&&0!=(4&i.effectTag)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,Vi(e,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};var Xi=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=Sr(o,i.type,i.memoizedProps,i)),xr(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=Er(o,i.memoizedProps,i)),xr(e,o);else if(4!==i.tag){if(13===i.tag&&0!=(4&i.effectTag)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,Xi(e,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Gi=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,r=br(n);Xi(r,e,!1,!1),t.pendingChildren=r,e.effectTag|=4,_r(n,r)}},Wi=function(e,t,n,r,i){var o=e.stateNode,a=e.memoizedProps;if((e=null===t.firstEffect)&&a===r)t.stateNode=o;else{var s=t.stateNode,l=te(wi.current),c=null;a!==r&&(c=Xn(s,n,a,r,i,l)),e&&null===c?t.stateNode=o:(o=yr(o,c,n,a,r,t,e,s),qn(o,n,r,i,l)&&(t.effectTag|=4),t.stateNode=o,e?t.effectTag|=4:Vi(o,t,!1,!1))}},qi=function(e,t,n,r){n!==r?(e=te(Ei.current),n=te(wi.current),t.stateNode=Qn(r,e,n,t),t.effectTag|=4):t.stateNode=e.stateNode}}else Gi=function(){},Wi=function(){},qi=function(){};var Yi="function"==typeof WeakSet?WeakSet:Set,Zi="function"==typeof WeakMap?WeakMap:Map,Qi=Math.ceil,$i=wn.ReactCurrentDispatcher,Ki=wn.ReactCurrentOwner,Ji=0,eo=8,to=16,no=32,ro=0,io=1,oo=2,ao=3,so=4,lo=5,co=Ji,uo=null,ho=null,fo=0,po=ro,mo=null,go=1073741823,vo=1073741823,yo=null,bo=0,xo=!1,_o=0,wo=500,So=null,Eo=!1,Mo=null,To=null,ko=!1,Ro=null,Co=90,Po=null,Ao=0,Lo=null,Oo=0,Io=function(e,t,n){var i=t.expirationTime;if(null!==e){var a=t.pendingProps;if(e.memoizedProps!==a||jr.current)ji=!0;else{if(i<n){switch(ji=!1,t.tag){case 3:qe(t),ze();break;case 5:if(ie(t),4&t.mode&&1!==n&&Zn(t.type,a))return t.expirationTime=t.childExpirationTime=1,null;break;case 1:y(t.type)&&w(t);break;case 4:ne(t,t.stateNode.containerInfo);break;case 10:N(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(i=t.child.childExpirationTime)&&i>=n?Xe(e,t,n):(g(Mi,1&Mi.current),null!==(t=$e(e,t,n))?t.sibling:null);g(Mi,1&Mi.current);break;case 19:if(i=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(i)return Qe(e,t,n);t.effectTag|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null),g(Mi,Mi.current),!i)return null}return $e(e,t,n)}ji=!1}}else ji=!1;switch(t.expirationTime=0,t.tag){case 2:if(i=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,a=v(t,Br.current),F(t,n),a=ue(null,t,i,e,a,n),t.effectTag|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,y(i)){var s=!0;w(t)}else s=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,B(t);var l=i.getDerivedStateFromProps;"function"==typeof l&&X(t,i,l,e),a.updater=vi,t.stateNode=a,a._reactInternalFiber=t,$(t,i,e,n),t=We(null,t,i,!0,s,n)}else t.tag=0,Fe(null,t,a,n),t=t.child;return t;case 16:e:{if(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,o(a),1!==a._status)throw a._result;switch(a=a._result,t.type=a,s=t.tag=nn(a),e=I(a,e),s){case 0:t=Ve(null,t,a,e,n);break e;case 1:t=Ge(null,t,a,e,n);break e;case 11:t=Ue(null,t,a,e,n);break e;case 14:t=Be(null,t,a,I(a.type,e),i,n);break e}throw Error(r(306,a,""))}return t;case 0:return i=t.type,a=t.pendingProps,Ve(e,t,i,a=t.elementType===i?a:I(i,a),n);case 1:return i=t.type,a=t.pendingProps,Ge(e,t,i,a=t.elementType===i?a:I(i,a),n);case 3:if(qe(t),i=t.updateQueue,null===e||null===i)throw Error(r(282));if(i=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,j(e,t),W(t,i,null,n),(i=t.memoizedState.element)===a)ze(),t=$e(e,t,n);else{if((a=t.stateNode.hydrate)&&(rr?(Fi=Pr(t.stateNode.containerInfo),zi=t,a=Ui=!0):a=!1),a)for(n=xi(t,null,i,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Fe(e,t,i,n),ze();t=t.child}return t;case 5:return ie(t),null===e&&Ie(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,l=a.children,Yn(i,a)?l=null:null!==s&&Yn(i,s)&&(t.effectTag|=16),He(e,t),4&t.mode&&1!==n&&Zn(i,a)?(t.expirationTime=t.childExpirationTime=1,t=null):(Fe(e,t,l,n),t=t.child),t;case 6:return null===e&&Ie(t),null;case 13:return Xe(e,t,n);case 4:return ne(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=bi(t,null,i,n):Fe(e,t,i,n),t.child;case 11:return i=t.type,a=t.pendingProps,Ue(e,t,i,a=t.elementType===i?a:I(i,a),n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,a=t.pendingProps,l=t.memoizedProps,N(t,s=a.value),null!==l){var c=l.value;if(0===(s=li(c,s)?0:0|("function"==typeof i._calculateChangedBits?i._calculateChangedBits(c,s):1073741823))){if(l.children===a.children&&!jr.current){t=$e(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var u=c.dependencies;if(null!==u){l=c.child;for(var h=u.firstContext;null!==h;){if(h.context===i&&0!=(h.observedBits&s)){1===c.tag&&((h=H(n,null)).tag=2,V(c,h)),c.expirationTime<n&&(c.expirationTime=n),null!==(h=c.alternate)&&h.expirationTime<n&&(h.expirationTime=n),z(c.return,n),u.expirationTime<n&&(u.expirationTime=n);break}h=h.next}}else l=10===c.tag&&c.type===t.type?null:c.child;if(null!==l)l.return=c;else for(l=c;null!==l;){if(l===t){l=null;break}if(null!==(c=l.sibling)){c.return=l.return,l=c;break}l=l.return}c=l}}Fe(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,i=(s=t.pendingProps).children,F(t,n),i=i(a=U(a,s.unstable_observedBits)),t.effectTag|=1,Fe(e,t,i,n),t.child;case 14:return s=I(a=t.type,t.pendingProps),Be(e,t,a,s=I(a.type,s),i,n);case 15:return je(e,t,t.type,t.pendingProps,i,n);case 17:return i=t.type,a=t.pendingProps,a=t.elementType===i?a:I(i,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,y(i)?(e=!0,w(t)):e=!1,F(t,n),Z(t,i,a),$(t,i,a,n),We(null,t,i,!0,e,n);case 19:return Qe(e,t,n)}throw Error(r(156,t.tag))},No={current:!1},Do=null,zo=null,Fo=null,Uo=wn.IsSomeRendererActing,Bo="function"==typeof _n.unstable_flushAllWithoutAsserting,jo=_n.unstable_flushAllWithoutAsserting||function(){for(var e=!1;qt();)e=!0;return e},Ho=0,Vo=!1,Go={__proto__:null,createContainer:function(e,t,n){return e=new cn(e,t,n),t=en(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,B(t),e},updateContainer:function(e,t,n,i){var o=t.current,a=St(),l=mi.suspense;a=Et(a,o,l);e:if(n){t:{if(s(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(r(170));var c=n;do{switch(c.tag){case 3:c=c.stateNode.context;break t;case 1:if(y(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break t}}c=c.return}while(null!==c);throw Error(r(171))}if(1===n.tag){var u=n.type;if(y(u)){n=_(n,u,c);break e}}n=c}else n=Ur;return null===t.context?t.context=n:t.pendingContext=n,(t=H(a,l)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),V(o,t),Mt(o,a),a},batchedEventUpdates:function(e,t){var n=co;co|=2;try{return e(t)}finally{(co=n)===Ji&&C()}},batchedUpdates:Ot,unbatchedUpdates:function(e,t){var n=co;co&=-2,co|=eo;try{return e(t)}finally{(co=n)===Ji&&C()}},deferredUpdates:function(e){return T(97,e)},syncUpdates:function(e,t,n,r){return T(99,e.bind(null,t,n,r))},discreteUpdates:function(e,t,n,r,i){var o=co;co|=4;try{return T(98,e.bind(null,t,n,r,i))}finally{(co=o)===Ji&&C()}},flushDiscreteUpdates:function(){(co&(1|to|no))===Ji&&(Lt(),qt())},flushControlled:function(e){var t=co;co|=1;try{T(99,e)}finally{(co=t)===Ji&&C()}},flushSync:It,flushPassiveEffects:qt,IsThisRendererActing:No,getPublicRootInstance:function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:return Un(e.child.stateNode);default:return e.child.stateNode}},attemptSynchronousHydration:function(e){switch(e.tag){case 3:var t=e.stateNode;t.hydrate&&At(t,t.firstPendingTime);break;case 13:It((function(){return Mt(e,1073741823)})),t=A(St(),150,100),vn(e,t)}},attemptUserBlockingHydration:function(e){if(13===e.tag){var t=A(St(),150,100);Mt(e,t),vn(e,t)}},attemptContinuousHydration:function(e){13===e.tag&&(Mt(e,3),vn(e,3))},attemptHydrationAtCurrentPriority:function(e){if(13===e.tag){var t=St();Mt(e,t=Et(t,e,null)),vn(e,t)}},findHostInstance:mn,findHostInstanceWithWarning:function(e){return mn(e)},findHostInstanceWithNoPortals:function(e){return null===(e=h(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},shouldSuspend:function(){return!1},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return Kt(bn({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=u(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))},act:function(e){function t(){Ho--,Uo.current=n,No.current=r}!1===Vo&&(Vo=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),Ho++;var n=Uo.current,r=No.current;Uo.current=!0,No.current=!0;try{var i=Ot(e)}catch(e){throw t(),e}if(null!==i&&"object"==typeof i&&"function"==typeof i.then)return{then:function(e,r){i.then((function(){1<Ho||!0===Bo&&!0===n?(t(),e()):yn((function(n){t(),n?r(n):e()}))}),(function(e){t(),r(e)}))}};try{1!==Ho||!1!==Bo&&!1!==n||jo(),t()}catch(e){throw t(),e}return{then:function(e){e()}}}},Wo=Go&&Go.default||Go;e.exports=Wo.default||Wo;var qo=e.exports;return e.exports=t,qo}}(n={path:void 0,exports:{},require:function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}}),n.exports}();let Xh=new Map,Yh={},Zh={obj:e=>e===Object(e)&&!Zh.arr(e),fun:e=>"function"==typeof e,str:e=>"string"==typeof e,num:e=>"number"==typeof e,und:e=>void 0===e,arr:e=>Array.isArray(e),equ(e,t){if(typeof e!=typeof t||!!e!=!!t)return!1;if(Zh.str(e)||Zh.num(e)||Zh.obj(e))return e===t;if(Zh.arr(e)&&e==t)return!0;let n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!Zh.und(n)||e===t}},Qh=[],$h=[],Kh=[];function Jh(e,t,n=0,r=!1){let i;if(r)for(i=0;i<Qh.length;i++)Qh[i](t),n++;let o=e.current.clock.getDelta();for(i=0;i<e.current.subscribers.length;i++)e.current.subscribers[i].ref.current(e.current,o);if(e.current.frames=Math.max(0,e.current.frames-1),n+=e.current.invalidateFrameloop?e.current.frames:1,e.current.manual||e.current.gl.render(e.current.scene,e.current.camera),r)for(i=0;i<$h.length;i++)$h[i](t);return n}let ed=!1;function td(e){ed=!0;let t,n=0;for(t=0;t<Qh.length;t++)Qh[t](e),n++;for(Xh.forEach((t=>{(t=t.containerInfo.__state).current.active&&t.current.ready&&(!t.current.invalidateFrameloop||0<t.current.frames)&&(n=Jh(t,e,n))})),t=0;t<$h.length;t++)$h[t](e);if(0!==n)return requestAnimationFrame(td);for(t=0;t<Kh.length;t++)Kh[t](e);ed=!1}function nd(e=!0,t=2){if(!0===e)Xh.forEach((e=>e.containerInfo.__state.current.frames=t));else if(e&&e.current){if(e.current.vr)return;e.current.frames=t}ed||(ed=!0,requestAnimationFrame(td))}let rd={};function id(e,t,n={},r=!1){let i=e.__container;var o=[];let a=[];var s;let l=Object.keys(t);for(s=0;s<l.length;s++)Zh.equ(t[l[s]],n[l[s]])&&o.push(l[s]),Zh.fun(t[l[s]])&&l[s].startsWith("on")&&(l[s].includes("Pointer")||l[s].includes("Click")||l[s].includes("ContextMenu")||l[s].includes("Wheel"))&&a.push(l[s]);let c=[];if(l=Object.keys(n),r)for(s=0;s<l.length;s++)void 0===t[l[s]]&&c.push(l[s]);for(n=[...o,"children","key","ref"],e.__instance&&n.push("object"),o=Wh({},t),l=Object.keys(o),s=0;s<l.length;s++)-1<n.indexOf(l[s])&&delete o[l[s]];for(l=Object.keys(c),s=0;s<l.length;s++)"children"!==l[s]&&(o[l[s]]=void 0);0<(s=Object.entries(o)).length&&(s.forEach((([t,n])=>{if(!a.includes(t)){var r,i;let a=e,s=a[t];if(t.includes("-")){var o=t.split("-");if(s=o.reduce(((e,t)=>e[t]),e),!s||!s.set){let[n,...r]=o.reverse();a=r.reverse().reduce(((e,t)=>e[t]),e),t=n}}o=null==(r=e.__container)||null==(i=r.__state)?void 0:i.current.colorManagement,s&&s.set&&(s.copy||s instanceof tt)?Array.isArray(n)?s.set(...n):s.copy&&n&&n.constructor&&s.constructor.name===n.constructor.name?s.copy(n):void 0!==n&&(s.set(n),o&&s instanceof zt&&s.convertSRGBToLinear()):(a[t]=n,o&&a[t]instanceof he&&(a[t].encoding=3001)),od(e)}})),r&&i&&e.raycast&&e.__handlers&&(e.__handlers=void 0,-1<(r=i.__interaction.indexOf(e))&&i.__interaction.splice(r,1)),a.length&&(i&&e.raycast&&i.__interaction.push(e),e.__handlers=a.reduce(((e,n)=>(e[n.charAt(2).toLowerCase()+n.substr(3)]=t[n],e)),{})),e.parent&&ad(e))}function od(e){e.__container&&e.__container.__state&&nd(e.__container.__state)}function ad(e){e.onUpdate&&e.onUpdate(e)}function sd(e,t,n,r,i){({args:r=[]}=t),t=Gh(t,["args"]);let o=""+e[0].toUpperCase()+e.slice(1);if("primitive"===e)(e=(t=Wh({dispose:null},t)).object).__instance=!0,e.__dispose=e.dispose;else if("new"===e)e=new t.object(r);else{if(!(e=rd[o]||Yu[o]))throw'"'+o+'" is not part of the THREE namespace! Did you forget to extend it? See: https://github.com/react-spring/react-three-fiber/blob/master/api.md#putting-already-existing-objects-into-the-scene-graph';e=Zh.arr(r)?new e(...r):new e(r)}for(;n.__container;)n=n.__container;if(!Xh.has(n)){let e=t=>t.return?e(t.return):t.stateNode&&t.stateNode.containerInfo;n=e(i)}return e.__objects=[],e.__container=n,o.endsWith("Geometry")?t=Wh({attach:"geometry"},t):o.endsWith("Material")&&(t=Wh({attach:"material"},t)),id(e,t,{}),e}function ld(e,t){t&&(t.isObject3D?e.add(t):(e.__objects.push(t),t.parent=e,t.attachArray?(Zh.arr(e[t.attachArray])||(e[t.attachArray]=[]),e[t.attachArray].push(t)):t.attachObject?(Zh.obj(e[t.attachObject[0]])||(e[t.attachObject[0]]={}),e[t.attachObject[0]][t.attachObject[1]]=t):t.attach&&(e[t.attach]=t)),ad(t),od(t))}function cd(e,t,n){if(t){if(t.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});let r=e.children.filter((e=>e!==t));n=r.indexOf(n),e.children=[...r.slice(0,n),t,...r.slice(n)],ad(t)}else ld(e,t);od(t)}}function ud(e,t,n=!1){e&&(n?[...e]:e).forEach((e=>hd(t,e)))}function hd(e,t){t&&(t.isObject3D?e.remove(t):(t.parent=null,e.__objects&&(e.__objects=e.__objects.filter((e=>e!==t))),t.attachArray?e[t.attachArray]=e[t.attachArray].filter((e=>e!==t)):t.attachObject?delete e[t.attachObject[0]][t.attachObject[1]]:t.attach&&(e[t.attach]=null)),od(t),null!==t.dispose&&Vh.unstable_runWithPriority(Vh.unstable_IdlePriority,(()=>{t.__container&&(t.__container.__interaction=t.__container.__interaction.filter((e=>e!==t))),ud(t.__objects,t),ud(t.children,t,!0),t.dispose?t.dispose():t.__dispose&&t.__dispose(),delete t.__container,delete t.__objects})))}function dd(e,t,n,r){let i=e.parent,o=sd(t,n,e.__container,null,r);hd(i,e),ld(i,o),[r,r.alternate].forEach((e=>{null!==e&&(e.stateNode=o,e.ref&&(Zh.fun(e.ref)?e.ref(o):e.ref.current=o))}))}let fd=qh({now:Vh.unstable_now,createInstance:sd,removeChild:hd,appendChild:ld,insertBefore:cd,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:Zh.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Zh.fun(clearTimeout)?clearTimeout:void 0,setTimeout:Zh.fun(setTimeout)?setTimeout:void 0,clearTimeout:Zh.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendInitialChild:ld,appendChildToContainer:ld,removeChildFromContainer:hd,insertInContainerBefore:cd,commitUpdate(e,t,n,r,i,o){if(e.__instance&&i.object&&i.object!==e)dd(e,n,i,o);else{({args:t=[]}=i);const a=Gh(i,["args"]),{args:s=[]}=r;r=Gh(r,["args"]),t.some(((e,t)=>Zh.obj(e)?Object.entries(e).some((([e,n])=>n!==s[t][e])):e!==s[t]))?dd(e,n,i,o):id(e,a,r,!0)}},hideInstance(e){e.isObject3D&&(e.visible=!1,od(e))},unhideInstance(e,t){(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0,od(e))},hideTextInstance(){throw Error("Text is not allowed in the react-three-fibre tree. You may have extraneous whitespace between components.")},getPublicInstance:e=>e,getRootHostContext:()=>Yh,getChildHostContext:()=>Yh,createTextInstance(){},finalizeInitialChildren:()=>!1,prepareUpdate:()=>Yh,shouldDeprioritizeSubtree:()=>!1,prepareForCommit:()=>null,preparePortalMount:()=>null,resetAfterCommit(){},shouldSetTextContent:()=>!1,clearContainer:()=>!1});function pd(e){return(e.eventObject||e.object).uuid+"/"+e.index}!Zh.fun(Symbol)||!Symbol.for||Symbol.for("react.portal"),fd.injectIntoDevTools({bundleType:"production"===process.env.NODE_ENV?0:1,findHostInstanceByFiber:()=>null,version:m.version,rendererPackageName:"react-three-fiber"});let md=m.createContext({}),gd=e=>{const{children:t,gl:n,camera:r,orthographic:i,raycaster:o,size:a,pixelRatio:s,vr:l=!1,concurrent:c=!1,shadowMap:u=!1,colorManagement:h=!0,invalidateFrameloop:d=!1,updateDefaultCamera:f=!0,noEvents:p=!1,onCreated:g,onPointerMissed:v,forceResize:y}=e,[b,x]=m.useState(!1),[_]=m.useState((()=>new ae)),[w]=m.useState((()=>{const e=new Wc;if(o){id(e,Gh(o,["filter"]),{})}return e})),[S]=m.useState((()=>{const e=new to;return e.__interaction=[],e.__objects=[],e})),[E,M]=m.useState((()=>{const e=i?new Hl(0,0,0,0,.1,1e3):new zn(75,0,.1,1e3);return e.position.z=5,r&&id(e,r,{}),e.lookAt(0,0,0),e}));[e]=m.useState((()=>new vc));const T=m.useRef({ready:!1,active:!0,manual:0,colorManagement:h,vr:l,concurrent:c,noEvents:p,invalidateFrameloop:!1,frames:0,aspect:0,subscribers:[],camera:E,scene:S,raycaster:w,mouse:_,clock:e,gl:n,size:a,viewport:null,initialClick:[0,0],initialHits:[],pointer:new Bh,captured:void 0,events:void 0,subscribe:(e,t=0)=>(t&&T.current.manual++,T.current.subscribers.push({ref:e,priority:t}),T.current.subscribers=T.current.subscribers.sort(((e,t)=>e.priority-t.priority)),()=>{var n;null!=(n=T.current)&&n.subscribers&&(t&&T.current.manual--,T.current.subscribers=T.current.subscribers.filter((t=>t.ref!==e)))}),setDefaultCamera:e=>M(e),invalidate:()=>nd(T),intersect:(e={},t=!0)=>D(e,t),forceResize:y}),k=m.useCallback(((e=T.current.camera,t=new ge(0,0,0))=>{const{width:n,height:r}=T.current.size;if(t=e.position.distanceTo(t),e.isOrthographicCamera)return{width:n/e.zoom,height:r/e.zoom,factor:1,distance:t};{const i=n/r*(e=2*Math.tan(e.fov*Math.PI/180/2)*t);return{width:i,height:e,factor:n/i,distance:t}}}),[]);m.useMemo((()=>{T.current.ready=b,T.current.size=a,T.current.camera=E,T.current.invalidateFrameloop=d,T.current.vr=l,T.current.gl=n,T.current.concurrent=c,T.current.noEvents=p,T.current.viewport=k}),[d,l,c,p,b,a,E,n]),m.useMemo((()=>{T.current.aspect=a.width/a.height,Object.assign(T.current.viewport,k()),f&&(E.isOrthographicCamera?(E.left=a.width/-2,E.right=a.width/2,E.top=a.height/2,E.bottom=a.height/-2):E.aspect=T.current.aspect,E.updateProjectionMatrix(),E.updateMatrixWorld()),n.setSize(a.width,a.height),b&&nd(T)}),[E,n,a,f]);const R=m.useCallback((({nativeEvent:e})=>{if(void 0!==e){const{offsetX:t,offsetY:n}=e,{width:r,height:i}=T.current.size;_.set(t/r*2-1,-n/i*2+1),w.setFromCamera(_,T.current.camera)}}),[]),C=m.useCallback(((e,t)=>{if(T.current.noEvents)return[];const n=new Set;e=[],t=t?t(T.current.scene.__interaction):T.current.scene.__interaction,t=w.intersectObjects(t,!0).filter((e=>(e=pd(e),!n.has(e)&&(n.add(e),!0)))),o&&o.filter&&F.current&&(t=o.filter(t,F.current));for(const n of t)for(t=n.object;t;)t.__handlers&&e.push(Wh({},n,{eventObject:t})),t=t.parent;return e}),[]),P=m.useCallback((e=>{const t=e.nativeEvent.offsetX-T.current.initialClick[0];return e=e.nativeEvent.offsetY-T.current.initialClick[1],Math.round(Math.sqrt(t*t+e*e))}),[]),A=m.useMemo((()=>new Map),[]),L=m.useCallback(((e,t,n=!0)=>{T.current.pointer.emit("pointerCancel",e),n&&R(e),Array.from(A.values()).forEach((e=>{if(t&&(!t.length||!t.find((t=>t.eventObject===e.eventObject)))){const t=e.eventObject.__handlers;t&&(t.pointerOut&&t.pointerOut(Wh({},e,{type:"pointerout"})),t.pointerLeave&&t.pointerLeave(Wh({},e,{type:"pointerleave"}))),A.delete(pd(e))}}))}),[]),O=new ge,I=m.useCallback(((e,t)=>{const n=C(e,t);return T.current.captured&&"click"!==e.type&&"wheel"!==e.type&&T.current.captured.forEach((e=>{n.find((t=>t.eventObject===e.eventObject))||n.push(e)})),n}),[]),N=m.useCallback(((e,t,n)=>{if(e.length){const o=O.set(_.x,_.y,0).unproject(T.current.camera),a="click"===t.type?P(t):0,s=e=>t.target.releasePointerCapture(e);var r=!1,i=!1;for(const l of e){const c=e=>{i||(i=!0,T.current.captured=[]),T.current.captured&&T.current.captured.push(l),t.target.setPointerCapture(e)},u=Wh({},t,l,{intersections:e,stopped:r,delta:a,unprojectedPoint:o,ray:w.ray,camera:T.current.camera,stopPropagation:()=>{const e=T.current.captured;e&&!e.find((e=>e.eventObject.id===l.eventObject.id))||(u.stopped=r=!0)},target:Wh({},t.target,{setPointerCapture:c,releasePointerCapture:s}),currentTarget:Wh({},t.currentTarget,{setPointerCapture:c,releasePointerCapture:s}),sourceEvent:t});if(n(u),!0===r){A.size&&Array.from(A.values()).find((e=>e.object===l.object))&&L(u,[l]);break}}}return e}),[]),D=m.useCallback(((e,t=!0)=>{T.current.pointer.emit("pointerMove",e),t&&R(e);const n=I(e,(e=>e.filter((e=>["Move","Over","Enter","Out","Leave"].some((t=>e.__handlers["pointer"+t]))))));return L(e,n,t),N(n,e,(e=>{const t=e.eventObject.__handlers;if(t){if(t.pointerOver||t.pointerEnter||t.pointerOut||t.pointerLeave){const n=pd(e),r=A.get(n);r?r.stopped&&e.stopPropagation():(A.set(n,e),t.pointerOver&&t.pointerOver(Wh({},e,{type:"pointerover"})),t.pointerEnter&&t.pointerEnter(Wh({},e,{type:"pointerenter"})))}t.pointerMove&&t.pointerMove(e)}})),n}),[]),z=m.useCallback((e=>(t,n=!0)=>{T.current.pointer.emit(e,t),n&&R(t),n=I(t),N(n,t,(t=>{const n=t.eventObject,r=n.__handlers;r&&r[e]&&("click"!==e&&"contextMenu"!==e&&"doubleClick"!==e||T.current.initialHits.includes(n))&&r[e](t)})),"pointerDown"===e&&(T.current.initialClick=[t.nativeEvent.offsetX,t.nativeEvent.offsetY],T.current.initialHits=n.map((e=>e.eventObject))),"click"!==e&&"contextMenu"!==e&&"doubleClick"!==e||n.length||!v||2>=P(t)&&v()}),[v]);m.useMemo((()=>{T.current.events={onClick:z("click"),onContextMenu:z("contextMenu"),onDoubleClick:z("doubleClick"),onWheel:z("wheel"),onPointerDown:z("pointerDown"),onPointerUp:z("pointerUp"),onPointerLeave:e=>L(e,[]),onPointerMove:D,onGotPointerCaptureLegacy:e=>T.current.captured=C(e),onLostPointerCapture:e=>(T.current.captured=void 0,L(e))}}),[v]);const F=m.useRef();m.useMemo((()=>{const e=Gh(T.current,"ready manual vr noEvents invalidateFrameloop frames subscribers captured initialClick initialHits".split(" "));F.current=e}),[a,E]),m.useLayoutEffect((()=>{s&&(Array.isArray(s)?n.setPixelRatio(Math.max(Math.min(s[0],window.devicePixelRatio),s[1])):n.setPixelRatio(s))}),[n,s]),m.useLayoutEffect((()=>{u&&(n.shadowMap.enabled=!0,"object"==typeof u?Object.assign(n.shadowMap,u):n.shadowMap.type=2),h&&(n.toneMapping=4,n.outputEncoding=3001)}),[u,h]);const U=m.useCallback((function(e){const t=()=>x(!0);return m.useEffect((()=>{const e=g&&g(T.current);e&&e.then?e.then(t):x(!0)}),[]),e.children}),[]);return m.useLayoutEffect((()=>{!function(e,t,n){let r=Xh.get(t);r||(t.__state=n,n=r=fd.createContainer(t,void 0!==n&&n.current.concurrent?2:0,!1,null),Xh.set(t,n)),fd.updateContainer(e,r,null,(()=>{})),fd.getPublicRootInstance(r)}(m.createElement(U,null,m.createElement(md.Provider,{value:F.current},"function"==typeof t?t(T.current):t)),S,T)}),[b,t,F.current]),m.useLayoutEffect((()=>{b&&(T.current.vr?(n.xr||n.vr)&&n.setAnimationLoop?((n.xr||n.vr).enabled=!0,n.setAnimationLoop((e=>Jh(T,e,0,!0)))):console.warn("the gl instance does not support VR!"):nd(T))}),[b,d]),m.useEffect((()=>()=>{T.current.gl&&(T.current.gl.renderLists.dispose(),T.current.gl.forceContextLoss&&T.current.gl.forceContextLoss(),vd(T.current.gl)),function(e,t){let n=Xh.get(e);n&&fd.updateContainer(null,n,null,(()=>{Xh.delete(e),t&&t(e)}))}(T.current.scene,(()=>{vd(T.current.raycaster),vd(T.current.camera),vd(T.current)}))}),[]),T.current.events};function vd(e){e.dispose&&e.dispose();for(let t in e)"object"==typeof t&&t.dispose&&t.dispose(),delete e[t]}function yd(e){return(e=m.useContext(e))||console.warn("hooks can only be used within the canvas! https://github.com/react-spring/react-three-fiber#hooks"),e}let bd={position:"relative",width:"100%",height:"100%",overflow:"hidden"};function xd(e){let{children:t,setEvents:n,container:r,renderer:i,effects:o}=e;e=Gh(e,["children","setEvents","container","renderer","effects"]);let[a]=m.useState(i);a||console.warn("No renderer created!"),m.useEffect((()=>{o&&o(a,r)}),[r,o,a]);let s=gd(Wh({},e,{children:t,gl:a}));return m.useEffect((()=>{n(s)}),[s,n]),null}let _d=m.memo((function(e){const{preRender:t,resize:n,style:r}=e,i=Gh(e,"renderer effects children vr webgl1 concurrent shadowMap colorManagement orthographic invalidateFrameloop updateDefaultCamera noEvents gl camera raycaster pixelRatio onCreated onPointerMissed preRender resize style".split(" ")),o=m.useRef(),[a,s]=m.useState({}),l=Gh(a,["onGotPointerCaptureLegacy"]),[c,u,h]=Nh(n||{scroll:!1,debounce:{scroll:50,resize:0},polyfill:"undefined"!=typeof window&&window.ResizeObserver?void 0:Lh}),d=m.useRef(!1),f=m.useMemo((()=>d.current=d.current||!!u.width&&!!u.height),[u]),p=m.useMemo((()=>({size:u,forceResize:h,setEvents:s,container:o.current})),[h,u]);return"undefined"==typeof window?m.createElement("div",Wh({style:Wh({},bd,r)},i),t):m.createElement("div",Wh({ref:(g=[c,o],function(e){g.forEach((function(t){"function"==typeof t?t(e):null!=t&&(t.current=e)}))}),style:Wh({},bd,r)},l,i),t,f&&m.createElement(xd,Wh({},e,p)));var g})),wd=m.memo((function(e){let{children:t}=e,n=Gh(e,["children"]);const r=m.useRef(),i=n.webgl1?Ki:$i;return m.createElement(_d,Wh({},n,{renderer:()=>{if(r.current){const e=Wh({antialias:!0,alpha:!0},n.gl);return new i(Wh({powerPreference:"high-performance",canvas:r.current},e))}},preRender:m.createElement("canvas",{ref:r,style:{display:"block"}})}),t)}));function Sd(e,t=0){let{subscribe:n}=yd(md),r=m.useRef(e);return m.useLayoutEffect((()=>{r.current=e}),[e]),m.useEffect((()=>{let e=n(r,t);return()=>e()}),[t,n]),null}function Ed(){return yd(md)}var Md,Td,kd=function(){$l.call(this),this.type="LineSegmentsGeometry";this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new Kt([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new Kt([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))};kd.prototype=Object.assign(Object.create($l.prototype),{constructor:kd,isLineSegmentsGeometry:!0,applyMatrix4:function(e){var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==t&&(t.applyMatrix4(e),n.applyMatrix4(e),t.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},setPositions:function(e){var t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));var n=new Vc(t,6,1);return this.setAttribute("instanceStart",new io(n,3,0)),this.setAttribute("instanceEnd",new io(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this},setColors:function(e){var t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));var n=new Vc(t,6,1);return this.setAttribute("instanceColorStart",new io(n,3,0)),this.setAttribute("instanceColorEnd",new io(n,3,3)),this},fromWireframeGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromEdgesGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromMesh:function(e){return this.fromWireframeGeometry(new Ts(e.geometry)),this},fromLineSegments:function(e){var t=e.geometry;return t.isGeometry?this.setPositions(t.vertices):t.isBufferGeometry&&this.setPositions(t.attributes.position.array),this},computeBoundingBox:(Td=new be,function(){null===this.boundingBox&&(this.boundingBox=new be);var e=this.attributes.instanceStart,t=this.attributes.instanceEnd;void 0!==e&&void 0!==t&&(this.boundingBox.setFromBufferAttribute(e),Td.setFromBufferAttribute(t),this.boundingBox.union(Td))}),computeBoundingSphere:(Md=new ge,function(){null===this.boundingSphere&&(this.boundingSphere=new Ne),null===this.boundingBox&&this.computeBoundingBox();var e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(void 0!==e&&void 0!==t){var n=this.boundingSphere.center;this.boundingBox.getCenter(n);for(var r=0,i=0,o=e.count;i<o;i++)Md.fromBufferAttribute(e,i),r=Math.max(r,n.distanceToSquared(Md)),Md.fromBufferAttribute(t,i),r=Math.max(r,n.distanceToSquared(Md));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}),toJSON:function(){},applyMatrix:function(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}});var Rd=function(){kd.call(this),this.type="LineGeometry"};Rd.prototype=Object.assign(Object.create(kd.prototype),{constructor:Rd,isLineGeometry:!0,setPositions:function(e){for(var t=e.length-3,n=new Float32Array(2*t),r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return kd.prototype.setPositions.call(this,n),this},setColors:function(e){for(var t=e.length-3,n=new Float32Array(2*t),r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return kd.prototype.setColors.call(this,n),this},fromLine:function(e){var t=e.geometry;return t.isGeometry?this.setPositions(t.vertices):t.isBufferGeometry&&this.setPositions(t.attributes.position.array),this},copy:function(){return this}}),Zn.line={linewidth:{value:1},resolution:{value:new ae(1,1)},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1},opacity:{value:1}},Qn.line={uniforms:In.merge([Zn.common,Zn.fog,Zn.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec2 ndcStart = clipStart.xy / clipStart.w;\n\t\t\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd - ndcStart;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t// perpendicular to dir\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};var Cd=function(e){Nn.call(this,{type:"LineMaterial",uniforms:In.clone(Qn.line.uniforms),vertexShader:Qn.line.vertexShader,fragmentShader:Qn.line.fragmentShader,clipping:!0}),this.dashed=!1,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(e){this.uniforms.diffuse.value=e}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(e){this.uniforms.linewidth.value=e}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(e){this.uniforms.dashScale.value=e}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(e){this.uniforms.gapSize.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}}}),this.setValues(e)};(Cd.prototype=Object.create(Nn.prototype)).constructor=Cd,Cd.prototype.isLineMaterial=!0;var Pd,Ad,Ld=function(e,t){void 0===e&&(e=new kd),void 0===t&&(t=new Cd({color:16777215*Math.random()})),Rn.call(this,e,t),this.type="LineSegments2"};Ld.prototype=Object.assign(Object.create(Rn.prototype),{constructor:Ld,isLineSegments2:!0,computeLineDistances:(Pd=new ge,Ad=new ge,function(){for(var e=this.geometry,t=e.attributes.instanceStart,n=e.attributes.instanceEnd,r=new Float32Array(2*t.data.count),i=0,o=0,a=t.data.count;i<a;i++,o+=2)Pd.fromBufferAttribute(t,i),Ad.fromBufferAttribute(n,i),r[o]=0===o?0:r[o-1],r[o+1]=r[o]+Pd.distanceTo(Ad);var s=new Vc(r,2,1);return e.setAttribute("instanceDistanceStart",new io(s,1,0)),e.setAttribute("instanceDistanceEnd",new io(s,1,1)),this}),raycast:function(){var e=new de,t=new de,n=new de,r=new ge,i=new Ge,o=new Jc,a=new ge;return function(s,l){null===s.camera&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');var c=void 0!==s.params.Line2&&s.params.Line2.threshold||0,u=s.ray,h=s.camera,d=h.projectionMatrix,f=this.geometry,p=this.material,m=p.resolution,g=p.linewidth+c,v=f.attributes.instanceStart,y=f.attributes.instanceEnd;u.at(1,n),n.w=1,n.applyMatrix4(h.matrixWorldInverse),n.applyMatrix4(d),n.multiplyScalar(1/n.w),n.x*=m.x/2,n.y*=m.y/2,n.z=0,r.copy(n);var b=this.matrixWorld;i.multiplyMatrices(h.matrixWorldInverse,b);for(var x=0,_=v.count;x<_;x++){e.fromBufferAttribute(v,x),t.fromBufferAttribute(y,x),e.w=1,t.w=1,e.applyMatrix4(i),t.applyMatrix4(i),e.applyMatrix4(d),t.applyMatrix4(d),e.multiplyScalar(1/e.w),t.multiplyScalar(1/t.w);var w=e.z<-1&&t.z<-1,S=e.z>1&&t.z>1;if(!w&&!S){e.x*=m.x/2,e.y*=m.y/2,t.x*=m.x/2,t.y*=m.y/2,o.start.copy(e),o.start.z=0,o.end.copy(t),o.end.z=0;var E=o.closestPointToPointParameter(r,!0);o.at(E,a);var M=oe.lerp(e.z,t.z,E),T=M>=-1&&M<=1,k=r.distanceTo(a)<.5*g;if(T&&k){o.start.fromBufferAttribute(v,x),o.end.fromBufferAttribute(y,x),o.start.applyMatrix4(b),o.end.applyMatrix4(b);var R=new ge,C=new ge;u.distanceSqToSegment(o.start,o.end,C,R),l.push({point:C,pointOnLine:R,distance:u.origin.distanceTo(C),object:this,face:null,faceIndex:x,uv:null,uv2:null})}}}}}()});var Od=function(e,t){void 0===e&&(e=new Rd),void 0===t&&(t=new Cd({color:16777215*Math.random()})),Ld.call(this,e,t),this.type="Line2"};Od.prototype=Object.assign(Object.create(Ld.prototype),{constructor:Od,isLine2:!0});var Id=function(e){var t=this,n={type:"change"};this.object=e,this.object.rotation.reorder("YXZ"),this.enabled=!0,this.deviceOrientation={},this.screenOrientation=0,this.alphaOffset=0;var r,i,o,a,s,l=function(e){t.deviceOrientation=e},c=function(){t.screenOrientation=window.orientation||0},u=(r=new ge(0,0,1),i=new Ke,o=new me,a=new me(-Math.sqrt(.5),0,0,Math.sqrt(.5)),function(e,t,n,s,l){i.set(n,t,-s,"YXZ"),e.setFromEuler(i),e.multiply(a),e.multiply(o.setFromAxisAngle(r,-l))});this.connect=function(){c(),void 0!==window.DeviceOrientationEvent&&"function"==typeof window.DeviceOrientationEvent.requestPermission?window.DeviceOrientationEvent.requestPermission().then((function(e){"granted"==e&&(window.addEventListener("orientationchange",c,!1),window.addEventListener("deviceorientation",l,!1))})).catch((function(e){console.error("THREE.DeviceOrientationControls: Unable to use DeviceOrientation API:",e)})):(window.addEventListener("orientationchange",c,!1),window.addEventListener("deviceorientation",l,!1)),t.enabled=!0},this.disconnect=function(){window.removeEventListener("orientationchange",c,!1),window.removeEventListener("deviceorientation",l,!1),t.enabled=!1},this.update=(s=new me,function(){if(!1!==t.enabled){var e=t.deviceOrientation;if(e){var r=e.alpha?oe.degToRad(e.alpha)+t.alphaOffset:0,i=e.beta?oe.degToRad(e.beta):0,o=e.gamma?oe.degToRad(e.gamma):0,a=t.screenOrientation?oe.degToRad(t.screenOrientation):0;u(t.object.quaternion,r,i,o,a),8*(1-s.dot(t.object.quaternion))>1e-6&&(s.copy(t.object.quaternion),t.dispatchEvent(n))}}}),this.dispose=function(){t.disconnect()},this.connect()};(Id.prototype=Object.create(ne.prototype)).constructor=Id;var Nd=function(e,t){void 0===t&&(console.warn('THREE.FlyControls: The second parameter "domElement" is now mandatory.'),t=document),this.object=e,this.domElement=t,t&&this.domElement.setAttribute("tabindex",-1),this.movementSpeed=1,this.rollSpeed=.005,this.dragToLook=!1,this.autoForward=!1;var n,r,i=this,o={type:"change"},a=1e-6;function s(e,t){return function(){t.apply(e,arguments)}}function l(e){e.preventDefault()}this.tmpQuaternion=new me,this.mouseStatus=0,this.moveState={up:0,down:0,left:0,right:0,forward:0,back:0,pitchUp:0,pitchDown:0,yawLeft:0,yawRight:0,rollLeft:0,rollRight:0},this.moveVector=new ge(0,0,0),this.rotationVector=new ge(0,0,0),this.keydown=function(e){if(!e.altKey){switch(e.keyCode){case 16:this.movementSpeedMultiplier=.1;break;case 87:this.moveState.forward=1;break;case 83:this.moveState.back=1;break;case 65:this.moveState.left=1;break;case 68:this.moveState.right=1;break;case 82:this.moveState.up=1;break;case 70:this.moveState.down=1;break;case 38:this.moveState.pitchUp=1;break;case 40:this.moveState.pitchDown=1;break;case 37:this.moveState.yawLeft=1;break;case 39:this.moveState.yawRight=1;break;case 81:this.moveState.rollLeft=1;break;case 69:this.moveState.rollRight=1}this.updateMovementVector(),this.updateRotationVector()}},this.keyup=function(e){switch(e.keyCode){case 16:this.movementSpeedMultiplier=1;break;case 87:this.moveState.forward=0;break;case 83:this.moveState.back=0;break;case 65:this.moveState.left=0;break;case 68:this.moveState.right=0;break;case 82:this.moveState.up=0;break;case 70:this.moveState.down=0;break;case 38:this.moveState.pitchUp=0;break;case 40:this.moveState.pitchDown=0;break;case 37:this.moveState.yawLeft=0;break;case 39:this.moveState.yawRight=0;break;case 81:this.moveState.rollLeft=0;break;case 69:this.moveState.rollRight=0}this.updateMovementVector(),this.updateRotationVector()},this.mousedown=function(e){if(this.domElement!==document&&this.domElement.focus(),e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus++;else{switch(e.button){case 0:this.moveState.forward=1;break;case 2:this.moveState.back=1}this.updateMovementVector()}},this.mousemove=function(e){if(!this.dragToLook||this.mouseStatus>0){var t=this.getContainerDimensions(),n=t.size[0]/2,r=t.size[1]/2;this.moveState.yawLeft=-(e.pageX-t.offset[0]-n)/n,this.moveState.pitchDown=(e.pageY-t.offset[1]-r)/r,this.updateRotationVector()}},this.mouseup=function(e){if(e.preventDefault(),e.stopPropagation(),this.dragToLook)this.mouseStatus--,this.moveState.yawLeft=this.moveState.pitchDown=0;else{switch(e.button){case 0:this.moveState.forward=0;break;case 2:this.moveState.back=0}this.updateMovementVector()}this.updateRotationVector()},this.update=(n=new me,r=new ge,function(e){var t=e*i.movementSpeed,s=e*i.rollSpeed;i.object.translateX(i.moveVector.x*t),i.object.translateY(i.moveVector.y*t),i.object.translateZ(i.moveVector.z*t),i.tmpQuaternion.set(i.rotationVector.x*s,i.rotationVector.y*s,i.rotationVector.z*s,1).normalize(),i.object.quaternion.multiply(i.tmpQuaternion),(r.distanceToSquared(i.object.position)>a||8*(1-n.dot(i.object.quaternion))>a)&&(i.dispatchEvent(o),n.copy(i.object.quaternion),r.copy(i.object.position))}),this.updateMovementVector=function(){var e=this.moveState.forward||this.autoForward&&!this.moveState.back?1:0;this.moveVector.x=-this.moveState.left+this.moveState.right,this.moveVector.y=-this.moveState.down+this.moveState.up,this.moveVector.z=-e+this.moveState.back},this.updateRotationVector=function(){this.rotationVector.x=-this.moveState.pitchDown+this.moveState.pitchUp,this.rotationVector.y=-this.moveState.yawRight+this.moveState.yawLeft,this.rotationVector.z=-this.moveState.rollRight+this.moveState.rollLeft},this.getContainerDimensions=function(){return this.domElement!=document?{size:[this.domElement.offsetWidth,this.domElement.offsetHeight],offset:[this.domElement.offsetLeft,this.domElement.offsetTop]}:{size:[window.innerWidth,window.innerHeight],offset:[0,0]}},this.dispose=function(){this.domElement.removeEventListener("contextmenu",l,!1),this.domElement.removeEventListener("mousedown",u,!1),this.domElement.removeEventListener("mousemove",c,!1),this.domElement.removeEventListener("mouseup",h,!1),window.removeEventListener("keydown",d,!1),window.removeEventListener("keyup",f,!1)};var c=s(this,this.mousemove),u=s(this,this.mousedown),h=s(this,this.mouseup),d=s(this,this.keydown),f=s(this,this.keyup);this.domElement.addEventListener("contextmenu",l,!1),this.domElement.addEventListener("mousemove",c,!1),this.domElement.addEventListener("mousedown",u,!1),this.domElement.addEventListener("mouseup",h,!1),window.addEventListener("keydown",d,!1),window.addEventListener("keyup",f,!1),this.updateMovementVector(),this.updateRotationVector()};(Nd.prototype=Object.create(ne.prototype)).constructor=Nd;var Dd=function(e,t){var n,r,i,o,a,s;void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new ge,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:ee.ROTATE,MIDDLE:ee.DOLLY,RIGHT:ee.PAN},this.touches={ONE:te.ROTATE,TWO:te.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return m.phi},this.getAzimuthalAngle=function(){return m.theta},this.saveState=function(){l.target0.copy(l.target),l.position0.copy(l.object.position),l.zoom0=l.object.zoom},this.reset=function(){l.target.copy(l.target0),l.object.position.copy(l.position0),l.object.zoom=l.zoom0,l.object.updateProjectionMatrix(),l.dispatchEvent(c),l.update(),f=d.NONE},this.update=(n=new ge,r=(new me).setFromUnitVectors(e.up,new ge(0,1,0)),i=r.clone().inverse(),o=new ge,a=new me,s=2*Math.PI,function(){var e=l.object.position;n.copy(e).sub(l.target),n.applyQuaternion(r),m.setFromVector3(n),l.autoRotate&&f===d.NONE&&P(2*Math.PI/60/60*l.autoRotateSpeed),l.enableDamping?(m.theta+=g.theta*l.dampingFactor,m.phi+=g.phi*l.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);var t=l.minAzimuthAngle,u=l.maxAzimuthAngle;return isFinite(t)&&isFinite(u)&&(t<-Math.PI?t+=s:t>Math.PI&&(t-=s),u<-Math.PI?u+=s:u>Math.PI&&(u-=s),m.theta=t<u?Math.max(t,Math.min(u,m.theta)):m.theta>(t+u)/2?Math.max(t,m.theta):Math.min(u,m.theta)),m.phi=Math.max(l.minPolarAngle,Math.min(l.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=v,m.radius=Math.max(l.minDistance,Math.min(l.maxDistance,m.radius)),!0===l.enableDamping?l.target.addScaledVector(y,l.dampingFactor):l.target.add(y),n.setFromSpherical(m),n.applyQuaternion(i),e.copy(l.target).add(n),l.object.lookAt(l.target),!0===l.enableDamping?(g.theta*=1-l.dampingFactor,g.phi*=1-l.dampingFactor,y.multiplyScalar(1-l.dampingFactor)):(g.set(0,0,0),y.set(0,0,0)),v=1,!!(b||o.distanceToSquared(l.object.position)>p||8*(1-a.dot(l.object.quaternion))>p)&&(l.dispatchEvent(c),o.copy(l.object.position),a.copy(l.object.quaternion),b=!1,!0)}),this.dispose=function(){l.domElement.removeEventListener("contextmenu",J,!1),l.domElement.removeEventListener("pointerdown",W,!1),l.domElement.removeEventListener("wheel",Y,!1),l.domElement.removeEventListener("touchstart",Q,!1),l.domElement.removeEventListener("touchend",K,!1),l.domElement.removeEventListener("touchmove",$,!1),l.domElement.ownerDocument.removeEventListener("pointermove",q,!1),l.domElement.ownerDocument.removeEventListener("pointerup",X,!1),l.domElement.removeEventListener("keydown",Z,!1)};var l=this,c={type:"change"},u={type:"start"},h={type:"end"},d={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},f=d.NONE,p=1e-6,m=new Yc,g=new Yc,v=1,y=new ge,b=!1,x=new ae,_=new ae,w=new ae,S=new ae,E=new ae,M=new ae,T=new ae,k=new ae,R=new ae;function C(){return Math.pow(.95,l.zoomSpeed)}function P(e){g.theta-=e}function A(e){g.phi-=e}var L=function(){var e=new ge;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),y.add(e)}}(),O=function(){var e=new ge;return function(t,n){!0===l.screenSpacePanning?e.setFromMatrixColumn(n,1):(e.setFromMatrixColumn(n,0),e.crossVectors(l.object.up,e)),e.multiplyScalar(t),y.add(e)}}(),I=function(){var e=new ge;return function(t,n){var r=l.domElement;if(l.object.isPerspectiveCamera){var i=l.object.position;e.copy(i).sub(l.target);var o=e.length();o*=Math.tan(l.object.fov/2*Math.PI/180),L(2*t*o/r.clientHeight,l.object.matrix),O(2*n*o/r.clientHeight,l.object.matrix)}else l.object.isOrthographicCamera?(L(t*(l.object.right-l.object.left)/l.object.zoom/r.clientWidth,l.object.matrix),O(n*(l.object.top-l.object.bottom)/l.object.zoom/r.clientHeight,l.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),l.enablePan=!1)}}();function N(e){l.object.isPerspectiveCamera?v/=e:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom*e)),l.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function D(e){l.object.isPerspectiveCamera?v*=e:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom/e)),l.object.updateProjectionMatrix(),b=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function z(e){x.set(e.clientX,e.clientY)}function F(e){S.set(e.clientX,e.clientY)}function U(e){if(1==e.touches.length)x.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);x.set(t,n)}}function B(e){if(1==e.touches.length)S.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);S.set(t,n)}}function j(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);T.set(0,r)}function H(e){if(1==e.touches.length)_.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);_.set(t,n)}w.subVectors(_,x).multiplyScalar(l.rotateSpeed);var r=l.domElement;P(2*Math.PI*w.x/r.clientHeight),A(2*Math.PI*w.y/r.clientHeight),x.copy(_)}function V(e){if(1==e.touches.length)E.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);E.set(t,n)}M.subVectors(E,S).multiplyScalar(l.panSpeed),I(M.x,M.y),S.copy(E)}function G(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);k.set(0,r),R.set(0,Math.pow(k.y/T.y,l.zoomSpeed)),N(R.y),T.copy(k)}function W(e){if(!1!==l.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),l.domElement.focus?l.domElement.focus():window.focus(),e.button){case 0:t=l.mouseButtons.LEFT;break;case 1:t=l.mouseButtons.MIDDLE;break;case 2:t=l.mouseButtons.RIGHT;break;default:t=-1}switch(t){case ee.DOLLY:if(!1===l.enableZoom)return;!function(e){T.set(e.clientX,e.clientY)}(e),f=d.DOLLY;break;case ee.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===l.enablePan)return;F(e),f=d.PAN}else{if(!1===l.enableRotate)return;z(e),f=d.ROTATE}break;case ee.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===l.enableRotate)return;z(e),f=d.ROTATE}else{if(!1===l.enablePan)return;F(e),f=d.PAN}break;default:f=d.NONE}f!==d.NONE&&(l.domElement.ownerDocument.addEventListener("pointermove",q,!1),l.domElement.ownerDocument.addEventListener("pointerup",X,!1),l.dispatchEvent(u))}(e)}}function q(e){if(!1!==l.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===l.enabled)return;switch(e.preventDefault(),f){case d.ROTATE:if(!1===l.enableRotate)return;!function(e){_.set(e.clientX,e.clientY),w.subVectors(_,x).multiplyScalar(l.rotateSpeed);var t=l.domElement;P(2*Math.PI*w.x/t.clientHeight),A(2*Math.PI*w.y/t.clientHeight),x.copy(_),l.update()}(e);break;case d.DOLLY:if(!1===l.enableZoom)return;!function(e){k.set(e.clientX,e.clientY),R.subVectors(k,T),R.y>0?N(C()):R.y<0&&D(C()),T.copy(k),l.update()}(e);break;case d.PAN:if(!1===l.enablePan)return;!function(e){E.set(e.clientX,e.clientY),M.subVectors(E,S).multiplyScalar(l.panSpeed),I(M.x,M.y),S.copy(E),l.update()}(e)}}(e)}}function X(e){if(!1!==l.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===l.enabled)return;l.domElement.ownerDocument.removeEventListener("pointermove",q,!1),l.domElement.ownerDocument.removeEventListener("pointerup",X,!1),l.dispatchEvent(h),f=d.NONE}()}}function Y(e){!1===l.enabled||!1===l.enableZoom||f!==d.NONE&&f!==d.ROTATE||(e.preventDefault(),e.stopPropagation(),l.dispatchEvent(u),function(e){e.deltaY<0?D(C()):e.deltaY>0&&N(C()),l.update()}(e),l.dispatchEvent(h))}function Z(e){!1!==l.enabled&&!1!==l.enableKeys&&!1!==l.enablePan&&function(e){var t=!1;switch(e.keyCode){case l.keys.UP:I(0,l.keyPanSpeed),t=!0;break;case l.keys.BOTTOM:I(0,-l.keyPanSpeed),t=!0;break;case l.keys.LEFT:I(l.keyPanSpeed,0),t=!0;break;case l.keys.RIGHT:I(-l.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),l.update())}(e)}function Q(e){if(!1!==l.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(l.touches.ONE){case te.ROTATE:if(!1===l.enableRotate)return;U(e),f=d.TOUCH_ROTATE;break;case te.PAN:if(!1===l.enablePan)return;B(e),f=d.TOUCH_PAN;break;default:f=d.NONE}break;case 2:switch(l.touches.TWO){case te.DOLLY_PAN:if(!1===l.enableZoom&&!1===l.enablePan)return;!function(e){l.enableZoom&&j(e),l.enablePan&&B(e)}(e),f=d.TOUCH_DOLLY_PAN;break;case te.DOLLY_ROTATE:if(!1===l.enableZoom&&!1===l.enableRotate)return;!function(e){l.enableZoom&&j(e),l.enableRotate&&U(e)}(e),f=d.TOUCH_DOLLY_ROTATE;break;default:f=d.NONE}break;default:f=d.NONE}f!==d.NONE&&l.dispatchEvent(u)}}function $(e){if(!1!==l.enabled)switch(e.preventDefault(),e.stopPropagation(),f){case d.TOUCH_ROTATE:if(!1===l.enableRotate)return;H(e),l.update();break;case d.TOUCH_PAN:if(!1===l.enablePan)return;V(e),l.update();break;case d.TOUCH_DOLLY_PAN:if(!1===l.enableZoom&&!1===l.enablePan)return;!function(e){l.enableZoom&&G(e),l.enablePan&&V(e)}(e),l.update();break;case d.TOUCH_DOLLY_ROTATE:if(!1===l.enableZoom&&!1===l.enableRotate)return;!function(e){l.enableZoom&&G(e),l.enableRotate&&H(e)}(e),l.update();break;default:f=d.NONE}}function K(e){!1!==l.enabled&&(l.dispatchEvent(h),f=d.NONE)}function J(e){!1!==l.enabled&&e.preventDefault()}l.domElement.addEventListener("contextmenu",J,!1),l.domElement.addEventListener("pointerdown",W,!1),l.domElement.addEventListener("wheel",Y,!1),l.domElement.addEventListener("touchstart",Q,!1),l.domElement.addEventListener("touchend",K,!1),l.domElement.addEventListener("touchmove",$,!1),l.domElement.addEventListener("keydown",Z,!1),-1===l.domElement.tabIndex&&(l.domElement.tabIndex=0),this.update()};(Dd.prototype=Object.create(ne.prototype)).constructor=Dd;var zd=function(e,t){Dd.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=ee.PAN,this.mouseButtons.RIGHT=ee.ROTATE,this.touches.ONE=te.PAN,this.touches.TWO=te.DOLLY_ROTATE};(zd.prototype=Object.create(ne.prototype)).constructor=zd;var Fd=function(e,t){void 0===t&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');var n=this,r=-1,i=0,o=1,a=2,s=3,l=4;this.object=e,this.domElement=t,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.mouseButtons={LEFT:ee.ROTATE,MIDDLE:ee.ZOOM,RIGHT:ee.PAN},this.target=new ge;var c=1e-6,u=new ge,h=1,d=r,f=r,p=new ge,m=new ae,g=new ae,v=new ge,y=0,b=new ae,x=new ae,_=0,w=0,S=new ae,E=new ae;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom;var M={type:"change"},T={type:"start"},k={type:"end"};this.handleResize=function(){var e=n.domElement.getBoundingClientRect(),t=n.domElement.ownerDocument.documentElement;n.screen.left=e.left+window.pageXOffset-t.clientLeft,n.screen.top=e.top+window.pageYOffset-t.clientTop,n.screen.width=e.width,n.screen.height=e.height};var R,C,P,A,L,O,I,N,D,z,F=function(){var e=new ae;return function(t,r){return e.set((t-n.screen.left)/n.screen.width,(r-n.screen.top)/n.screen.height),e}}(),U=function(){var e=new ae;return function(t,r){return e.set((t-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-r))/n.screen.width),e}}();function B(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(e.preventDefault(),e.stopPropagation(),d===r)switch(e.button){case n.mouseButtons.LEFT:d=i;break;case n.mouseButtons.MIDDLE:d=o;break;case n.mouseButtons.RIGHT:d=a;break;default:d=r}var t=f!==r?f:d;t!==i||n.noRotate?t!==o||n.noZoom?t!==a||n.noPan||(S.copy(F(e.pageX,e.pageY)),E.copy(S)):(b.copy(F(e.pageX,e.pageY)),x.copy(b)):(g.copy(U(e.pageX,e.pageY)),m.copy(g));n.domElement.ownerDocument.addEventListener("pointermove",j,!1),n.domElement.ownerDocument.addEventListener("pointerup",H,!1),n.dispatchEvent(T)}(e)}}function j(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===n.enabled)return;e.preventDefault(),e.stopPropagation();var t=f!==r?f:d;t!==i||n.noRotate?t!==o||n.noZoom?t!==a||n.noPan||E.copy(F(e.pageX,e.pageY)):x.copy(F(e.pageX,e.pageY)):(m.copy(g),g.copy(U(e.pageX,e.pageY)))}(e)}}function H(e){if(!1!==n.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===n.enabled)return;e.preventDefault(),e.stopPropagation(),d=r,n.domElement.ownerDocument.removeEventListener("pointermove",j),n.domElement.ownerDocument.removeEventListener("pointerup",H),n.dispatchEvent(k)}(e)}}function V(e){!1!==n.enabled&&(window.removeEventListener("keydown",V),f===r&&(e.keyCode!==n.keys[i]||n.noRotate?e.keyCode!==n.keys[o]||n.noZoom?e.keyCode!==n.keys[a]||n.noPan||(f=a):f=o:f=i))}function G(){!1!==n.enabled&&(f=r,window.addEventListener("keydown",V,!1))}function W(e){if(!1!==n.enabled&&!0!==n.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:b.y-=.025*e.deltaY;break;case 1:b.y-=.01*e.deltaY;break;default:b.y-=25e-5*e.deltaY}n.dispatchEvent(T),n.dispatchEvent(k)}}function q(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:d=s,g.copy(U(e.touches[0].pageX,e.touches[0].pageY)),m.copy(g);break;default:d=l;var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;w=_=Math.sqrt(t*t+r*r);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,o=(e.touches[0].pageY+e.touches[1].pageY)/2;S.copy(F(i,o)),E.copy(S)}n.dispatchEvent(T)}}function X(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:m.copy(g),g.copy(U(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;w=Math.sqrt(t*t+r*r);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,o=(e.touches[0].pageY+e.touches[1].pageY)/2;E.copy(F(i,o))}}function Y(e){if(!1!==n.enabled){switch(e.touches.length){case 0:d=r;break;case 1:d=s,g.copy(U(e.touches[0].pageX,e.touches[0].pageY)),m.copy(g)}n.dispatchEvent(k)}}function Z(e){!1!==n.enabled&&e.preventDefault()}this.rotateCamera=(C=new ge,P=new me,A=new ge,L=new ge,O=new ge,I=new ge,function(){I.set(g.x-m.x,g.y-m.y,0),(R=I.length())?(p.copy(n.object.position).sub(n.target),A.copy(p).normalize(),L.copy(n.object.up).normalize(),O.crossVectors(L,A).normalize(),L.setLength(g.y-m.y),O.setLength(g.x-m.x),I.copy(L.add(O)),C.crossVectors(I,p).normalize(),R*=n.rotateSpeed,P.setFromAxisAngle(C,R),p.applyQuaternion(P),n.object.up.applyQuaternion(P),v.copy(C),y=R):!n.staticMoving&&y&&(y*=Math.sqrt(1-n.dynamicDampingFactor),p.copy(n.object.position).sub(n.target),P.setFromAxisAngle(v,y),p.applyQuaternion(P),n.object.up.applyQuaternion(P)),m.copy(g)}),this.zoomCamera=function(){var e;d===l?(e=_/w,_=w,n.object.isPerspectiveCamera?p.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom*=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(1!==(e=1+(x.y-b.y)*n.zoomSpeed)&&e>0&&(n.object.isPerspectiveCamera?p.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom/=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),n.staticMoving?b.copy(x):b.y+=(x.y-b.y)*this.dynamicDampingFactor)},this.panCamera=(N=new ae,D=new ge,z=new ge,function(){if(N.copy(E).sub(S),N.lengthSq()){if(n.object.isOrthographicCamera){var e=(n.object.right-n.object.left)/n.object.zoom/n.domElement.clientWidth,t=(n.object.top-n.object.bottom)/n.object.zoom/n.domElement.clientWidth;N.x*=e,N.y*=t}N.multiplyScalar(p.length()*n.panSpeed),z.copy(p).cross(n.object.up).setLength(N.x),z.add(D.copy(n.object.up).setLength(N.y)),n.object.position.add(z),n.target.add(z),n.staticMoving?S.copy(E):S.add(N.subVectors(E,S).multiplyScalar(n.dynamicDampingFactor))}}),this.checkDistances=function(){n.noZoom&&n.noPan||(p.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,p.setLength(n.maxDistance)),b.copy(x)),p.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,p.setLength(n.minDistance)),b.copy(x)))},this.update=function(){p.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,p),n.object.isPerspectiveCamera?(n.checkDistances(),n.object.lookAt(n.target),u.distanceToSquared(n.object.position)>c&&(n.dispatchEvent(M),u.copy(n.object.position))):n.object.isOrthographicCamera?(n.object.lookAt(n.target),(u.distanceToSquared(n.object.position)>c||h!==n.object.zoom)&&(n.dispatchEvent(M),u.copy(n.object.position),h=n.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){d=r,f=r,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),p.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(M),u.copy(n.object.position),h=n.object.zoom},this.dispose=function(){n.domElement.removeEventListener("contextmenu",Z,!1),n.domElement.removeEventListener("pointerdown",B,!1),n.domElement.removeEventListener("wheel",W,!1),n.domElement.removeEventListener("touchstart",q,!1),n.domElement.removeEventListener("touchend",Y,!1),n.domElement.removeEventListener("touchmove",X,!1),n.domElement.ownerDocument.removeEventListener("pointermove",j,!1),n.domElement.ownerDocument.removeEventListener("pointerup",H,!1),window.removeEventListener("keydown",V,!1),window.removeEventListener("keyup",G,!1)},this.domElement.addEventListener("contextmenu",Z,!1),this.domElement.addEventListener("pointerdown",B,!1),this.domElement.addEventListener("wheel",W,!1),this.domElement.addEventListener("touchstart",q,!1),this.domElement.addEventListener("touchend",Y,!1),this.domElement.addEventListener("touchmove",X,!1),this.domElement.ownerDocument.addEventListener("pointermove",j,!1),this.domElement.ownerDocument.addEventListener("pointerup",H,!1),window.addEventListener("keydown",V,!1),window.addEventListener("keyup",G,!1),this.handleResize(),this.update()};(Fd.prototype=Object.create(ne.prototype)).constructor=Fd;var Ud=function(e,t){void 0===t&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=document),mt.call(this),this.visible=!1,this.domElement=t;var n=new Bd;this.add(n);var r=new jd;this.add(r);var i=this;B("camera",e),B("object",void 0),B("enabled",!0),B("axis",null),B("mode","translate"),B("translationSnap",null),B("rotationSnap",null),B("scaleSnap",null),B("space","world"),B("size",1),B("dragging",!1),B("showX",!0),B("showY",!0),B("showZ",!0);var o={type:"change"},a={type:"mouseDown"},s={type:"mouseUp",mode:i.mode},l={type:"objectChange"},c=new Wc;function u(e,t,n){for(var r=t.intersectObject(e,!0),i=0;i<r.length;i++)if(r[i].object.visible||n)return r[i];return!1}var h=new ge,d=new ge,f=new me,p={X:new ge(1,0,0),Y:new ge(0,1,0),Z:new ge(0,0,1)},m=new ge,g=new ge,v=new ge,y=new ge,b=new ge,x=new ge,_=0,w=new ge,S=new me,E=new ge,M=new ge,T=new me,k=new me,R=new ge,C=new ge,P=new me,A=new ge,L=new ge,O=new me,I=new me,N=new ge,D=new ge,z=new ge,F=new me,U=new ge;function B(e,t){var a=t;Object.defineProperty(i,e,{get:function(){return void 0!==a?a:t},set:function(t){a!==t&&(a=t,r[e]=t,n[e]=t,i.dispatchEvent({type:e+"-changed",value:t}),i.dispatchEvent(o))}}),i[e]=t,r[e]=t,n[e]=t}function j(e){if(i.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};var n=e.changedTouches?e.changedTouches[0]:e,r=t.getBoundingClientRect();return{x:(n.clientX-r.left)/r.width*2-1,y:-(n.clientY-r.top)/r.height*2+1,button:e.button}}function H(e){if(i.enabled)switch(e.pointerType){case"mouse":case"pen":i.pointerHover(j(e))}}function V(e){i.enabled&&(i.domElement.style.touchAction="none",i.domElement.ownerDocument.addEventListener("pointermove",G,!1),i.pointerHover(j(e)),i.pointerDown(j(e)))}function G(e){i.enabled&&i.pointerMove(j(e))}function W(e){i.enabled&&(i.domElement.style.touchAction="",i.domElement.ownerDocument.removeEventListener("pointermove",G,!1),i.pointerUp(j(e)))}B("worldPosition",L),B("worldPositionStart",C),B("worldQuaternion",O),B("worldQuaternionStart",P),B("cameraPosition",w),B("cameraQuaternion",S),B("pointStart",m),B("pointEnd",g),B("rotationAxis",y),B("rotationAngle",_),B("eye",D),t.addEventListener("pointerdown",V,!1),t.addEventListener("pointermove",H,!1),i.domElement.ownerDocument.addEventListener("pointerup",W,!1),this.dispose=function(){t.removeEventListener("pointerdown",V),t.removeEventListener("pointermove",H),i.domElement.ownerDocument.removeEventListener("pointermove",G),i.domElement.ownerDocument.removeEventListener("pointerup",W),this.traverse((function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}))},this.attach=function(e){return this.object=e,this.visible=!0,this},this.detach=function(){return this.object=void 0,this.visible=!1,this.axis=null,this},this.updateMatrixWorld=function(){void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(M,T,R),this.object.matrixWorld.decompose(L,O,N),k.copy(T).inverse(),I.copy(O).inverse()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(w,S,E),D.copy(w).sub(L).normalize(),mt.prototype.updateMatrixWorld.call(this)},this.pointerHover=function(e){if(void 0!==this.object&&!0!==this.dragging){c.setFromCamera(e,this.camera);var t=u(n.picker[this.mode],c);this.axis=t?t.object.name:null}},this.pointerDown=function(e){if(void 0!==this.object&&!0!==this.dragging&&0===e.button&&null!==this.axis){c.setFromCamera(e,this.camera);var t=u(r,c,!0);if(t){var n=this.space;if("scale"===this.mode?n="local":"E"!==this.axis&&"XYZE"!==this.axis&&"XYZ"!==this.axis||(n="world"),"local"===n&&"rotate"===this.mode){var i=this.rotationSnap;"X"===this.axis&&i&&(this.object.rotation.x=Math.round(this.object.rotation.x/i)*i),"Y"===this.axis&&i&&(this.object.rotation.y=Math.round(this.object.rotation.y/i)*i),"Z"===this.axis&&i&&(this.object.rotation.z=Math.round(this.object.rotation.z/i)*i)}this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),z.copy(this.object.position),F.copy(this.object.quaternion),U.copy(this.object.scale),this.object.matrixWorld.decompose(C,P,A),m.copy(t.point).sub(C)}this.dragging=!0,a.mode=this.mode,this.dispatchEvent(a)}},this.pointerMove=function(e){var t=this.axis,n=this.mode,i=this.object,a=this.space;if("scale"===n?a="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(a="world"),void 0!==i&&null!==t&&!1!==this.dragging&&-1===e.button){c.setFromCamera(e,this.camera);var s=u(r,c,!0);if(s){if(g.copy(s.point).sub(C),"translate"===n)v.copy(g).sub(m),"local"===a&&"XYZ"!==t&&v.applyQuaternion(I),-1===t.indexOf("X")&&(v.x=0),-1===t.indexOf("Y")&&(v.y=0),-1===t.indexOf("Z")&&(v.z=0),"local"===a&&"XYZ"!==t?v.applyQuaternion(F).divide(R):v.applyQuaternion(k).divide(R),i.position.copy(v).add(z),this.translationSnap&&("local"===a&&(i.position.applyQuaternion(f.copy(F).inverse()),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.position.applyQuaternion(F)),"world"===a&&(i.parent&&i.position.add(h.setFromMatrixPosition(i.parent.matrixWorld)),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.parent&&i.position.sub(h.setFromMatrixPosition(i.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var w=g.length()/m.length();g.dot(m)<0&&(w*=-1),d.set(w,w,w)}else h.copy(m),d.copy(g),h.applyQuaternion(I),d.applyQuaternion(I),d.divide(h),-1===t.search("X")&&(d.x=1),-1===t.search("Y")&&(d.y=1),-1===t.search("Z")&&(d.z=1);i.scale.copy(U).multiply(d),this.scaleSnap&&(-1!==t.search("X")&&(i.scale.x=Math.round(i.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(i.scale.y=Math.round(i.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z")&&(i.scale.z=Math.round(i.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if("rotate"===n){v.copy(g).sub(m);var S=20/L.distanceTo(h.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(y.copy(D),_=g.angleTo(m),b.copy(m).normalize(),x.copy(g).normalize(),_*=x.cross(b).dot(D)<0?1:-1):"XYZE"===t?(y.copy(v).cross(D).normalize(),_=v.dot(h.copy(y).cross(this.eye))*S):"X"!==t&&"Y"!==t&&"Z"!==t||(y.copy(p[t]),h.copy(p[t]),"local"===a&&h.applyQuaternion(O),_=v.dot(h.cross(D).normalize())*S),this.rotationSnap&&(_=Math.round(_/this.rotationSnap)*this.rotationSnap),this.rotationAngle=_,"local"===a&&"E"!==t&&"XYZE"!==t?(i.quaternion.copy(F),i.quaternion.multiply(f.setFromAxisAngle(y,_)).normalize()):(y.applyQuaternion(k),i.quaternion.copy(f.setFromAxisAngle(y,_)),i.quaternion.multiply(F).normalize())}this.dispatchEvent(o),this.dispatchEvent(l)}}},this.pointerUp=function(e){0===e.button&&(this.dragging&&null!==this.axis&&(s.mode=this.mode,this.dispatchEvent(s)),this.dragging=!1,this.axis=null)},this.getMode=function(){return i.mode},this.setMode=function(e){i.mode=e},this.setTranslationSnap=function(e){i.translationSnap=e},this.setRotationSnap=function(e){i.rotationSnap=e},this.setScaleSnap=function(e){i.scaleSnap=e},this.setSize=function(e){i.size=e},this.setSpace=function(e){i.space=e},this.update=function(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}};Ud.prototype=Object.assign(Object.create(mt.prototype),{constructor:Ud,isTransformControls:!0});var Bd=function(){mt.call(this),this.type="TransformControlsGizmo";var e=new jt({depthTest:!1,depthWrite:!1,transparent:!0,side:2,fog:!1,toneMapped:!1}),t=new No({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),n=e.clone();n.opacity=.15;var r=e.clone();r.opacity=.33;var i=e.clone();i.color.set(16711680);var o=e.clone();o.color.set(65280);var a=e.clone();a.color.set(255);var s=e.clone();s.opacity=.25;var l=s.clone();l.color.set(16776960);var c=s.clone();c.color.set(65535);var u=s.clone();u.color.set(16711935),e.clone().color.set(16776960);var h=t.clone();h.color.set(16711680);var d=t.clone();d.color.set(65280);var f=t.clone();f.color.set(255);var p=t.clone();p.color.set(65535);var m=t.clone();m.color.set(16711935);var g=t.clone();g.color.set(16776960);var v=t.clone();v.color.set(7895160);var y=g.clone();y.opacity=.25;var b=new ha(0,.05,.2,12,1,!1),x=new An(.125,.125,.125),_=new un;_.setAttribute("position",new Kt([0,0,0,1,0,0],3));var w,S=function(e,t){for(var n=new un,r=[],i=0;i<=64*t;++i)r.push(0,Math.cos(i/32*Math.PI)*e,Math.sin(i/32*Math.PI)*e);return n.setAttribute("position",new Kt(r,3)),n},E={X:[[new Rn(b,i),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new Rn(b,i),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new jo(_,h)]],Y:[[new Rn(b,o),[0,1,0],null,null,"fwd"],[new Rn(b,o),[0,1,0],[Math.PI,0,0],null,"bwd"],[new jo(_,d),null,[0,0,Math.PI/2]]],Z:[[new Rn(b,a),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new Rn(b,a),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new jo(_,f),null,[0,-Math.PI/2,0]]],XYZ:[[new Rn(new is(.1,0),s.clone()),[0,0,0],[0,0,0]]],XY:[[new Rn(new Xn(.295,.295),l.clone()),[.15,.15,0]],[new jo(_,g),[.18,.3,0],null,[.125,1,1]],[new jo(_,g),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Rn(new Xn(.295,.295),c.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new jo(_,p),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new jo(_,p),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Rn(new Xn(.295,.295),u.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new jo(_,m),[.18,0,.3],null,[.125,1,1]],[new jo(_,m),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},M={X:[[new Rn(new ha(.2,0,1,4,1,!1),n),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new Rn(new ha(.2,0,1,4,1,!1),n),[0,.6,0]]],Z:[[new Rn(new ha(.2,0,1,4,1,!1),n),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new Rn(new is(.2,0),n)]],XY:[[new Rn(new Xn(.4,.4),n),[.2,.2,0]]],YZ:[[new Rn(new Xn(.4,.4),n),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new Rn(new Xn(.4,.4),n),[.2,0,.2],[-Math.PI/2,0,0]]]},T={START:[[new Rn(new is(.01,2),r),null,null,null,"helper"]],END:[[new Rn(new is(.01,2),r),null,null,null,"helper"]],DELTA:[[new jo((w=new un,w.setAttribute("position",new Kt([0,0,0,1,1,1],3)),w),r),null,null,null,"helper"]],X:[[new jo(_,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new jo(_,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new jo(_,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},k={X:[[new jo(S(1,.5),h)],[new Rn(new is(.04,0),i),[0,0,.99],null,[1,3,1]]],Y:[[new jo(S(1,.5),d),null,[0,0,-Math.PI/2]],[new Rn(new is(.04,0),o),[0,0,.99],null,[3,1,1]]],Z:[[new jo(S(1,.5),f),null,[0,Math.PI/2,0]],[new Rn(new is(.04,0),a),[.99,0,0],null,[1,3,1]]],E:[[new jo(S(1.25,1),y),null,[0,Math.PI/2,0]],[new Rn(new ha(.03,0,.15,4,1,!1),y),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new Rn(new ha(.03,0,.15,4,1,!1),y),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new Rn(new ha(.03,0,.15,4,1,!1),y),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new Rn(new ha(.03,0,.15,4,1,!1),y),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new jo(S(1,1),v),null,[0,Math.PI/2,0]]]},R={AXIS:[[new jo(_,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},C={X:[[new Rn(new xs(1,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Rn(new xs(1,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Rn(new xs(1,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Rn(new xs(1.25,.1,2,24),n)]],XYZE:[[new Rn(new ps(.7,10,8),n)]]},P={X:[[new Rn(x,i),[.8,0,0],[0,0,-Math.PI/2]],[new jo(_,h),null,null,[.8,1,1]]],Y:[[new Rn(x,o),[0,.8,0]],[new jo(_,d),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new Rn(x,a),[0,0,.8],[Math.PI/2,0,0]],[new jo(_,f),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new Rn(x,l),[.85,.85,0],null,[2,2,.2]],[new jo(_,g),[.855,.98,0],null,[.125,1,1]],[new jo(_,g),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new Rn(x,c),[0,.85,.85],null,[.2,2,2]],[new jo(_,p),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new jo(_,p),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new Rn(x,u),[.85,0,.85],null,[2,.2,2]],[new jo(_,m),[.855,0,.98],null,[.125,1,1]],[new jo(_,m),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new Rn(new An(.125,.125,.125),s.clone()),[1.1,0,0]]],XYZY:[[new Rn(new An(.125,.125,.125),s.clone()),[0,1.1,0]]],XYZZ:[[new Rn(new An(.125,.125,.125),s.clone()),[0,0,1.1]]]},A={X:[[new Rn(new ha(.2,0,.8,4,1,!1),n),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new Rn(new ha(.2,0,.8,4,1,!1),n),[0,.5,0]]],Z:[[new Rn(new ha(.2,0,.8,4,1,!1),n),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new Rn(x,n),[.85,.85,0],null,[3,3,.2]]],YZ:[[new Rn(x,n),[0,.85,.85],null,[.2,3,3]]],XZ:[[new Rn(x,n),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new Rn(new An(.2,.2,.2),n),[1.1,0,0]]],XYZY:[[new Rn(new An(.2,.2,.2),n),[0,1.1,0]]],XYZZ:[[new Rn(new An(.2,.2,.2),n),[0,0,1.1]]]},L={X:[[new jo(_,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new jo(_,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new jo(_,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},O=function(e){var t=new mt;for(var n in e)for(var r=e[n].length;r--;){var i=e[n][r][0].clone(),o=e[n][r][1],a=e[n][r][2],s=e[n][r][3],l=e[n][r][4];i.name=n,i.tag=l,o&&i.position.set(o[0],o[1],o[2]),a&&i.rotation.set(a[0],a[1],a[2]),s&&i.scale.set(s[0],s[1],s[2]),i.updateMatrix();var c=i.geometry.clone();c.applyMatrix4(i.matrix),i.geometry=c,i.renderOrder=1/0,i.position.set(0,0,0),i.rotation.set(0,0,0),i.scale.set(1,1,1),t.add(i)}return t},I=new ge(0,0,0),N=new Ke,D=new ge(0,1,0),z=new ge(0,0,0),F=new Ge,U=new me,B=new me,j=new me,H=new ge(1,0,0),V=new ge(0,1,0),G=new ge(0,0,1);this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=O(E)),this.add(this.gizmo.rotate=O(k)),this.add(this.gizmo.scale=O(P)),this.add(this.picker.translate=O(M)),this.add(this.picker.rotate=O(C)),this.add(this.picker.scale=O(A)),this.add(this.helper.translate=O(T)),this.add(this.helper.rotate=O(R)),this.add(this.helper.scale=O(L)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1,this.updateMatrixWorld=function(){var e=this.space;"scale"===this.mode&&(e="local");var t="local"===e?this.worldQuaternion:j;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;var n=[];n=(n=(n=n.concat(this.picker[this.mode].children)).concat(this.gizmo[this.mode].children)).concat(this.helper[this.mode].children);for(var r=0;r<n.length;r++){var i,o=n[r];if(o.visible=!0,o.rotation.set(0,0,0),o.position.copy(this.worldPosition),i=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),o.scale.set(1,1,1).multiplyScalar(i*this.size/7),"helper"!==o.tag){if(o.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode){var a=.99;"X"!==o.name&&"XYZX"!==o.name||Math.abs(D.copy(H).applyQuaternion(t).dot(this.eye))>a&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),"Y"!==o.name&&"XYZY"!==o.name||Math.abs(D.copy(V).applyQuaternion(t).dot(this.eye))>a&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),"Z"!==o.name&&"XYZZ"!==o.name||Math.abs(D.copy(G).applyQuaternion(t).dot(this.eye))>a&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),"XY"===o.name&&Math.abs(D.copy(G).applyQuaternion(t).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),"YZ"===o.name&&Math.abs(D.copy(H).applyQuaternion(t).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),"XZ"===o.name&&Math.abs(D.copy(V).applyQuaternion(t).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),-1!==o.name.search("X")&&(D.copy(H).applyQuaternion(t).dot(this.eye)<0?"fwd"===o.tag?o.visible=!1:o.scale.x*=-1:"bwd"===o.tag&&(o.visible=!1)),-1!==o.name.search("Y")&&(D.copy(V).applyQuaternion(t).dot(this.eye)<0?"fwd"===o.tag?o.visible=!1:o.scale.y*=-1:"bwd"===o.tag&&(o.visible=!1)),-1!==o.name.search("Z")&&(D.copy(G).applyQuaternion(t).dot(this.eye)<0?"fwd"===o.tag?o.visible=!1:o.scale.z*=-1:"bwd"===o.tag&&(o.visible=!1))}else"rotate"===this.mode&&(B.copy(t),D.copy(this.eye).applyQuaternion(U.copy(t).inverse()),-1!==o.name.search("E")&&o.quaternion.setFromRotationMatrix(F.lookAt(this.eye,z,V)),"X"===o.name&&(U.setFromAxisAngle(H,Math.atan2(-D.y,D.z)),U.multiplyQuaternions(B,U),o.quaternion.copy(U)),"Y"===o.name&&(U.setFromAxisAngle(V,Math.atan2(D.x,D.z)),U.multiplyQuaternions(B,U),o.quaternion.copy(U)),"Z"===o.name&&(U.setFromAxisAngle(G,Math.atan2(D.y,D.x)),U.multiplyQuaternions(B,U),o.quaternion.copy(U)));o.visible=o.visible&&(-1===o.name.indexOf("X")||this.showX),o.visible=o.visible&&(-1===o.name.indexOf("Y")||this.showY),o.visible=o.visible&&(-1===o.name.indexOf("Z")||this.showZ),o.visible=o.visible&&(-1===o.name.indexOf("E")||this.showX&&this.showY&&this.showZ),o.material._opacity=o.material._opacity||o.material.opacity,o.material._color=o.material._color||o.material.color.clone(),o.material.color.copy(o.material._color),o.material.opacity=o.material._opacity,this.enabled?this.axis&&(o.name===this.axis||this.axis.split("").some((function(e){return o.name===e}))?(o.material.opacity=1,o.material.color.lerp(new zt(1,1,1),.5)):(o.material.opacity*=.25,o.material.color.lerp(new zt(1,1,1),.5))):(o.material.opacity*=.5,o.material.color.lerp(new zt(1,1,1),.5))}else o.visible=!1,"AXIS"===o.name?(o.position.copy(this.worldPositionStart),o.visible=!!this.axis,"X"===this.axis&&(U.setFromEuler(N.set(0,0,0)),o.quaternion.copy(t).multiply(U),Math.abs(D.copy(H).applyQuaternion(t).dot(this.eye))>.9&&(o.visible=!1)),"Y"===this.axis&&(U.setFromEuler(N.set(0,0,Math.PI/2)),o.quaternion.copy(t).multiply(U),Math.abs(D.copy(V).applyQuaternion(t).dot(this.eye))>.9&&(o.visible=!1)),"Z"===this.axis&&(U.setFromEuler(N.set(0,Math.PI/2,0)),o.quaternion.copy(t).multiply(U),Math.abs(D.copy(G).applyQuaternion(t).dot(this.eye))>.9&&(o.visible=!1)),"XYZE"===this.axis&&(U.setFromEuler(N.set(0,Math.PI/2,0)),D.copy(this.rotationAxis),o.quaternion.setFromRotationMatrix(F.lookAt(z,D,V)),o.quaternion.multiply(U),o.visible=this.dragging),"E"===this.axis&&(o.visible=!1)):"START"===o.name?(o.position.copy(this.worldPositionStart),o.visible=this.dragging):"END"===o.name?(o.position.copy(this.worldPosition),o.visible=this.dragging):"DELTA"===o.name?(o.position.copy(this.worldPositionStart),o.quaternion.copy(this.worldQuaternionStart),I.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),I.applyQuaternion(this.worldQuaternionStart.clone().inverse()),o.scale.copy(I),o.visible=this.dragging):(o.quaternion.copy(t),this.dragging?o.position.copy(this.worldPositionStart):o.position.copy(this.worldPosition),this.axis&&(o.visible=-1!==this.axis.search(o.name)))}mt.prototype.updateMatrixWorld.call(this)}};Bd.prototype=Object.assign(Object.create(mt.prototype),{constructor:Bd,isTransformControlsGizmo:!0});var jd=function(){Rn.call(this,new Xn(1e5,1e5,2,2),new jt({visible:!1,wireframe:!0,side:2,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane";var e=new ge(1,0,0),t=new ge(0,1,0),n=new ge(0,0,1),r=new ge,i=new ge,o=new ge,a=new Ge,s=new me;this.updateMatrixWorld=function(){var l=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(l="local"),e.set(1,0,0).applyQuaternion("local"===l?this.worldQuaternion:s),t.set(0,1,0).applyQuaternion("local"===l?this.worldQuaternion:s),n.set(0,0,1).applyQuaternion("local"===l?this.worldQuaternion:s),o.copy(t),this.mode){case"translate":case"scale":switch(this.axis){case"X":o.copy(this.eye).cross(e),i.copy(e).cross(o);break;case"Y":o.copy(this.eye).cross(t),i.copy(t).cross(o);break;case"Z":o.copy(this.eye).cross(n),i.copy(n).cross(o);break;case"XY":i.copy(n);break;case"YZ":i.copy(e);break;case"XZ":o.copy(n),i.copy(t);break;case"XYZ":case"E":i.set(0,0,0)}break;case"rotate":default:i.set(0,0,0)}0===i.length()?this.quaternion.copy(this.cameraQuaternion):(a.lookAt(r.set(0,0,0),i,o),this.quaternion.setFromRotationMatrix(a)),mt.prototype.updateMatrixWorld.call(this)}};jd.prototype=Object.assign(Object.create(Rn.prototype),{constructor:jd,isTransformControlsPlane:!0});var Hd="[object GeneratorFunction]",Vd="object"==typeof a&&a&&a.Object===Object&&a,Gd="object"==typeof self&&self&&self.Object===Object&&self,Wd=Vd||Gd||Function("return this")();function qd(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Xd=Object.prototype,Yd=Xd.hasOwnProperty,Zd=Xd.toString,Qd=Wd.Symbol,$d=Xd.propertyIsEnumerable,Kd=Qd?Qd.isConcatSpreadable:void 0,Jd=Math.max;function ef(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=tf),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?ef(s,t-1,n,r,i):qd(i,s):r||(i[i.length]=s)}return i}function tf(e){return rf(e)||function(e){return function(e){return of(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?Zd.call(e):"";return"[object Function]"==t||t==Hd}(e)}(e)}(e)&&Yd.call(e,"callee")&&(!$d.call(e,"callee")||"[object Arguments]"==Zd.call(e))}(e)||!!(Kd&&e&&e[Kd])}function nf(e){if("string"==typeof e||function(e){return"symbol"==typeof e||of(e)&&"[object Symbol]"==Zd.call(e)}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}var rf=Array.isArray;function of(e){return!!e&&"object"==typeof e}!function(e,t){t=Jd(void 0===t?e.length-1:t,0)}((function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=e[a];n(s,a)&&(o[a]=s)}return o}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(ef(t,1),nf))}));var af=/^\[object .+?Constructor\]$/,sf=/^(?:0|[1-9]\d*)$/,lf="object"==typeof a&&a&&a.Object===Object&&a,cf="object"==typeof self&&self&&self.Object===Object&&self,uf=lf||cf||Function("return this")();function hf(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!=t)return function(e,t,n,r){var i=e.length,o=n+(r?1:-1);for(;r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,mf,n);var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function df(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function ff(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function pf(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function mf(e){return e!=e}function gf(e,t){return e.has(t)}function vf(e,t){return function(n){return e(t(n))}}var yf,bf=Array.prototype,xf=Function.prototype,_f=Object.prototype,wf=uf["__core-js_shared__"],Sf=(yf=/[^.]+$/.exec(wf&&wf.keys&&wf.keys.IE_PROTO||""))?"Symbol(src)_1."+yf:"",Ef=xf.toString,Mf=_f.hasOwnProperty,Tf=_f.toString,kf=RegExp("^"+Ef.call(Mf).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Rf=uf.Symbol,Cf=vf(Object.getPrototypeOf,Object),Pf=_f.propertyIsEnumerable,Af=bf.splice,Lf=Rf?Rf.isConcatSpreadable:void 0,Of=Object.getOwnPropertySymbols,If=Math.max,Nf=Yf(uf,"Map"),Df=Yf(Object,"create");function zf(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ff(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Uf(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Bf(e){var t=-1,n=e?e.length:0;for(this.__data__=new Uf;++t<n;)this.add(e[t])}function jf(e,t){var n=tp(e)||ep(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!Mf.call(e,o)||i&&("length"==o||Kf(o,r))||n.push(o);return n}function Hf(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!=n&&r!=r)return i;return-1}function Vf(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=$f),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?Vf(s,t-1,n,r,i):pf(i,s):r||(i[i.length]=s)}return i}function Gf(e){return!(!ip(e)||(t=e,Sf&&Sf in t))&&(rp(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?kf:af).test(function(e){if(null!=e){try{return Ef.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e));var t}function Wf(e){if(!ip(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t,n,r,i=(n=(t=e)&&t.constructor,r="function"==typeof n&&n.prototype||_f,t===r),o=[];for(var a in e)("constructor"!=a||!i&&Mf.call(e,a))&&o.push(a);return o}function qf(e){return function(e,t,n){var r=t(e);return tp(e)?r:pf(r,n(e))}(e,ap,Qf)}function Xf(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Yf(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Gf(n)?n:void 0}zf.prototype.clear=function(){this.__data__=Df?Df(null):{}},zf.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},zf.prototype.get=function(e){var t=this.__data__;if(Df){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Mf.call(t,e)?t[e]:void 0},zf.prototype.has=function(e){var t=this.__data__;return Df?void 0!==t[e]:Mf.call(t,e)},zf.prototype.set=function(e,t){return this.__data__[e]=Df&&void 0===t?"__lodash_hash_undefined__":t,this},Ff.prototype.clear=function(){this.__data__=[]},Ff.prototype.delete=function(e){var t=this.__data__,n=Hf(t,e);return!(n<0)&&(n==t.length-1?t.pop():Af.call(t,n,1),!0)},Ff.prototype.get=function(e){var t=this.__data__,n=Hf(t,e);return n<0?void 0:t[n][1]},Ff.prototype.has=function(e){return Hf(this.__data__,e)>-1},Ff.prototype.set=function(e,t){var n=this.__data__,r=Hf(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Uf.prototype.clear=function(){this.__data__={hash:new zf,map:new(Nf||Ff),string:new zf}},Uf.prototype.delete=function(e){return Xf(this,e).delete(e)},Uf.prototype.get=function(e){return Xf(this,e).get(e)},Uf.prototype.has=function(e){return Xf(this,e).has(e)},Uf.prototype.set=function(e,t){return Xf(this,e).set(e,t),this},Bf.prototype.add=Bf.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Bf.prototype.has=function(e){return this.__data__.has(e)};var Zf=Of?vf(Of,Object):sp,Qf=Of?function(e){for(var t=[];e;)pf(t,Zf(e)),e=Cf(e);return t}:sp;function $f(e){return tp(e)||ep(e)||!!(Lf&&e&&e[Lf])}function Kf(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||sf.test(e))&&e>-1&&e%1==0&&e<t}function Jf(e){if("string"==typeof e||function(e){return"symbol"==typeof e||op(e)&&"[object Symbol]"==Tf.call(e)}(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}function ep(e){return function(e){return op(e)&&np(e)}(e)&&Mf.call(e,"callee")&&(!Pf.call(e,"callee")||"[object Arguments]"==Tf.call(e))}var tp=Array.isArray;function np(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!rp(e)}function rp(e){var t=ip(e)?Tf.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function ip(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function op(e){return!!e&&"object"==typeof e}function ap(e){return np(e)?jf(e,!0):Wf(e)}function sp(){return[]}!function(e,t){t=If(void 0===t?e.length-1:t,0)}((function(e,t){return null==e?{}:(t=ff(Vf(t,1),Jf),function(e,t){return function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=e[a];n(s,a)&&(o[a]=s)}return o}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t,n,r){var i,o=-1,a=hf,s=!0,l=e.length,c=[],u=t.length;if(!l)return c;n&&(t=ff(t,(i=n,function(e){return i(e)}))),r?(a=df,s=!1):t.length>=200&&(a=gf,s=!1,t=new Bf(t));e:for(;++o<l;){var h=e[o],d=n?n(h):h;if(h=r||0!==h?h:0,s&&d==d){for(var f=u;f--;)if(t[f]===d)continue e;c.push(h)}else a(t,d,r)||c.push(h)}return c}(qf(e),t)))}));var lp=function(e,t){void 0===t&&(console.warn('THREE.PointerLockControls: The second parameter "domElement" is now mandatory.'),t=document.body),this.domElement=t,this.isLocked=!1,this.minPolarAngle=0,this.maxPolarAngle=Math.PI;var n,r=this,i={type:"change"},o={type:"lock"},a={type:"unlock"},s=new Ke(0,0,0,"YXZ"),l=Math.PI/2,c=new ge;function u(t){if(!1!==r.isLocked){var n=t.movementX||t.mozMovementX||t.webkitMovementX||0,o=t.movementY||t.mozMovementY||t.webkitMovementY||0;s.setFromQuaternion(e.quaternion),s.y-=.002*n,s.x-=.002*o,s.x=Math.max(l-r.maxPolarAngle,Math.min(l-r.minPolarAngle,s.x)),e.quaternion.setFromEuler(s),r.dispatchEvent(i)}}function h(){r.domElement.ownerDocument.pointerLockElement===r.domElement?(r.dispatchEvent(o),r.isLocked=!0):(r.dispatchEvent(a),r.isLocked=!1)}function d(){console.error("THREE.PointerLockControls: Unable to use Pointer Lock API")}this.connect=function(){r.domElement.ownerDocument.addEventListener("mousemove",u,!1),r.domElement.ownerDocument.addEventListener("pointerlockchange",h,!1),r.domElement.ownerDocument.addEventListener("pointerlockerror",d,!1)},this.disconnect=function(){r.domElement.ownerDocument.removeEventListener("mousemove",u,!1),r.domElement.ownerDocument.removeEventListener("pointerlockchange",h,!1),r.domElement.ownerDocument.removeEventListener("pointerlockerror",d,!1)},this.dispose=function(){this.disconnect()},this.getObject=function(){return e},this.getDirection=(n=new ge(0,0,-1),function(t){return t.copy(n).applyQuaternion(e.quaternion)}),this.moveForward=function(t){c.setFromMatrixColumn(e.matrix,0),c.crossVectors(e.up,c),e.position.addScaledVector(c,t)},this.moveRight=function(t){c.setFromMatrixColumn(e.matrix,0),e.position.addScaledVector(c,t)},this.lock=function(){this.domElement.requestPointerLock()},this.unlock=function(){r.domElement.ownerDocument.exitPointerLock()},this.connect()};function cp(e){let t;const n=new Set,r=(e,r)=>{const i="function"==typeof e?e(t):e;if(i!==t){const e=t;t=r?i:Object.assign({},t,i),n.forEach((n=>n(t,e)))}},i=()=>t,o={setState:r,getState:i,subscribe:(e,r,o)=>r||o?((e,r=i,o=Object.is)=>{let a=r(t);function s(){const n=r(t);if(!o(a,n)){const t=a;e(a=n,t)}}return n.add(s),()=>n.delete(s)})(e,r,o):(n.add(e),()=>n.delete(e)),destroy:()=>n.clear()};return t=e(r,i,o),o}(lp.prototype=Object.create(ne.prototype)).constructor=lp;const up="undefined"==typeof window?m.useEffect:m.useLayoutEffect;var hp="undefined"!=typeof window&&window.document&&window.document.createElement?m.useLayoutEffect:m.useEffect,dp=function(e){return Rp(e)},fp=function(e){void 0===e&&(e=dp);var t=!0,n=!1,r=0,i=[],o=0,a=new Set,s=new Set,l=new Set,c=function(e){var t=i.indexOf(e);t<0&&(t=i.findIndex((function(t){return t.priority>e.priority})),i.splice(~t?t:i.length,0,e))},u=function(){if(!t)try{f(),e(u)}catch(e){console.error(e)}},h=function(){t&&(t=!1,0==r&&(r=Mp(),e(u)))},d=[];this.setTimeout=function(e,t){var n=Mp()+t,r=function(){var e=d.findIndex((function(e){return e.cancel==r}));e>=0&&d.splice(e,1)},i=pp(d,(function(e){return e.time>n})),o={time:n,handler:e,cancel:r};return d.splice(i,0,o),h(),o};var f=this.advance=function(){var e=Mp();if(a.size&&(a.forEach(c),a.clear()),d.length&&Cp((function(){var t=pp(d,(function(t){return t.time>e}));d.splice(0,t).forEach((function(e){return e.handler()}))})),e>r){var t=Math.min(64,e-r);r=e,Cp((function(){i.length&&(Pp(i),i=i.filter((function(e){return o=e.priority,e.idle||e.advance(t),!e.idle})),o=0),s.size&&(s.forEach((function(t){return t(e)})),s.clear()),l.size&&(n=!0,l.forEach((function(t){return t(e)})),l.clear(),n=!1)}))}};if(this.start=function(e){o>e.priority?a.add(e):(c(e),h())},this.onFrame=function(e){s.add(e),h()},this.onWrite=function(e){n?e(r):l.add(e)},"undefined"!=typeof process&&"production"!==process.env.NODE_ENV){var p=function(){t=!0,a.clear(),d.length=0};Object.defineProperties(this,{_animations:{get:function(){return i}},_dispose:{get:function(){return p}}})}};function pp(e,t){var n=e.findIndex(t);return n<0?e.length:n}var mp=function(){},gp={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"==typeof e},str:function(e){return"string"==typeof e},num:function(e){return"number"==typeof e},und:function(e){return void 0===e}};function vp(e,t){if(gp.arr(e)){if(!gp.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var yp,bp=function(e){return gp.str(e)&&("#"==e[0]||/\d/.test(e)||!(!Tp||!Tp[e]))},xp=function(e,t,n){gp.fun(e.forEach)?e.forEach(t,n):Object.keys(e).forEach((function(r){return t.call(n,e[r],r)}))},_p=function(e){return gp.und(e)?[]:gp.arr(e)?e:[e]};function wp(e,t){if(e.size){var n=Array.from(e);e.clear(),xp(n,t)}}var Sp,Ep=new fp,Mp=function(){return performance.now()},Tp=null,kp=!1,Rp="undefined"!=typeof window?window.requestAnimationFrame:function(){return-1},Cp=function(e){return e()},Pp=mp;var Ap=function(e){return m.useEffect(e,[])},Lp=function(){var e=m.useState(0)[1],t=m.useRef(!1);return Ap((function(){return function(){t.current=!0}})),function(){t.current||e({})}};function Op(e){var t=m.useRef(void 0);return m.useEffect((function(){t.current=e})),t.current}var Ip=function(e,t,n){if(gp.fun(e))return e;if(gp.arr(e))return Ip({range:e,output:t,extrapolate:n});if(gp.str(e.output[0]))return yp(e);var r=e,i=r.output,o=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",s=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,o);return function(e,t,n,r,i,o,a,s,l){var c=l?l(e):e;if(c<t){if("identity"===a)return c;"clamp"===a&&(c=t)}if(c>n){if("identity"===s)return c;"clamp"===s&&(c=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?c=-c:n===1/0?c-=t:c=(c-t)/(n-t);c=o(c),r===-1/0?c=-c:i===1/0?c+=r:c=c*(i-r)+r;return c}(e,o[t],o[t+1],i[t],i[t+1],l,a,s,r.map)}};var Np=Symbol.for("FluidValue:config");function Dp(e){var t=zp(e);return t?t.get():e}function zp(e){if(e)return e[Np]}var Fp=function(){!function(e,t){Object.defineProperty(e,Np,{value:t,configurable:!0})}(this,this)};const Up=Symbol.for("Animated:node"),Bp=e=>e&&e[Up],jp=(e,t)=>{return n=e,r=Up,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},Hp=e=>e&&e[Up]&&e[Up].getPayload();class Vp{constructor(){this.payload=void 0,jp(this,this)}getPayload(){return this.payload||[]}}class Gp extends Vp{constructor(e){super(),this._value=e,this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,gp.num(this._value)&&(this.lastPosition=this._value)}static create(e,t){return new Gp(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,t){return gp.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,gp.num(this._value)&&(this.elapsedTime=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class Wp extends Gp{constructor(e,t){super(0),this._value=void 0,this._string=null,this._toString=void 0,this._toString=Ip({output:[e,t]})}static create(e,t=e){if(gp.str(e)&&gp.str(t))return new Wp(e,t);throw TypeError('Expected "from" and "to" to be strings')}getValue(){let e=this._string;return null==e?this._string=this._toString(this._value):e}setValue(e){if(gp.num(e)){if(!super.setValue(e))return!1;this._string=null}else this._string=e,this._value=1;return!0}reset(e){e&&(this._toString=Ip({output:[this.getValue(),e]})),this._value=0,super.reset()}}const qp={current:null};class Xp extends Vp{constructor(e=null){super(),this.source=void 0,this.setValue(e)}getValue(e){if(!this.source)return null;const t={};return xp(this.source,((n,r)=>{if((i=n)&&i[Up]===i)t[r]=n.getValue(e);else{const i=zp(n);i?t[r]=i.get():e||(t[r]=n)}var i})),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&xp(this.payload,(e=>e.reset()))}_makePayload(e){if(e){const t=new Set;return xp(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){zp(e)&&qp.current&&qp.current.dependencies.add(e);const t=Hp(e);t&&xp(t,(e=>this.add(e)))}}class Yp extends Xp{constructor(e,t){super(null),this.source=void 0,super.setValue(this._makeAnimated(e,t))}static create(e,t){return new Yp(e,t)}getValue(){return this.source.map((e=>e.getValue()))}setValue(e){const t=this.getPayload();e&&e.length==t.length?xp(t,((t,n)=>t.setValue(e[n]))):(this.source=this._makeAnimated(e),this.payload=this._makePayload(this.source))}_makeAnimated(e,t=e){return e?e.map(((e,n)=>(bp(e)?Wp:Gp).create(e,t[n]))):[]}}var Zp=!1;
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Qp=function(){return(Qp=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},$p="[-+]?\\d*\\.?\\d+";function Kp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Jp=new RegExp("rgb"+Kp($p,$p,$p)),em=new RegExp("rgba"+Kp($p,$p,$p,$p)),tm=new RegExp("hsl"+Kp($p,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%")),nm=new RegExp("hsla"+Kp($p,"[-+]?\\d*\\.?\\d+%","[-+]?\\d*\\.?\\d+%",$p)),rm=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,im=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,om=/^#([0-9a-fA-F]{6})$/,am=/^#([0-9a-fA-F]{8})$/;function sm(e,t,n){var r=(1-Math.abs(2*n-1))*t,i=n-r/2,o=function(e,t,n){return e<60?[t,n,0]:e<120?[n,t,0]:e<180?[0,t,n]:e<240?[0,n,t]:e<300?[n,0,t]:[t,0,n]}(e,r,r*(1-Math.abs(e/60%2-1))),a=o[0],s=o[1],l=o[2];return Math.round(255*(a+i))<<24|Math.round(255*(s+i))<<16|Math.round(255*(l+i))<<8}function lm(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function cm(e){return(parseFloat(e)%360+360)%360/360}function um(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function hm(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function dm(e){var t,n,r="number"==typeof(t=e)?t>>>0===t&&t>=0&&t<=4294967295?t:null:(n=om.exec(t))?parseInt(n[1]+"ff",16)>>>0:Tp&&void 0!==Tp[t]?Tp[t]:(n=Jp.exec(t))?(lm(n[1])<<24|lm(n[2])<<16|lm(n[3])<<8|255)>>>0:(n=em.exec(t))?(lm(n[1])<<24|lm(n[2])<<16|lm(n[3])<<8|um(n[4]))>>>0:(n=rm.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=am.exec(t))?parseInt(n[1],16)>>>0:(n=im.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=tm.exec(t))?(255|sm(cm(n[1]),hm(n[2]),hm(n[3])))>>>0:(n=nm.exec(t))?(sm(cm(n[1]),hm(n[2]),hm(n[3]))|um(n[4]))>>>0:null;return null===r?e:"rgba("+((4278190080&(r=r||0))>>>24)+", "+((16711680&r)>>>16)+", "+((65280&r)>>>8)+", "+(255&r)/255+")"}var fm,pm=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,mm=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,gm=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,vm=function(e,t,n,r,i){return"rgba("+Math.round(t)+", "+Math.round(n)+", "+Math.round(r)+", "+i+")"};const ym=Wh(Wh({},{tension:170,friction:26}),{},{mass:1,damping:1,easing:e=>e,clamp:!1});class bm{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,ym)}}function xm(e,t){if(gp.und(t.decay)){const n=!gp.und(t.tension)||!gp.und(t.friction);!n&&gp.und(t.frequency)&&gp.und(t.damping)&&gp.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}const _m=[];class wm{constructor(){this.changed=!1,this.values=_m,this.toValues=null,this.fromValues=_m,this.to=void 0,this.from=void 0,this.config=new bm,this.immediate=!1,this.onStart=void 0,this.onChange=void 0,this.onRest=[]}}const Sm=(e,t)=>function(e,t){var n=m.useState((function(){return{inputs:t,result:e()}}))[0],r=m.useRef(!0),i=m.useRef(n),o=r.current||Boolean(t&&i.current.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,i.current.inputs))?i.current:{inputs:t,result:e()};return m.useEffect((function(){r.current=!1,i.current=o}),[o]),o.result}(e,t||[{}]);function Em(e,...t){return gp.fun(e)?e(...t):e}const Mm=(e,t)=>!0===e||!!(t&&e&&(gp.fun(e)?e(t):_p(e).includes(t))),Tm=(e,t,n)=>e&&(gp.fun(e)?e(t,n):gp.arr(e)?e[t]:Wh({},e)),km=(e,t)=>!0===e.default?e[t]:e.default?e.default[t]:void 0,Rm=(e,t=[],n={})=>{let r=Cm;e.default&&!0!==e.default&&(e=e.default,r=Object.keys(e));for(const i of r){const r=e[i];gp.und(r)||t.includes(i)||(n[i]=r)}return n},Cm=["pause","cancel","config","immediate","onDelayEnd","onProps","onStart","onChange","onRest"],Pm={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onDelayEnd:1,onProps:1,onStart:1,onChange:1,onRest:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,keys:1,callId:1,parentId:1};function Am(e){const t=function(e){const t={};let n=0;if(xp(e,((e,r)=>{Pm[r]||(t[r]=e,n++)})),n)return t}(e);if(t){const n={to:t};return xp(e,((e,r)=>r in t||(n[r]=e))),n}return Wh({},e)}function Lm(e){const t=zp(e);return t?Lm(t.get()):gp.arr(e)?e.map(Lm):bp(e)?yp({range:[0,1],output:[e,e]})(1):e}function Om(e,{key:t,props:n,state:r,actions:i}){return new Promise(((o,a)=>{let s,l,c=!1,u=Mm(n.cancel,t);function h(){r.resumeQueue.add(d),l.cancel(),s=l.time-Mp()}function d(){s>0?(r.pauseQueue.add(h),l=Ep.setTimeout(f,s)):f()}function f(){r.pauseQueue.delete(h),e<=(r.cancelId||0)&&(u=!0);try{i.start(Wh(Wh({},n),{},{callId:e,delay:s,cancel:u,pause:c}),o)}catch(e){a(e)}}u?f():(s=Em(n.delay||0,t),c=Mm(n.pause,t),c?(r.resumeQueue.add(d),i.pause()):(i.resume(),d()))}))}const Im=(e,t)=>1==t.length?t[0]:t.some((e=>e.cancelled))?zm(e):t.every((e=>e.noop))?Nm(e):Dm(e,t.every((e=>e.finished))),Nm=(e,t=e.get())=>({value:t,noop:!0,finished:!0,target:e}),Dm=(e,t,n=e.get())=>({value:n,finished:t,target:e}),zm=(e,t=e.get())=>({value:t,cancelled:!0,target:e});async function Fm(e,t,n,r){t.pause&&await new Promise((e=>{n.resumeQueue.add(e)}));const{callId:i,parentId:o,onRest:a}=t,{asyncTo:s,promise:l}=n;return o||e!==s||t.reset?n.promise=(async()=>{n.asyncId=i,n.asyncTo=e;const c=Rm(t,["onRest"]);let u,h;const d=new Promise(((e,t)=>(u=e,h=t))),f=e=>{const t=i<=(n.cancelId||0)&&zm(r)||i!==n.asyncId&&Dm(r,!1);if(t)throw e.result=t,e},p=(m=(e,t)=>{const o=new Bm;f(o);const a=gp.obj(e)?Wh({},e):Wh(Wh({},t),{},{to:e});return a.parentId=i,xp(c,((e,t)=>{gp.und(a[t])&&(a[t]=e)})),r.start(a).then((async e=>(f(o),r.is("PAUSED")&&await new Promise((e=>{n.resumeQueue.add(e)})),e)))},(...e)=>{const t=e=>{throw e instanceof Bm&&h(e),e};try{return m(...e).catch(t)}catch(e){t(e)}});var m;let g;try{let t;gp.arr(e)?t=(async e=>{for(const t of e)await p(t)})(e):gp.fun(e)&&(t=Promise.resolve(e(p,r.stop.bind(r)))),await Promise.all([t.then(u),d]),g=Dm(r,!0)}catch(e){if(!(e instanceof Bm))throw e;g=e.result}finally{i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?s:void 0,n.promise=o?l:void 0)}return gp.fun(a)&&Cp((()=>{a(g)})),g})():l}function Um(e,t){e.cancelId=t,e.asyncId=e.asyncTo=e.promise=void 0}class Bm extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}const jm=e=>e instanceof Vm;let Hm=1;class Vm extends Fp{constructor(...e){super(...e),this.id=Hm++,this.key=void 0,this._priority=0,this._children=new Set}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Bp(this);return e&&e.getValue()}to(...e){return Sp(this,e)}interpolate(...e){return Zp||(Zp=!0,console.warn('react-spring: The "interpolate" function is deprecated in v10 (use "to" instead)')),Sp(this,e)}addChild(e){this._children.size||this._attach(),this._children.add(e)}removeChild(e){this._children.delete(e),this._children.size||this._detach()}onParentChange({type:e}){this.idle?"start"==e&&(this._reset(),this._start()):"reset"==e&&this._reset()}_attach(){}_detach(){}_reset(){this._emit({type:"reset",parent:this})}_start(){this._emit({type:"start",parent:this})}_onChange(e,t=!1){this._emit({type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Ep.start(this),this._emit({type:"priority",parent:this,priority:e})}_emit(e){xp(Array.from(this._children),(t=>{t.onParentChange(e)}))}}const Gm="ACTIVE";class Wm extends Vm{constructor(e,t){if(super(),this.key=void 0,this.animation=new wm,this.queue=void 0,this._phase="CREATED",this._state={pauseQueue:new Set,resumeQueue:new Set},this._defaultProps={},this._lastCallId=0,this._lastToId=0,!gp.und(e)||!gp.und(t)){const n=gp.obj(e)?Wh({},e):Wh(Wh({},t),{},{from:e});n.default=!0,this.start(n)}}get idle(){return!this.is(Gm)&&!this._state.asyncTo}get goal(){return Dp(this.animation.to)}get velocity(){const e=Bp(this);return e instanceof Gp?e.lastVelocity||0:e.getPayload().map((e=>e.lastVelocity||0))}advance(e){let t=!0,n=!1;const r=this.animation;let{config:i,toValues:o}=r;const a=Hp(r.to);if(!a){const e=zp(r.to);e&&(o=_p(e.get()))}return r.values.forEach(((s,l)=>{if(s.done)return;let c=a?a[l].lastPosition:o[l],u=r.immediate,h=c;if(!u){if(h=s.lastPosition,i.tension<=0)return void(s.done=!0);const t=s.elapsedTime+=e,n=r.fromValues[l],o=null!=s.v0?s.v0:s.v0=gp.arr(i.velocity)?i.velocity[l]:i.velocity;let a;if(gp.und(i.duration))if(i.decay){const e=!0===i.decay?.998:i.decay,r=Math.exp(-(1-e)*t);h=n+o/(1-e)*(1-r),u=Math.abs(s.lastPosition-h)<.1,a=o*r}else{a=null==s.lastVelocity?o:s.lastVelocity;const t=i.precision||(n==c?.005:Math.min(1,.001*Math.abs(c-n))),r=i.restVelocity||t/10,l=i.clamp?0:i.bounce,d=!gp.und(l),f=n==c?s.v0>0:n<c;let p,m=!1;const g=1,v=Math.ceil(e/g);for(let e=0;e<v&&(p=Math.abs(a)>r,p||(u=Math.abs(c-h)<=t,!u));++e){d&&(m=h==c||h>c==f,m&&(a=-a*l,h=c));a+=(1e-6*-i.tension*(h-c)+.001*-i.friction*a)/i.mass*g,h+=a*g}}else{let r=i.progress||0;i.duration<=0?r=1:r+=(1-r)*Math.min(1,t/i.duration),h=n+i.easing(r)*(c-n),a=(h-s.lastPosition)/e,u=1==r}s.lastVelocity=a,Number.isNaN(h)&&(console.warn("Got NaN while animating:",this),u=!0)}a&&!a[l].done&&(u=!1),u?s.done=!0:t=!1,s.setValue(h,i.round)&&(n=!0)})),t?this.finish():n&&this._onChange(this.get()),t}is(e){return this._phase==e}set(e){return Cp((()=>{if(this._focus(e),this._set(e)&&!this.is(Gm))return this._onChange(this.get(),!0);this._stop()})),this}pause(){qm(this,"pause"),this.is("PAUSED")||(this._phase="PAUSED",wp(this._state.pauseQueue,(e=>e())))}resume(){qm(this,"resume"),this.is("PAUSED")&&(this._start(),wp(this._state.resumeQueue,(e=>e())))}finish(e){if(this.resume(),this.is(Gm)){const t=this.animation;!t.config.decay&&gp.und(e)&&(e=t.to),gp.und(e)||this._set(e),Cp((()=>{t.changed||(t.changed=!0,t.onStart&&t.onStart(this)),this._stop()}))}return this}update(e){qm(this,"update");return(this.queue||(this.queue=[])).push(e),this}async start(e,t){let n;qm(this,"start"),gp.und(e)?(n=this.queue||[],this.queue=[]):n=[gp.obj(e)?e:Wh(Wh({},t),{},{to:e})];const r=await Promise.all(n.map((e=>this._update(e))));return Im(this,r)}stop(e){return this.is("DISPOSED")||(Um(this._state,this._lastCallId),this._focus(this.get()),Cp((()=>this._stop(e)))),this}reset(){this._update({reset:!0})}dispose(){this.is("DISPOSED")||(this.animation&&(this.animation.onRest=[]),this.stop(),this._phase="DISPOSED")}onParentChange(e){super.onParentChange(e),"change"==e.type?this.is(Gm)||(this._reset(),this.is("PAUSED")||this._start()):"priority"==e.type&&(this.priority=e.priority+1)}_prepareNode({to:e,from:t,reverse:n}){const r=this.key||"",i={to:e=!gp.obj(e)||zp(e)?e:e[r],from:t=!gp.obj(t)||zp(t)?t:t[r]};if(this.is("CREATED")){n&&([e,t]=[t,e]),t=Dp(t);const r=this._updateNode(gp.und(t)?Dp(e):t);r&&!gp.und(t)&&r.setValue(t)}return i}_updateNode(e){let t=Bp(this);if(!gp.und(e)){const n=this._getNodeType(e);t&&t.constructor===n||jp(this,t=n.create(e))}return t}_getNodeType(e){const t=Bp(e);return t?t.constructor:gp.arr(e)?Yp:bp(e)?Wp:Gp}_update(e,t){const n=this._defaultProps,r=t=>{const r=km(e,t);gp.und(r)||(n[t]=r),n[t]&&(e[t]=n[t])};r("cancel"),r("pause");const i=this._prepareNode(e);return Om(++this._lastCallId,{key:this.key,props:e,state:this._state,actions:{pause:this.pause.bind(this),resume:this.resume.bind(this),start:this._merge.bind(this,i)}}).then((n=>{if(e.loop&&n.finished&&(!t||!n.noop)){const t=Zm(e);if(t)return this._update(t,!0)}return n}))}_merge(e,t,n){if(t.cancel)return this.stop(!0),n(zm(this));const{key:r,animation:i}=this,o=this._defaultProps,a=!gp.und(e.to),s=!gp.und(e.from);if(a||s){if(!(t.callId>this._lastToId))return n(zm(this));this._lastToId=t.callId}const l=e=>gp.und(t[e])?o[e]:t[e],c=Xm(l("onDelayEnd"),r);c&&c(t,this),t.default&&((e,t,n)=>{Rm(t,n,e)})(o,t,["pause","cancel"]);const{to:u,from:h}=i;let{to:d=u,from:f=h}=e;s&&!a&&(d=f),t.reverse&&([d,f]=[f,d]);const p=!vp(f,h);p&&(i.from=f);const m=!vp(d,u);m&&this._focus(d);const g=zp(d),v=zp(f);v&&(f=v.get());const y=gp.arr(t.to)||gp.fun(t.to),{config:b}=i,{decay:x,velocity:_}=b;t.config&&!y&&function(e,t,n){n&&(xm(n=Wh({},n),t),t=Wh(Wh({},n),t)),xm(e,t),Object.assign(e,t);for(const t in ym)null==e[t]&&(e[t]=ym[t]);let{mass:r,frequency:i,damping:o}=e;gp.und(i)||(i<.01&&(i=.01),o<0&&(o=0),e.tension=Math.pow(2*Math.PI/i,2)*r,e.friction=4*Math.PI*o*r/i)}(b,Em(t.config,r),t.config!==o.config?Em(o.config,r):void 0);let w=Bp(this);if(!w||gp.und(d))return n(Dm(this,!0));const S=gp.und(t.reset)?s&&!t.default:!gp.und(f)&&Mm(t.reset,r),E=S?f:this.get(),M=Lm(d),T=gp.num(M)||gp.arr(M)||bp(M),k=!y&&(!T||Mm(o.immediate||t.immediate,r));if(m)if(k)w=this._updateNode(M);else{const e=this._getNodeType(d);if(e!==w.constructor)throw Error("Cannot animate between "+w.constructor.name+" and "+e.name+', as the "to" prop suggests')}const R=w.constructor;let C=!!g,P=!1;if(!C){const e=S||this.is("CREATED")&&p;(m||e)&&(P=vp(Lm(E),M),C=!P),vp(b.decay,x)&&vp(b.velocity,_)||(C=!0)}if(P&&this.is(Gm)&&(i.changed&&!S?C=!0:C||this._stop()),!y){(C||zp(u))&&(i.values=w.getPayload(),i.toValues=g?null:R==Wp?[1]:_p(M)),i.immediate=k,i.onStart=Xm(l("onStart"),r),i.onChange=Xm(l("onChange"),r);const e=i.onRest,o=S&&!t.onRest?e[0]||mp:Ym(Xm(l("onRest"),r),this);if(C){i.onRest=[o,Ym(n,this)];let t=S?0:1;t<e.length&&Cp((()=>{for(;t<e.length;t++)e[t]()}))}else(S||t.onRest)&&(i.onRest[0]=o)}const A=Xm(l("onProps"),r);A&&A(t,this),S&&w.setValue(E),y?n(Fm(t.to,t,this._state,this)):C?(S&&(this._phase="IDLE"),this._reset(),this._start()):this.is(Gm)&&!m?i.onRest.push(Ym(n,this)):n(Nm(this,E))}_focus(e){const t=this.animation;if(e!==t.to){let n=zp(t.to);n&&n.removeChild(this),t.to=e;let r=0;(n=zp(e))&&(n.addChild(this),jm(e)&&(r=(e.priority||0)+1)),this.priority=r}}_set(e){const t=zp(e);t&&(e=t.get());const n=Bp(this),r=n&&n.getValue();return n?n.setValue(e):this._updateNode(e),!vp(e,r)}_onChange(e,t=!1){const n=this.animation;n.changed||t||(n.changed=!0,n.onStart&&n.onStart(this)),n.onChange&&n.onChange(e,this),super._onChange(e,t)}_reset(){const e=this.animation;Bp(this).reset(e.to),this.is(Gm)||(e.changed=!1),e.immediate||(e.fromValues=e.values.map((e=>e.lastPosition))),super._reset()}_start(){this.is(Gm)||(this._phase=Gm,super._start(),kp?this.finish():Ep.start(this))}_stop(e){if(this.resume(),this.is(Gm)){this._phase="IDLE",this._onChange(this.get(),!0);const t=this.animation;xp(t.values,(e=>{e.done=!0}));const n=t.onRest;n.length&&(t.onRest=[t.toValues?mp:n[0]],t.changed||(n[0]=mp),xp(n,(t=>t(e))))}}}function qm(e,t){if(e.is("DISPOSED"))throw Error('Cannot call "'+t+'" of disposed "'+e.constructor.name+'" object')}function Xm(e,t){return gp.fun(e)?e:t&&e?e[t]:void 0}const Ym=(e,t)=>{const{to:n}=t.animation;return e?r=>{if(r)e(zm(t));else{const r=Lm(n),i=vp(Lm(t.get()),r);e(Dm(t,i))}}:mp};function Zm(e,t=e.loop,n=e.to){let r=Em(t);if(r){const i=!0!==r&&Am(r),o=(i||e).reverse,a=!i||i.reset;return Qm(Wh(Wh({},e),{},{loop:t,default:!1,to:!o||gp.arr(n)||gp.fun(n)?n:void 0,from:a?e.from:void 0,reset:a},i))}}function Qm(e){const{to:t,from:n}=e=Am(e),r=new Set;return n?Km(n,r):delete e.from,gp.obj(t)?Km(t,r):t||delete e.to,e.keys=r.size?Array.from(r):null,e}function $m(e){const t=Qm(e);return gp.und(t.default)&&(t.default=Rm(t,[!0===t.immediate&&"immediate"])),t}function Km(e,t){xp(e,((e,n)=>null!=e&&t.add(n)))}const Jm=["onStart","onChange","onRest"];let eg=1;class tg{constructor(e,t){this.id=eg++,this.springs={},this.queue=[],this._flush=void 0,this._initialProps=void 0,this._phase="CREATED",this._lastAsyncId=0,this._active=new Set,this._state={pauseQueue:new Set,resumeQueue:new Set},this._events={onStart:new Set,onChange:new Set,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),e&&this.start(e)}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every((e=>e.idle))}is(e){return this._phase==e}get(){const e={};return this.each(((t,n)=>e[n]=t.get())),e}update(e){return e&&this.queue.push(Qm(e)),this}start(e){const t=e?_p(e).map(Qm):this.queue;return e||(this.queue=[]),this._flush?this._flush(this,t):(lg(this,t),ng(this,t))}stop(e){if(gp.und(e))this.each((e=>e.stop())),Um(this._state,this._lastAsyncId);else{const t=this.springs;xp(_p(e),(e=>t[e].stop()))}return this}pause(e){if(gp.und(e))this.each((e=>e.pause()));else{const t=this.springs;xp(_p(e),(e=>t[e].pause()))}return this}resume(e){if(gp.und(e))this.each((e=>e.resume()));else{const t=this.springs;xp(_p(e),(e=>t[e].resume()))}return this}reset(){return this.each((e=>e.reset())),this}each(e){xp(this.springs,e)}dispose(){this._state.asyncTo=void 0,this.each((e=>e.dispose())),this.springs={}}_onFrame(){const{onStart:e,onChange:t,onRest:n}=this._events,r=this._active.size>0;r&&this._phase!=Gm&&(this._phase=Gm,wp(e,(e=>e(this))));const i=(t.size||!r&&n.size)&&this.get();wp(t,(e=>e(i))),r||(this._phase="IDLE",wp(n,(([e,t])=>{t.value=i,e(t)})))}onParentChange(e){"change"==e.type&&(this._active[e.idle?"delete":"add"](e.parent),Ep.onFrame(this._onFrame))}}function ng(e,t){return Promise.all(t.map((t=>rg(e,t)))).then((t=>Im(e,t)))}function rg(e,t,n){const{to:r,loop:i,onRest:o}=t;i&&(t.loop=!1);const a=gp.arr(r)||gp.fun(r)?r:void 0;a?(t.to=void 0,t.onRest=void 0):xp(Jm,(n=>{const r=t[n];if(gp.fun(r)){const i=e._events[n];i instanceof Set?t[n]=()=>i.add(r):t[n]=({finished:e,cancelled:t})=>{const n=i.get(r);n?(e||(n.finished=!1),t&&(n.cancelled=!0)):i.set(r,{value:null,finished:e,cancelled:t})}}}));const s=(t.keys||Object.keys(e.springs)).map((n=>e.springs[n].start(t))),l=e._state;return a?s.push(Om(++e._lastAsyncId,{props:t,state:l,actions:{pause:mp,resume:mp,start(t,n){t.onRest=o,t.cancel?((e,t)=>!gp.und(km(e,t)))(t,"cancel")&&Um(l,t.callId):n(Fm(a,t,l,e))}}})):t.keys||!0!==t.cancel||Um(l,e._lastAsyncId),Promise.all(s).then((o=>{const a=Im(e,o);if(i&&a.finished&&(!n||!a.noop)){const n=Zm(t,i,r);if(n)return lg(e,[n]),rg(e,n,!0)}return a}))}function ig(e,t){const n=Wh({},e.springs);return t&&xp(_p(t),(e=>{gp.und(e.keys)&&(e=Qm(e)),gp.obj(e.to)||(e=Wh(Wh({},e),{},{to:void 0})),sg(n,e,(e=>ag(e)))})),n}function og(e,t){xp(t,((t,n)=>{e.springs[n]||(e.springs[n]=t,t.addChild(e))}))}function ag(e,t){const n=new Wm;return n.key=e,t&&n.addChild(t),n}function sg(e,t,n){t.keys&&xp(t.keys,(r=>{(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function lg(e,t){xp(t,(t=>{sg(e.springs,t,(t=>ag(t,e)))}))}const cg=m.createContext({});cg.Provider,cg.Consumer;const ug=()=>m.useContext(cg),hg=e=>({get controllers(){return e()},update(t){return xp(e(),((e,n)=>{e.update(Tm(t,n,e))})),this},async start(t){const n=await Promise.all(e().map(((e,n)=>{const r=Tm(t,n,e);return e.start(r)})));return{value:n.map((e=>e.value)),finished:n.every((e=>e.finished))}},stop:t=>xp(e(),(e=>e.stop(t))),pause:t=>xp(e(),(e=>e.pause(t))),resume:t=>xp(e(),(e=>e.resume(t)))});class dg extends Vm{constructor(e,t){super(),this.source=e,this.key=void 0,this.idle=!0,this.calc=void 0,this.calc=Ip(...t);const n=this._get(),r=gp.arr(n)?Yp:Gp;jp(this,r.create(n))}advance(e){const t=this._get();vp(t,this.get())||(Bp(this).setValue(t),this._onChange(t,this.idle))}_get(){const e=gp.arr(this.source)?this.source.map((e=>e.get())):_p(this.source.get());return this.calc(...e)}_reset(){xp(Hp(this),(e=>e.reset())),super._reset()}_start(){this.idle=!1,super._start(),kp?(this.idle=!0,this.advance()):Ep.start(this)}_attach(){let e=!0,t=1;xp(_p(this.source),(n=>{jm(n)&&(n.idle||(e=!1),t=Math.max(t,n.priority+1)),n.addChild(this)})),this.priority=t,e||(this._reset(),this._start())}_detach(){xp(_p(this.source),(e=>{e.removeChild(this)})),this.idle=!0}onParentChange(e){"start"==e.type?this.advance():"change"==e.type?this.idle?this.advance():e.idle&&(this.idle=_p(this.source).every((e=>!1!==e.idle)),this.idle&&(this.advance(),xp(Hp(this),(e=>{e.done=!0})))):"priority"==e.type&&(this.priority=_p(this.source).reduce(((e,t)=>Math.max(e,(t.priority||0)+1)),0)),super.onParentChange(e)}}var fg,pg;fg={createStringInterpolator:function(e){fm||(fm=Tp?new RegExp("("+Object.keys(Tp).join("|")+")","g"):/^\b$/);var t=e.output.map((function(e){return Dp(e).replace(mm,dm).replace(fm,dm)})),n=t.map((function(e){return e.match(pm).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})).map((function(t){return Ip(Qp(Qp({},e),{output:t}))}));return function(e){var n=0;return t[0].replace(pm,(function(){return String(r[n++](e))})).replace(gm,vm)}},to:(e,t)=>new dg(e,t)},pg=Object.assign({to:Sp,now:Mp,frameLoop:Ep,colorNames:Tp,skipAnimation:kp,createStringInterpolator:yp,requestAnimationFrame:Rp,batchedUpdates:Cp,willAdvance:Pp},function(e){var t={};for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}(fg)),Sp=pg.to,Mp=pg.now,Ep=pg.frameLoop,Tp=pg.colorNames,kp=pg.skipAnimation,yp=pg.createStringInterpolator,Rp=pg.requestAnimationFrame,Cp=pg.batchedUpdates,Pp=pg.willAdvance;var mg=s((function(e,t){var n,r,i,o;if("object"==typeof performance&&"function"==typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,u=null,h=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(h,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=0<e?Math.floor(1e3/e):5};var x=new MessageChannel,_=x.port2;x.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(e){throw _.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,_.postMessage(null))},r=function(e,n){v=d((function(){e(t.unstable_now())}),n)},i=function(){f(v),v=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<M(i,t)))break e;e[r]=t,e[n]=i,n=r}}function S(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&0>M(a,n))void 0!==l&&0>M(l,a)?(e[r]=l,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==l&&0>M(l,n)))break e;e[r]=l,e[s]=n,r=s}}}return t}return null}function M(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],k=[],R=1,C=null,P=3,A=!1,L=!1,O=!1;function I(e){for(var t=S(k);null!==t;){if(null===t.callback)E(k);else{if(!(t.startTime<=e))break;E(k),t.sortIndex=t.expirationTime,w(T,t)}t=S(k)}}function N(e){if(O=!1,I(e),!L)if(null!==S(T))L=!0,n(D);else{var t=S(k);null!==t&&r(N,t.startTime-e)}}function D(e,n){L=!1,O&&(O=!1,i()),A=!0;var o=P;try{for(I(n),C=S(T);null!==C&&(!(C.expirationTime>n)||e&&!t.unstable_shouldYield());){var a=C.callback;if("function"==typeof a){C.callback=null,P=C.priorityLevel;var s=a(C.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?C.callback=s:C===S(T)&&E(T),I(n)}else E(T);C=S(T)}if(null!==C)var l=!0;else{var c=S(k);null!==c&&r(N,c.startTime-n),l=!1}return l}finally{C=null,P=o,A=!1}}var z=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){L||A||(L=!0,n(D))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return S(T)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();switch("object"==typeof a&&null!==a?a="number"==typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:R++,callback:o,priorityLevel:e,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(e.sortIndex=a,w(k,e),null===S(T)&&e===S(k)&&(O?i():O=!0,r(N,a-s))):(e.sortIndex=l,w(T,e),L||A||(L=!0,n(D))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}})),gg=s((function(e,t){"production"!==process.env.NODE_ENV&&function(){var e,n,r,i;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,u=function(){if(null!==l)try{var e=t.unstable_now();l(!0,e),l=null}catch(e){throw setTimeout(u,0),e}};e=function(t){null!==l?setTimeout(e,0,t):(l=t,setTimeout(u,0))},n=function(e,t){c=setTimeout(e,t)},r=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var f=window.requestAnimationFrame,p=window.cancelAnimationFrame;"function"!=typeof f&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,y=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},i=function(){},t.unstable_forceFrameRate=function(e){e<0||e>125?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):y=e>0?Math.floor(1e3/e):5};var x=new MessageChannel,_=x.port2;x.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();b=e+y;try{g(!0,e)?_.postMessage(null):(m=!1,g=null)}catch(e){throw _.postMessage(null),e}}else m=!1},e=function(e){g=e,m||(m=!0,_.postMessage(null))},n=function(e,n){v=h((function(){e(t.unstable_now())}),n)},r=function(){d(v),v=-1}}function w(e,t){var n=e.length;e.push(t),function(e,t,n){var r=n;for(;;){var i=r-1>>>1,o=e[i];if(!(void 0!==o&&M(o,t)>0))return;e[i]=t,e[r]=o,r=i}}(e,t,n)}function S(e){var t=e[0];return void 0===t?null:t}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();return n!==t&&(e[0]=n,function(e,t,n){var r=n,i=e.length;for(;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,l=e[s];if(void 0!==a&&M(a,t)<0)void 0!==l&&M(l,a)<0?(e[r]=l,e[s]=t,r=s):(e[r]=a,e[o]=t,r=o);else{if(!(void 0!==l&&M(l,t)<0))return;e[r]=l,e[s]=t,r=s}}}(e,n,0)),t}return null}function M(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=0,k=0,R="function"==typeof SharedArrayBuffer?new SharedArrayBuffer(4*Int32Array.BYTES_PER_ELEMENT):"function"==typeof ArrayBuffer?new ArrayBuffer(4*Int32Array.BYTES_PER_ELEMENT):null,C=null!==R?new Int32Array(R):[];C[0]=0,C[3]=0,C[1]=0;var P=0,A=null,L=null,O=0;function I(e){if(null!==L){var t=O;if((O+=e.length)+1>P){if((P*=2)>524288)return console.error("Scheduler Profiling: Event log exceeded maximum size. Don't forget to call `stopLoggingProfilingEvents()`."),void N();var n=new Int32Array(4*P);n.set(L),A=n.buffer,L=n}L.set(e,t)}}function N(){var e=A;return P=0,A=null,L=null,O=0,e}function D(e,t){C[3]++,null!==L&&I([1,1e3*t,e.id,e.priorityLevel])}function z(e,t){C[0]=0,C[1]=0,C[3]--,null!==L&&I([2,1e3*t,e.id])}function F(e,t){T++,C[0]=e.priorityLevel,C[1]=e.id,C[2]=T,null!==L&&I([5,1e3*t,e.id,T])}function U(e,t){C[0]=0,C[1]=0,C[2]=0,null!==L&&I([6,1e3*t,e.id,T])}var B=[],j=[],H=1,V=null,G=3,W=!1,q=!1,X=!1;function Y(e){for(var t=S(j);null!==t;){if(null===t.callback)E(j);else{if(!(t.startTime<=e))return;E(j),t.sortIndex=t.expirationTime,w(B,t),D(t,e),t.isQueued=!0}t=S(j)}}function Z(t){if(X=!1,Y(t),!q)if(null!==S(B))q=!0,e(Q);else{var r=S(j);null!==r&&n(Z,r.startTime-t)}}function Q(e,i){var o;o=i,null!==L&&I([8,1e3*o,k]),q=!1,X&&(X=!1,r()),W=!0;var a=G;try{try{return function(e,r){var i=r;Y(i),V=S(B);for(;null!==V&&(!(V.expirationTime>i)||e&&!t.unstable_shouldYield());){var o=V.callback;if("function"==typeof o){V.callback=null,G=V.priorityLevel;var a=V.expirationTime<=i;F(V,i);var s=o(a);i=t.unstable_now(),"function"==typeof s?(V.callback=s,U(V,i)):(z(V,i),V.isQueued=!1,V===S(B)&&E(B)),Y(i)}else E(B);V=S(B)}if(null!==V)return!0;var l=S(j);return null!==l&&n(Z,l.startTime-i),!1}(e,i)}catch(e){if(null!==V){var s=t.unstable_now();!function(e,t){C[0]=0,C[1]=0,C[3]--,null!==L&&I([3,1e3*t,e.id])}(V,s),V.isQueued=!1}throw e}}finally{V=null,G=a,W=!1,function(e){k++,null!==L&&I([7,1e3*e,k])}(t.unstable_now())}}var $=i,K={startLoggingProfilingEvents:function(){P=131072,A=new ArrayBuffer(4*P),L=new Int32Array(A),O=0},stopLoggingProfilingEvents:N,sharedProfilingBuffer:R};t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=K,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.isQueued&&(!function(e,t){C[3]--,null!==L&&I([4,1e3*t,e.id])}(e,t.unstable_now()),e.isQueued=!1),e.callback=null},t.unstable_continueExecution=function(){q||W||(q=!0,e(Q))},t.unstable_getCurrentPriorityLevel=function(){return G},t.unstable_getFirstCallbackNode=function(){return S(B)},t.unstable_next=function(e){var t;switch(G){case 1:case 2:case 3:t=3;break;default:t=G}var n=G;G=t;try{return e()}finally{G=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=$,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=G;G=e;try{return t()}finally{G=n}},t.unstable_scheduleCallback=function(i,o,a){var s,l,c=t.unstable_now();if("object"==typeof a&&null!==a){var u=a.delay;s="number"==typeof u&&u>0?c+u:c}else s=c;switch(i){case 1:l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;case 3:default:l=5e3}var h=s+l,d={id:H++,callback:o,priorityLevel:i,startTime:s,expirationTime:h,sortIndex:-1,isQueued:!1};return s>c?(d.sortIndex=s,w(j,d),null===S(B)&&d===S(j)&&(X?r():X=!0,n(Z,s-c))):(d.sortIndex=h,w(B,d),D(d,c),d.isQueued=!0,q||W||(q=!0,e(Q))),d},t.unstable_wrapCallback=function(e){var t=G;return function(){var n=G;G=t;try{return e.apply(this,arguments)}finally{G=n}}}}()})),vg=s((function(e){"production"===process.env.NODE_ENV?e.exports=mg:e.exports=gg}));function yg(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!m)throw Error(yg(227));var bg=new Set,xg={};function _g(e,t){wg(e,t),wg(e+"Capture",t)}function wg(e,t){for(xg[e]=t,e=0;e<t.length;e++)bg.add(t[e])}var Sg=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),Eg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mg=Object.prototype.hasOwnProperty,Tg={},kg={};function Rg(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Cg={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Cg[e]=new Rg(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Cg[t]=new Rg(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Cg[e]=new Rg(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Cg[e]=new Rg(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Cg[e]=new Rg(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Cg[e]=new Rg(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){Cg[e]=new Rg(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){Cg[e]=new Rg(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){Cg[e]=new Rg(e,5,!1,e.toLowerCase(),null,!1,!1)}));var Pg=/[\-:]([a-z])/g;function Ag(e){return e[1].toUpperCase()}function Lg(e,t,n,r){var i=Cg.hasOwnProperty(t)?Cg[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!Mg.call(kg,e)||!Mg.call(Tg,e)&&(Eg.test(e)?kg[e]=!0:(Tg[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Pg,Ag);Cg[t]=new Rg(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Pg,Ag);Cg[t]=new Rg(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Pg,Ag);Cg[t]=new Rg(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){Cg[e]=new Rg(e,1,!1,e.toLowerCase(),null,!1,!1)})),Cg.xlinkHref=new Rg("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){Cg[e]=new Rg(e,1,!1,e.toLowerCase(),null,!0,!0)}));var Og=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ig=60103,Ng=60106,Dg=60107,zg=60108,Fg=60114,Ug=60109,Bg=60110,jg=60112,Hg=60113,Vg=60120,Gg=60115,Wg=60116,qg=60121,Xg=60128,Yg=60129,Zg=60130,Qg=60131;if("function"==typeof Symbol&&Symbol.for){var $g=Symbol.for;Ig=$g("react.element"),Ng=$g("react.portal"),Dg=$g("react.fragment"),zg=$g("react.strict_mode"),Fg=$g("react.profiler"),Ug=$g("react.provider"),Bg=$g("react.context"),jg=$g("react.forward_ref"),Hg=$g("react.suspense"),Vg=$g("react.suspense_list"),Gg=$g("react.memo"),Wg=$g("react.lazy"),qg=$g("react.block"),$g("react.scope"),Xg=$g("react.opaque.id"),Yg=$g("react.debug_trace_mode"),Zg=$g("react.offscreen"),Qg=$g("react.legacy_hidden")}var Kg,Jg="function"==typeof Symbol&&Symbol.iterator;function ev(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=Jg&&e[Jg]||e["@@iterator"])?e:null}function tv(e){if(void 0===Kg)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Kg=t&&t[1]||""}return"\n"+Kg+e}var nv=!1;function rv(e,t){if(!e||nv)return"";nv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(e){if(e&&r&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{nv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?tv(e):""}function iv(e){switch(e.tag){case 5:return tv(e.type);case 16:return tv("Lazy");case 13:return tv("Suspense");case 19:return tv("SuspenseList");case 0:case 2:case 15:return e=rv(e.type,!1);case 11:return e=rv(e.type.render,!1);case 22:return e=rv(e.type._render,!1);case 1:return e=rv(e.type,!0);default:return""}}function ov(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case Dg:return"Fragment";case Ng:return"Portal";case Fg:return"Profiler";case zg:return"StrictMode";case Hg:return"Suspense";case Vg:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case Bg:return(e.displayName||"Context")+".Consumer";case Ug:return(e._context.displayName||"Context")+".Provider";case jg:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case Gg:return ov(e.type);case qg:return ov(e._render);case Wg:t=e._payload,e=e._init;try{return ov(e(t))}catch(e){}}return null}function av(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function sv(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function lv(e){e._valueTracker||(e._valueTracker=function(e){var t=sv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function cv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sv(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function uv(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hv(e,t){var n=t.checked;return d({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function dv(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=av(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function fv(e,t){null!=(t=t.checked)&&Lg(e,"checked",t,!1)}function pv(e,t){fv(e,t);var n=av(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?gv(e,t.type,n):t.hasOwnProperty("defaultValue")&&gv(e,t.type,av(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function mv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function gv(e,t,n){"number"===t&&uv(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function vv(e,t){return e=d({children:void 0},t),(t=function(e){var t="";return m.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function yv(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+av(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function bv(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(yg(91));return d({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xv(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(yg(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(yg(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:av(n)}}function _v(e,t){var n=av(t.value),r=av(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function wv(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Sv="http://www.w3.org/1999/xhtml",Ev="http://www.w3.org/2000/svg";function Mv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tv(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Mv(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var kv,Rv,Cv=(Rv=function(e,t){if(e.namespaceURI!==Ev||"innerHTML"in e)e.innerHTML=t;else{for((kv=kv||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=kv.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Rv(e,t)}))}:Rv);function Pv(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Av={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lv=["Webkit","ms","Moz","O"];function Ov(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Av.hasOwnProperty(e)&&Av[e]?(""+t).trim():t+"px"}function Iv(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=Ov(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Av).forEach((function(e){Lv.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Av[t]=Av[e]}))}));var Nv=d({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dv(e,t){if(t){if(Nv[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(yg(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(yg(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(yg(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(yg(62))}}function zv(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Fv(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Uv=null,Bv=null,jv=null;function Hv(e){if(e=h_(e)){if("function"!=typeof Uv)throw Error(yg(280));var t=e.stateNode;t&&(t=f_(t),Uv(e.stateNode,e.type,t))}}function Vv(e){Bv?jv?jv.push(e):jv=[e]:Bv=e}function Gv(){if(Bv){var e=Bv,t=jv;if(jv=Bv=null,Hv(e),t)for(e=0;e<t.length;e++)Hv(t[e])}}function Wv(e,t){return e(t)}function qv(e,t,n,r,i){return e(t,n,r,i)}function Xv(){}var Yv=Wv,Zv=!1,Qv=!1;function $v(){null===Bv&&null===jv||(Xv(),Gv())}function Kv(e,t){var n=e.stateNode;if(null===n)return null;var r=f_(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(yg(231,t,typeof n));return n}var Jv=!1;if(Sg)try{var ey={};Object.defineProperty(ey,"passive",{get:function(){Jv=!0}}),window.addEventListener("test",ey,ey),window.removeEventListener("test",ey,ey)}catch(Rv){Jv=!1}function ty(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var ny=!1,ry=null,iy=!1,oy=null,ay={onError:function(e){ny=!0,ry=e}};function sy(e,t,n,r,i,o,a,s,l){ny=!1,ry=null,ty.apply(ay,arguments)}function ly(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function cy(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function uy(e){if(ly(e)!==e)throw Error(yg(188))}function hy(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=ly(e)))throw Error(yg(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return uy(i),e;if(o===r)return uy(i),t;o=o.sibling}throw Error(yg(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(yg(189))}}if(n.alternate!==r)throw Error(yg(190))}if(3!==n.tag)throw Error(yg(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function dy(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var fy,py,my,gy,vy=!1,yy=[],by=null,xy=null,_y=null,wy=new Map,Sy=new Map,Ey=[],My="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ty(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ky(e,t){switch(e){case"focusin":case"focusout":by=null;break;case"dragenter":case"dragleave":xy=null;break;case"mouseover":case"mouseout":_y=null;break;case"pointerover":case"pointerout":wy.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sy.delete(t.pointerId)}}function Ry(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Ty(t,n,r,i,o),null!==t&&(null!==(t=h_(t))&&py(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Cy(e){var t=u_(e.target);if(null!==t){var n=ly(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=cy(n)))return e.blockedOn=t,void gy(e.lanePriority,(function(){vg.unstable_runWithPriority(e.priority,(function(){my(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Py(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=hb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=h_(n))&&py(t),e.blockedOn=n,!1;t.shift()}return!0}function Ay(e,t,n){Py(e)&&n.delete(t)}function Ly(){for(vy=!1;0<yy.length;){var e=yy[0];if(null!==e.blockedOn){null!==(e=h_(e.blockedOn))&&fy(e);break}for(var t=e.targetContainers;0<t.length;){var n=hb(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&yy.shift()}null!==by&&Py(by)&&(by=null),null!==xy&&Py(xy)&&(xy=null),null!==_y&&Py(_y)&&(_y=null),wy.forEach(Ay),Sy.forEach(Ay)}function Oy(e,t){e.blockedOn===t&&(e.blockedOn=null,vy||(vy=!0,vg.unstable_scheduleCallback(vg.unstable_NormalPriority,Ly)))}function Iy(e){function t(t){return Oy(t,e)}if(0<yy.length){Oy(yy[0],e);for(var n=1;n<yy.length;n++){var r=yy[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==by&&Oy(by,e),null!==xy&&Oy(xy,e),null!==_y&&Oy(_y,e),wy.forEach(t),Sy.forEach(t),n=0;n<Ey.length;n++)(r=Ey[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ey.length&&null===(n=Ey[0]).blockedOn;)Cy(n),null===n.blockedOn&&Ey.shift()}function Ny(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Dy={animationend:Ny("Animation","AnimationEnd"),animationiteration:Ny("Animation","AnimationIteration"),animationstart:Ny("Animation","AnimationStart"),transitionend:Ny("Transition","TransitionEnd")},zy={},Fy={};function Uy(e){if(zy[e])return zy[e];if(!Dy[e])return e;var t,n=Dy[e];for(t in n)if(n.hasOwnProperty(t)&&t in Fy)return zy[e]=n[t];return e}Sg&&(Fy=document.createElement("div").style,"AnimationEvent"in window||(delete Dy.animationend.animation,delete Dy.animationiteration.animation,delete Dy.animationstart.animation),"TransitionEvent"in window||delete Dy.transitionend.transition);var By=Uy("animationend"),jy=Uy("animationiteration"),Hy=Uy("animationstart"),Vy=Uy("transitionend"),Gy=new Map,Wy=new Map,qy=["abort","abort",By,"animationEnd",jy,"animationIteration",Hy,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Vy,"transitionEnd","waiting","waiting"];function Xy(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Wy.set(r,t),Gy.set(r,i),_g(i,[r])}}(0,vg.unstable_now)();var Yy=8;function Zy(e){if(0!=(1&e))return Yy=15,1;if(0!=(2&e))return Yy=14,2;if(0!=(4&e))return Yy=13,4;var t=24&e;return 0!==t?(Yy=12,t):0!=(32&e)?(Yy=11,32):0!==(t=192&e)?(Yy=10,t):0!=(256&e)?(Yy=9,256):0!==(t=3584&e)?(Yy=8,t):0!=(4096&e)?(Yy=7,4096):0!==(t=4186112&e)?(Yy=6,t):0!==(t=62914560&e)?(Yy=5,t):67108864&e?(Yy=4,67108864):0!=(134217728&e)?(Yy=3,134217728):0!==(t=805306368&e)?(Yy=2,t):0!=(1073741824&e)?(Yy=1,1073741824):(Yy=8,e)}function Qy(e,t){var n=e.pendingLanes;if(0===n)return Yy=0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Yy=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=Zy(l),i=Yy):0!==(s&=o)&&(r=Zy(s),i=Yy)}else 0!==(o=n&~a)?(r=Zy(o),i=Yy):0!==s&&(r=Zy(s),i=Yy);if(0===r)return 0;if(r=n&((0>(r=31-nb(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0==(t&a)){if(Zy(t),i<=Yy)return t;Yy=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-nb(t)),r|=e[n],t&=~i;return r}function $y(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ky(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Jy(24&~t))?Ky(10,t):e;case 10:return 0===(e=Jy(192&~t))?Ky(8,t):e;case 8:return 0===(e=Jy(3584&~t))&&(0===(e=Jy(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Jy(805306368&~t))&&(t=268435456),t}throw Error(yg(358,e))}function Jy(e){return e&-e}function eb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tb(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-nb(t)]=n}var nb=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(rb(e)/ib|0)|0},rb=Math.log,ib=Math.LN2;var ob=vg.unstable_UserBlockingPriority,ab=vg.unstable_runWithPriority,sb=!0;function lb(e,t,n,r){Zv||Xv();var i=ub,o=Zv;Zv=!0;try{qv(i,e,t,n,r)}finally{(Zv=o)||$v()}}function cb(e,t,n,r){ab(ob,ub.bind(null,e,t,n,r))}function ub(e,t,n,r){var i;if(sb)if((i=0==(4&t))&&0<yy.length&&-1<My.indexOf(e))e=Ty(null,e,t,n,r),yy.push(e);else{var o=hb(e,t,n,r);if(null===o)i&&ky(e,r);else{if(i){if(-1<My.indexOf(e))return e=Ty(o,e,t,n,r),void yy.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return by=Ry(by,e,t,n,r,i),!0;case"dragenter":return xy=Ry(xy,e,t,n,r,i),!0;case"mouseover":return _y=Ry(_y,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return wy.set(o,Ry(wy.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Sy.set(o,Ry(Sy.get(o)||null,e,t,n,r,i)),!0}return!1}(o,e,t,n,r))return;ky(e,r)}Vx(e,t,r,null,n)}}}function hb(e,t,n,r){var i=Fv(r);if(null!==(i=u_(i))){var o=ly(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=cy(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Vx(e,t,r,i,n),null}var db=null,fb=null,pb=null;function mb(){if(pb)return pb;var e,t,n=fb,r=n.length,i="value"in db?db.value:db.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return pb=i.slice(e,1<t?1-t:void 0)}function gb(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function vb(){return!0}function yb(){return!1}function bb(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?vb:yb,this.isPropagationStopped=yb,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=vb)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=vb)},persist:function(){},isPersistent:vb}),t}var xb,_b,wb,Sb={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eb=bb(Sb),Mb=d({},Sb,{view:0,detail:0}),Tb=bb(Mb),kb=d({},Mb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fb,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wb&&(wb&&"mousemove"===e.type?(xb=e.screenX-wb.screenX,_b=e.screenY-wb.screenY):_b=xb=0,wb=e),xb)},movementY:function(e){return"movementY"in e?e.movementY:_b}}),Rb=bb(kb),Cb=bb(d({},kb,{dataTransfer:0})),Pb=bb(d({},Mb,{relatedTarget:0})),Ab=bb(d({},Sb,{animationName:0,elapsedTime:0,pseudoElement:0})),Lb=bb(d({},Sb,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),Ob=bb(d({},Sb,{data:0})),Ib={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Db={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Db[e])&&!!t[e]}function Fb(){return zb}var Ub=bb(d({},Mb,{key:function(e){if(e.key){var t=Ib[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=gb(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Nb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fb,charCode:function(e){return"keypress"===e.type?gb(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?gb(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Bb=bb(d({},kb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),jb=bb(d({},Mb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fb})),Hb=bb(d({},Sb,{propertyName:0,elapsedTime:0,pseudoElement:0})),Vb=bb(d({},kb,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Gb=[9,13,27,32],Wb=Sg&&"CompositionEvent"in window,qb=null;Sg&&"documentMode"in document&&(qb=document.documentMode);var Xb=Sg&&"TextEvent"in window&&!qb,Yb=Sg&&(!Wb||qb&&8<qb&&11>=qb),Zb=String.fromCharCode(32),Qb=!1;function $b(e,t){switch(e){case"keyup":return-1!==Gb.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kb(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Jb=!1;var ex={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ex[e.type]:"textarea"===t}function nx(e,t,n,r){Vv(r),0<(t=Wx(t,"onChange")).length&&(n=new Eb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var rx=null,ix=null;function ox(e){zx(e,0)}function ax(e){if(cv(d_(e)))return e}function sx(e,t){if("change"===e)return t}var lx=!1;if(Sg){var cx;if(Sg){var ux="oninput"in document;if(!ux){var hx=document.createElement("div");hx.setAttribute("oninput","return;"),ux="function"==typeof hx.oninput}cx=ux}else cx=!1;lx=cx&&(!document.documentMode||9<document.documentMode)}function dx(){rx&&(rx.detachEvent("onpropertychange",fx),ix=rx=null)}function fx(e){if("value"===e.propertyName&&ax(ix)){var t=[];if(nx(t,ix,e,Fv(e)),e=ox,Zv)e(t);else{Zv=!0;try{Wv(e,t)}finally{Zv=!1,$v()}}}}function px(e,t,n){"focusin"===e?(dx(),ix=n,(rx=t).attachEvent("onpropertychange",fx)):"focusout"===e&&dx()}function mx(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ax(ix)}function gx(e,t){if("click"===e)return ax(t)}function vx(e,t){if("input"===e||"change"===e)return ax(t)}var yx="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},bx=Object.prototype.hasOwnProperty;function xx(e,t){if(yx(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!bx.call(t,n[r])||!yx(e[n[r]],t[n[r]]))return!1;return!0}function _x(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wx(e,t){var n,r=_x(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=_x(r)}}function Sx(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Sx(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Ex(){for(var e=window,t=uv();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=uv((e=t.contentWindow).document)}return t}function Mx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Tx=Sg&&"documentMode"in document&&11>=document.documentMode,kx=null,Rx=null,Cx=null,Px=!1;function Ax(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;Px||null==kx||kx!==uv(r)||("selectionStart"in(r=kx)&&Mx(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Cx&&xx(Cx,r)||(Cx=r,0<(r=Wx(Rx,"onSelect")).length&&(t=new Eb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kx)))}Xy("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Xy("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Xy(qy,2);for(var Lx="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ox=0;Ox<Lx.length;Ox++)Wy.set(Lx[Ox],0);wg("onMouseEnter",["mouseout","mouseover"]),wg("onMouseLeave",["mouseout","mouseover"]),wg("onPointerEnter",["pointerout","pointerover"]),wg("onPointerLeave",["pointerout","pointerover"]),_g("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_g("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_g("onBeforeInput",["compositionend","keypress","textInput","paste"]),_g("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_g("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_g("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ix="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ix));function Dx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,s,l){if(sy.apply(this,arguments),ny){if(!ny)throw Error(yg(198));var c=ry;ny=!1,ry=null,iy||(iy=!0,oy=c)}}(r,t,void 0,e),e.currentTarget=null}function zx(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;Dx(i,s,c),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;Dx(i,s,c),o=l}}}if(iy)throw e=oy,iy=!1,oy=null,e}function Fx(e,t){var n=p_(t),r=e+"__bubble";n.has(r)||(Hx(t,e,2,!1),n.add(r))}var Ux="_reactListening"+Math.random().toString(36).slice(2);function Bx(e){e[Ux]||(e[Ux]=!0,bg.forEach((function(t){Nx.has(t)||jx(t,!1,e,null),jx(t,!0,e,null)})))}function jx(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Nx.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=p_(o),s=e+"__"+(t?"capture":"bubble");a.has(s)||(t&&(i|=4),Hx(o,e,i,t),a.add(s))}function Hx(e,t,n,r){var i=Wy.get(t);switch(void 0===i?2:i){case 0:i=lb;break;case 1:i=cb;break;default:i=ub}n=i.bind(null,t,n,e),i=void 0,!Jv||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vx(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=u_(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Qv)return e(t,n);Qv=!0;try{Yv(e,t,n)}finally{Qv=!1,$v()}}((function(){var r=o,i=Fv(n),a=[];e:{var s=Gy.get(e);if(void 0!==s){var l=Eb,c=e;switch(e){case"keypress":if(0===gb(n))break e;case"keydown":case"keyup":l=Ub;break;case"focusin":c="focus",l=Pb;break;case"focusout":c="blur",l=Pb;break;case"beforeblur":case"afterblur":l=Pb;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=Rb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Cb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=jb;break;case By:case jy:case Hy:l=Ab;break;case Vy:l=Hb;break;case"scroll":l=Tb;break;case"wheel":l=Vb;break;case"copy":case"cut":case"paste":l=Lb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Bb}var u=0!=(4&t),h=!u&&"scroll"===e,d=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Kv(p,d))&&u.push(Gx(p,m,f)))),h)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),a.push({event:s,listeners:u}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(c=n.relatedTarget||n.fromElement)||!u_(c)&&!c[l_])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?u_(c):null)&&(c!==(h=ly(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=Rb,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Bb,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:d_(l),f=null==c?s:d_(c),(s=new u(m,p+"leave",l,n,i)).target=h,s.relatedTarget=f,m=null,u_(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=qx(f))p++;for(f=0,m=d;m;m=qx(m))f++;for(;0<p-f;)u=qx(u),p--;for(;0<f-p;)d=qx(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=qx(u),d=qx(d)}u=null}else u=null;null!==l&&Xx(a,s,l,u,!1),null!==c&&null!==h&&Xx(a,h,c,u,!0)}if("select"===(l=(s=r?d_(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=sx;else if(tx(s))if(lx)g=vx;else{g=mx;var v=px}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=gx);switch(g&&(g=g(e,r))?nx(a,g,n,i):(v&&v(e,s,r),"focusout"===e&&(v=s._wrapperState)&&v.controlled&&"number"===s.type&&gv(s,"number",s.value)),v=r?d_(r):window,e){case"focusin":(tx(v)||"true"===v.contentEditable)&&(kx=v,Rx=r,Cx=null);break;case"focusout":Cx=Rx=kx=null;break;case"mousedown":Px=!0;break;case"contextmenu":case"mouseup":case"dragend":Px=!1,Ax(a,n,i);break;case"selectionchange":if(Tx)break;case"keydown":case"keyup":Ax(a,n,i)}var y;if(Wb)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Jb?$b(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Yb&&"ko"!==n.locale&&(Jb||"onCompositionStart"!==b?"onCompositionEnd"===b&&Jb&&(y=mb()):(fb="value"in(db=i)?db.value:db.textContent,Jb=!0)),0<(v=Wx(r,b)).length&&(b=new Ob(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Kb(n))&&(b.data=y))),(y=Xb?function(e,t){switch(e){case"compositionend":return Kb(t);case"keypress":return 32!==t.which?null:(Qb=!0,Zb);case"textInput":return(e=t.data)===Zb&&Qb?null:e;default:return null}}(e,n):function(e,t){if(Jb)return"compositionend"===e||!Wb&&$b(e,t)?(e=mb(),pb=fb=db=null,Jb=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Yb&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Wx(r,"onBeforeInput")).length&&(i=new Ob("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}zx(a,t)}))}function Gx(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wx(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Kv(e,n))&&r.unshift(Gx(e,o,i)),null!=(o=Kv(e,t))&&r.push(Gx(e,o,i))),e=e.return}return r}function qx(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xx(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Kv(n,o))&&a.unshift(Gx(n,l,s)):i||null!=(l=Kv(n,o))&&a.push(Gx(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}function Yx(){}var Zx=null,Qx=null;function $x(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kx(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Jx="function"==typeof setTimeout?setTimeout:void 0,e_="function"==typeof clearTimeout?clearTimeout:void 0;function t_(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function n_(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function r_(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var i_=0;var o_=Math.random().toString(36).slice(2),a_="__reactFiber$"+o_,s_="__reactProps$"+o_,l_="__reactContainer$"+o_,c_="__reactEvents$"+o_;function u_(e){var t=e[a_];if(t)return t;for(var n=e.parentNode;n;){if(t=n[l_]||n[a_]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=r_(e);null!==e;){if(n=e[a_])return n;e=r_(e)}return t}n=(e=n).parentNode}return null}function h_(e){return!(e=e[a_]||e[l_])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function d_(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(yg(33))}function f_(e){return e[s_]||null}function p_(e){var t=e[c_];return void 0===t&&(t=e[c_]=new Set),t}var m_=[],g_=-1;function v_(e){return{current:e}}function y_(e){0>g_||(e.current=m_[g_],m_[g_]=null,g_--)}function b_(e,t){g_++,m_[g_]=e.current,e.current=t}var x_={},__=v_(x_),w_=v_(!1),S_=x_;function E_(e,t){var n=e.type.contextTypes;if(!n)return x_;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function M_(e){return null!=(e=e.childContextTypes)}function T_(){y_(w_),y_(__)}function k_(e,t,n){if(__.current!==x_)throw Error(yg(168));b_(__,t),b_(w_,n)}function R_(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(yg(108,ov(t)||"Unknown",i));return d({},n,r)}function C_(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||x_,S_=__.current,b_(__,e),b_(w_,w_.current),!0}function P_(e,t,n){var r=e.stateNode;if(!r)throw Error(yg(169));n?(e=R_(e,t,S_),r.__reactInternalMemoizedMergedChildContext=e,y_(w_),y_(__),b_(__,e)):y_(w_),b_(w_,n)}var A_=null,L_=null,O_=vg.unstable_runWithPriority,I_=vg.unstable_scheduleCallback,N_=vg.unstable_cancelCallback,D_=vg.unstable_shouldYield,z_=vg.unstable_requestPaint,F_=vg.unstable_now,U_=vg.unstable_getCurrentPriorityLevel,B_=vg.unstable_ImmediatePriority,j_=vg.unstable_UserBlockingPriority,H_=vg.unstable_NormalPriority,V_=vg.unstable_LowPriority,G_=vg.unstable_IdlePriority,W_={},q_=void 0!==z_?z_:function(){},X_=null,Y_=null,Z_=!1,Q_=F_(),$_=1e4>Q_?F_:function(){return F_()-Q_};function K_(){switch(U_()){case B_:return 99;case j_:return 98;case H_:return 97;case V_:return 96;case G_:return 95;default:throw Error(yg(332))}}function J_(e){switch(e){case 99:return B_;case 98:return j_;case 97:return H_;case 96:return V_;case 95:return G_;default:throw Error(yg(332))}}function ew(e,t){return e=J_(e),O_(e,t)}function tw(e,t,n){return e=J_(e),I_(e,t,n)}function nw(){if(null!==Y_){var e=Y_;Y_=null,N_(e)}rw()}function rw(){if(!Z_&&null!==X_){Z_=!0;var e=0;try{var t=X_;ew(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),X_=null}catch(t){throw null!==X_&&(X_=X_.slice(e+1)),I_(B_,nw),t}finally{Z_=!1}}}var iw=Og.ReactCurrentBatchConfig;function ow(e,t){if(e&&e.defaultProps){for(var n in t=d({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var aw=v_(null),sw=null,lw=null,cw=null;function uw(){cw=lw=sw=null}function hw(e){var t=aw.current;y_(aw),e.type._context._currentValue=t}function dw(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function fw(e,t){sw=e,cw=lw=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(GS=!0),e.firstContext=null)}function pw(e,t){if(cw!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(cw=e,t=1073741823),t={context:e,observedBits:t,next:null},null===lw){if(null===sw)throw Error(yg(308));lw=t,sw.dependencies={lanes:0,firstContext:t,responders:null}}else lw=lw.next=t;return e._currentValue}var mw=!1;function gw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function vw(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yw(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function bw(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function xw(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function _w(e,t,n,r){var i=e.updateQueue;mw=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;if(null!==u){var h=(u=u.updateQueue).lastBaseUpdate;h!==a&&(null===h?u.firstBaseUpdate=c:h.next=c,u.lastBaseUpdate=l)}}if(null!==o){for(h=i.baseState,a=0,u=c=l=null;;){s=o.lane;var f=o.eventTime;if((r&s)===s){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(s=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(s="function"==typeof(p=m.payload)?p.call(f,h,s):p))break e;h=d({},h,s);break e;case 2:mw=!0}}null!==o.callback&&(e.flags|=32,null===(s=i.effects)?i.effects=[o]:s.push(o))}else f={eventTime:f,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=s;if(null===(o=o.next)){if(null===(s=i.shared.pending))break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,YE|=a,e.lanes=a,e.memoizedState=h}}function ww(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(yg(191,i));i.call(r)}}}var Sw=(new m.Component).refs;function Ew(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Mw={isMounted:function(e){return!!(e=e._reactInternals)&&ly(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=bM(),i=xM(e),o=yw(r,i);o.payload=t,null!=n&&(o.callback=n),bw(e,o),_M(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=bM(),i=xM(e),o=yw(r,i);o.tag=1,o.payload=t,null!=n&&(o.callback=n),bw(e,o),_M(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=bM(),r=xM(e),i=yw(n,r);i.tag=2,null!=t&&(i.callback=t),bw(e,i),_M(e,r,n)}};function Tw(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!xx(n,r)||!xx(i,o))}function kw(e,t,n){var r=!1,i=x_,o=t.contextType;return"object"==typeof o&&null!==o?o=pw(o):(i=M_(t)?S_:__.current,o=(r=null!=(r=t.contextTypes))?E_(e,i):x_),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Mw,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Rw(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Mw.enqueueReplaceState(t,t.state,null)}function Cw(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Sw,gw(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=pw(o):(o=M_(t)?S_:__.current,i.context=E_(e,o)),_w(e,n,i,r),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(Ew(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Mw.enqueueReplaceState(i,i.state,null),_w(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var Pw=Array.isArray;function Aw(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(yg(309));var r=n.stateNode}if(!r)throw Error(yg(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Sw&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(yg(284));if(!n._owner)throw Error(yg(290,e))}return e}function Lw(e,t){if("textarea"!==e.type)throw Error(yg(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ow(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=JM(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=rT(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Aw(e,t,n),r.return=e,r):((r=eT(n.type,n.key,n.props,null,e.mode,r)).ref=Aw(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=iT(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=tT(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=rT(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ig:return(n=eT(t.type,t.key,t.props,null,e.mode,n)).ref=Aw(e,null,t),n.return=e,n;case Ng:return(t=iT(t,e.mode,n)).return=e,t}if(Pw(t)||ev(t))return(t=tT(t,e.mode,n,null)).return=e,t;Lw(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:s(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ig:return n.key===i?n.type===Dg?u(e,t,n.props.children,r,i):l(e,t,n,r):null;case Ng:return n.key===i?c(e,t,n,r):null}if(Pw(n)||ev(n))return null!==i?null:u(e,t,n,r,null);Lw(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ig:return e=e.get(null===r.key?n:r.key)||null,r.type===Dg?u(t,e,r.props.children,i,r.key):l(t,e,r,i);case Ng:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Pw(r)||ev(r))return u(t,e=e.get(n)||null,r,i,null);Lw(t,r)}return null}function p(i,a,s,l){for(var c=null,u=null,p=a,m=a=0,g=null;null!==p&&m<s.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var v=d(i,p,s[m],l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v,p=g}if(m===s.length)return n(i,p),c;if(null===p){for(;m<s.length;m++)null!==(p=h(i,s[m],l))&&(a=o(p,a,m),null===u?c=p:u.sibling=p,u=p);return c}for(p=r(i,p);m<s.length;m++)null!==(g=f(p,i,m,s[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&p.forEach((function(e){return t(i,e)})),c}function m(i,a,s,l){var c=ev(s);if("function"!=typeof c)throw Error(yg(150));if(null==(s=c.call(s)))throw Error(yg(151));for(var u=c=null,p=a,m=a=0,g=null,v=s.next();null!==p&&!v.done;m++,v=s.next()){p.index>m?(g=p,p=null):g=p.sibling;var y=d(i,p,v.value,l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),a=o(y,a,m),null===u?c=y:u.sibling=y,u=y,p=g}if(v.done)return n(i,p),c;if(null===p){for(;!v.done;m++,v=s.next())null!==(v=h(i,v.value,l))&&(a=o(v,a,m),null===u?c=v:u.sibling=v,u=v);return c}for(p=r(i,p);!v.done;m++,v=s.next())null!==(v=f(p,i,m,v.value,l))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),a=o(v,a,m),null===u?c=v:u.sibling=v,u=v);return e&&p.forEach((function(e){return t(i,e)})),c}return function(e,r,o,s){var l="object"==typeof o&&null!==o&&o.type===Dg&&null===o.key;l&&(o=o.props.children);var c="object"==typeof o&&null!==o;if(c)switch(o.$$typeof){case Ig:e:{for(c=o.key,l=r;null!==l;){if(l.key===c){switch(l.tag){case 7:if(o.type===Dg){n(e,l.sibling),(r=i(l,o.props.children)).return=e,e=r;break e}break;default:if(l.elementType===o.type){n(e,l.sibling),(r=i(l,o.props)).ref=Aw(e,l,o),r.return=e,e=r;break e}}n(e,l);break}t(e,l),l=l.sibling}o.type===Dg?((r=tT(o.props.children,e.mode,s,o.key)).return=e,e=r):((s=eT(o.type,o.key,o.props,null,e.mode,s)).ref=Aw(e,r,o),s.return=e,e=s)}return a(e);case Ng:e:{for(l=o.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=iT(o,e.mode,s)).return=e,e=r}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=rT(o,e.mode,s)).return=e,e=r),a(e);if(Pw(o))return p(e,r,o,s);if(ev(o))return m(e,r,o,s);if(c&&Lw(e,o),void 0===o&&!l)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(yg(152,ov(e.type)||"Component"))}return n(e,r)}}var Iw=Ow(!0),Nw=Ow(!1),Dw={},zw=v_(Dw),Fw=v_(Dw),Uw=v_(Dw);function Bw(e){if(e===Dw)throw Error(yg(174));return e}function jw(e,t){switch(b_(Uw,t),b_(Fw,e),b_(zw,Dw),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Tv(null,"");break;default:t=Tv(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}y_(zw),b_(zw,t)}function Hw(){y_(zw),y_(Fw),y_(Uw)}function Vw(e){Bw(Uw.current);var t=Bw(zw.current),n=Tv(t,e.type);t!==n&&(b_(Fw,e),b_(zw,n))}function Gw(e){Fw.current===e&&(y_(zw),y_(Fw))}var Ww=v_(0);function qw(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Xw=null,Yw=null,Zw=!1;function Qw(e,t){var n=$M(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function $w(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Kw(e){if(Zw){var t=Yw;if(t){var n=t;if(!$w(e,t)){if(!(t=n_(n.nextSibling))||!$w(e,t))return e.flags=-1025&e.flags|2,Zw=!1,void(Xw=e);Qw(Xw,n)}Xw=e,Yw=n_(t.firstChild)}else e.flags=-1025&e.flags|2,Zw=!1,Xw=e}}function Jw(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Xw=e}function eS(e){if(e!==Xw)return!1;if(!Zw)return Jw(e),Zw=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kx(t,e.memoizedProps))for(t=Yw;t;)Qw(e,t),t=n_(t.nextSibling);if(Jw(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(yg(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Yw=n_(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Yw=null}}else Yw=Xw?n_(e.stateNode.nextSibling):null;return!0}function tS(){Yw=Xw=null,Zw=!1}var nS=[];function rS(){for(var e=0;e<nS.length;e++)nS[e]._workInProgressVersionPrimary=null;nS.length=0}var iS=Og.ReactCurrentDispatcher,oS=Og.ReactCurrentBatchConfig,aS=0,sS=null,lS=null,cS=null,uS=!1,hS=!1;function dS(){throw Error(yg(321))}function fS(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!yx(e[n],t[n]))return!1;return!0}function pS(e,t,n,r,i,o){if(aS=o,sS=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,iS.current=null===e||null===e.memoizedState?BS:jS,e=n(r,i),hS){o=0;do{if(hS=!1,!(25>o))throw Error(yg(301));o+=1,cS=lS=null,t.updateQueue=null,iS.current=HS,e=n(r,i)}while(hS)}if(iS.current=US,t=null!==lS&&null!==lS.next,aS=0,cS=lS=sS=null,uS=!1,t)throw Error(yg(300));return e}function mS(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cS?sS.memoizedState=cS=e:cS=cS.next=e,cS}function gS(){if(null===lS){var e=sS.alternate;e=null!==e?e.memoizedState:null}else e=lS.next;var t=null===cS?sS.memoizedState:cS.next;if(null!==t)cS=t,lS=e;else{if(null===e)throw Error(yg(310));e={memoizedState:(lS=e).memoizedState,baseState:lS.baseState,baseQueue:lS.baseQueue,queue:lS.queue,next:null},null===cS?sS.memoizedState=cS=e:cS=cS.next=e}return cS}function vS(e,t){return"function"==typeof t?t(e):t}function yS(e){var t=gS(),n=t.queue;if(null===n)throw Error(yg(311));n.lastRenderedReducer=e;var r=lS,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=a=o=null,l=i;do{var c=l.lane;if((aS&c)===c)null!==s&&(s=s.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===e?l.eagerState:e(r,l.action);else{var u={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===s?(a=s=u,o=r):s=s.next=u,sS.lanes|=c,YE|=c}l=l.next}while(null!==l&&l!==i);null===s?o=r:s.next=a,yx(r,t.memoizedState)||(GS=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function bS(e){var t=gS(),n=t.queue;if(null===n)throw Error(yg(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);yx(o,t.memoizedState)||(GS=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function xS(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(aS&e)===e)&&(t._workInProgressVersionPrimary=r,nS.push(t))),e)return n(t._source);throw nS.push(t),Error(yg(350))}function _S(e,t,n,r){var i=BE;if(null===i)throw Error(yg(349));var o=t._getVersion,a=o(t._source),s=iS.current,l=s.useState((function(){return xS(i,t,n)})),c=l[1],u=l[0];l=cS;var h=e.memoizedState,d=h.refs,f=d.getSnapshot,p=h.source;h=h.subscribe;var m=sS;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var e=o(t._source);if(!yx(a,e)){e=n(t._source),yx(u,e)||(c(e),e=xM(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,s=e;0<s;){var l=31-nb(s),h=1<<l;r[l]|=e,s&=~h}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=xM(m);i.mutableReadLanes|=r&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,r]),yx(f,n)&&yx(p,t)&&yx(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:vS,lastRenderedState:u}).dispatch=c=FS.bind(null,sS,e),l.queue=e,l.baseQueue=null,u=xS(i,t,n),l.memoizedState=l.baseState=u),u}function wS(e,t,n){return _S(gS(),e,t,n)}function SS(e){var t=mS();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:vS,lastRenderedState:e}).dispatch=FS.bind(null,sS,e),[t.memoizedState,e]}function ES(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=sS.updateQueue)?(t={lastEffect:null},sS.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function MS(e){return e={current:e},mS().memoizedState=e}function TS(){return gS().memoizedState}function kS(e,t,n,r){var i=mS();sS.flags|=e,i.memoizedState=ES(1|t,n,void 0,void 0===r?null:r)}function RS(e,t,n,r){var i=gS();r=void 0===r?null:r;var o=void 0;if(null!==lS){var a=lS.memoizedState;if(o=a.destroy,null!==r&&fS(r,a.deps))return void ES(t,n,o,r)}sS.flags|=e,i.memoizedState=ES(1|t,n,o,r)}function CS(e,t){return kS(516,4,e,t)}function PS(e,t){return RS(516,4,e,t)}function AS(e,t){return RS(4,2,e,t)}function LS(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function OS(e,t,n){return n=null!=n?n.concat([e]):null,RS(4,2,LS.bind(null,t,e),n)}function IS(){}function NS(e,t){var n=gS();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fS(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function DS(e,t){var n=gS();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fS(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function zS(e,t){var n=K_();ew(98>n?98:n,(function(){e(!0)})),ew(97<n?97:n,(function(){var n=oS.transition;oS.transition=1;try{e(!1),t()}finally{oS.transition=n}}))}function FS(e,t,n){var r=bM(),i=xM(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o,a=e.alternate,e===sS||null!==a&&a===sS)hS=uS=!0;else{if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,yx(l,s))return}catch(e){}_M(e,i,r)}}var US={readContext:pw,useCallback:dS,useContext:dS,useEffect:dS,useImperativeHandle:dS,useLayoutEffect:dS,useMemo:dS,useReducer:dS,useRef:dS,useState:dS,useDebugValue:dS,useDeferredValue:dS,useTransition:dS,useMutableSource:dS,useOpaqueIdentifier:dS,unstable_isNewReconciler:!1},BS={readContext:pw,useCallback:function(e,t){return mS().memoizedState=[e,void 0===t?null:t],e},useContext:pw,useEffect:CS,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,kS(4,2,LS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kS(4,2,e,t)},useMemo:function(e,t){var n=mS();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mS();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=FS.bind(null,sS,e),[r.memoizedState,e]},useRef:MS,useState:SS,useDebugValue:IS,useDeferredValue:function(e){var t=SS(e),n=t[0],r=t[1];return CS((function(){var t=oS.transition;oS.transition=1;try{r(e)}finally{oS.transition=t}}),[e]),n},useTransition:function(){var e=SS(!1),t=e[0];return MS(e=zS.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=mS();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},_S(r,e,t,n)},useOpaqueIdentifier:function(){if(Zw){var e=!1,t=function(e){return{$$typeof:Xg,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(i_++).toString(36))),Error(yg(355))})),n=SS(t)[1];return 0==(2&sS.mode)&&(sS.flags|=516,ES(5,(function(){n("r:"+(i_++).toString(36))}),void 0,null)),t}return SS(t="r:"+(i_++).toString(36)),t},unstable_isNewReconciler:!1},jS={readContext:pw,useCallback:NS,useContext:pw,useEffect:PS,useImperativeHandle:OS,useLayoutEffect:AS,useMemo:DS,useReducer:yS,useRef:TS,useState:function(){return yS(vS)},useDebugValue:IS,useDeferredValue:function(e){var t=yS(vS),n=t[0],r=t[1];return PS((function(){var t=oS.transition;oS.transition=1;try{r(e)}finally{oS.transition=t}}),[e]),n},useTransition:function(){var e=yS(vS)[0];return[TS().current,e]},useMutableSource:wS,useOpaqueIdentifier:function(){return yS(vS)[0]},unstable_isNewReconciler:!1},HS={readContext:pw,useCallback:NS,useContext:pw,useEffect:PS,useImperativeHandle:OS,useLayoutEffect:AS,useMemo:DS,useReducer:bS,useRef:TS,useState:function(){return bS(vS)},useDebugValue:IS,useDeferredValue:function(e){var t=bS(vS),n=t[0],r=t[1];return PS((function(){var t=oS.transition;oS.transition=1;try{r(e)}finally{oS.transition=t}}),[e]),n},useTransition:function(){var e=bS(vS)[0];return[TS().current,e]},useMutableSource:wS,useOpaqueIdentifier:function(){return bS(vS)[0]},unstable_isNewReconciler:!1},VS=Og.ReactCurrentOwner,GS=!1;function WS(e,t,n,r){t.child=null===e?Nw(t,null,n,r):Iw(t,e.child,n,r)}function qS(e,t,n,r,i){n=n.render;var o=t.ref;return fw(t,i),r=pS(e,t,n,r,o,i),null===e||GS?(t.flags|=1,WS(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,dE(e,t,i))}function XS(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||KM(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=eT(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,YS(e,t,a,r,i,o))}return a=e.child,0==(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:xx)(i,r)&&e.ref===t.ref)?dE(e,t,o):(t.flags|=1,(e=JM(a,r)).ref=t.ref,e.return=t,t.child=e)}function YS(e,t,n,r,i,o){if(null!==e&&xx(e.memoizedProps,r)&&e.ref===t.ref){if(GS=!1,0==(o&i))return t.lanes=e.lanes,dE(e,t,o);0!=(16384&e.flags)&&(GS=!0)}return $S(e,t,n,r,o)}function ZS(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},CM(t,n);else{if(0==(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},CM(t,e),null;t.memoizedState={baseLanes:0},CM(t,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,CM(t,r);return WS(e,t,i,n),t.child}function QS(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function $S(e,t,n,r,i){var o=M_(n)?S_:__.current;return o=E_(t,o),fw(t,i),n=pS(e,t,n,r,o,i),null===e||GS?(t.flags|=1,WS(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,dE(e,t,i))}function KS(e,t,n,r,i){if(M_(n)){var o=!0;C_(t)}else o=!1;if(fw(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),kw(t,n,r),Cw(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=pw(c):c=E_(t,c=M_(n)?S_:__.current);var u=n.getDerivedStateFromProps,h="function"==typeof u||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||l!==c)&&Rw(t,a,r,c),mw=!1;var d=t.memoizedState;a.state=d,_w(t,r,a,i),l=t.memoizedState,s!==r||d!==l||w_.current||mw?("function"==typeof u&&(Ew(t,n,u,r),l=t.memoizedState),(s=mw||Tw(t,n,s,r,d,l,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4)):("function"==typeof a.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.flags|=4),r=!1)}else{a=t.stateNode,vw(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ow(t.type,s),a.props=c,h=t.pendingProps,d=a.context,"object"==typeof(l=n.contextType)&&null!==l?l=pw(l):l=E_(t,l=M_(n)?S_:__.current);var f=n.getDerivedStateFromProps;(u="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==h||d!==l)&&Rw(t,a,r,l),mw=!1,d=t.memoizedState,a.state=d,_w(t,r,a,i);var p=t.memoizedState;s!==h||d!==p||w_.current||mw?("function"==typeof f&&(Ew(t,n,f,r),p=t.memoizedState),(c=mw||Tw(t,n,c,r,d,p,l))?(u||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),r=!1)}return JS(e,t,n,r,o,i)}function JS(e,t,n,r,i,o){QS(e,t);var a=0!=(64&t.flags);if(!r&&!a)return i&&P_(t,n,!1),dE(e,t,o);r=t.stateNode,VS.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Iw(t,e.child,null,o),t.child=Iw(t,null,s,o)):WS(e,t,s,o),t.memoizedState=r.state,i&&P_(t,n,!0),t.child}function eE(e){var t=e.stateNode;t.pendingContext?k_(0,t.pendingContext,t.pendingContext!==t.context):t.context&&k_(0,t.context,!1),jw(e,t.containerInfo)}var tE,nE,rE,iE={dehydrated:null,retryLane:0};function oE(e,t,n){var r,i=t.pendingProps,o=Ww.current,a=!1;return(r=0!=(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!=(2&o)),r?(a=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),b_(Ww,1&o),null===e?(void 0!==i.fallback&&Kw(t),e=i.children,o=i.fallback,a?(e=aE(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=iE,e):"number"==typeof i.unstable_expectedLoadTime?(e=aE(t,e,o,n),t.child.memoizedState={baseLanes:n},t.memoizedState=iE,t.lanes=33554432,e):((n=nT({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,a?(i=lE(e,t,i.children,i.fallback,n),a=t.child,o=e.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=e.childLanes&~n,t.memoizedState=iE,i):(n=sE(e,t,i.children,n),t.memoizedState=null,n))}function aE(e,t,n,r){var i=e.mode,o=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=t):o=nT(t,i,0,null),n=tT(n,i,r,null),o.return=e,n.return=e,o.sibling=n,e.child=o,n}function sE(e,t,n,r){var i=e.child;return e=i.sibling,n=JM(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function lE(e,t,n,r,i){var o=t.mode,a=e.child;e=a.sibling;var s={mode:"hidden",children:n};return 0==(2&o)&&t.child!==a?((n=t.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=a,a.nextEffect=null):t.firstEffect=t.lastEffect=null):n=JM(a,s),null!==e?r=JM(e,r):(r=tT(r,o,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function cE(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),dw(e.return,t)}function uE(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function hE(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(WS(e,t,r.children,n),0!=(2&(r=Ww.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&cE(e,n);else if(19===e.tag)cE(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(b_(Ww,r),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===qw(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),uE(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===qw(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}uE(t,!0,n,null,o,t.lastEffect);break;case"together":uE(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function dE(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),YE|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(yg(153));if(null!==t.child){for(n=JM(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=JM(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function fE(e,t){if(!Zw)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pE(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return M_(t.type)&&T_(),null;case 3:return Hw(),y_(w_),y_(__),rS(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(eS(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Gw(t);var i=Bw(Uw.current);if(n=t.type,null!==e&&null!=t.stateNode)nE(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(yg(166));return null}if(e=Bw(zw.current),eS(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[a_]=t,r[s_]=o,n){case"dialog":Fx("cancel",r),Fx("close",r);break;case"iframe":case"object":case"embed":Fx("load",r);break;case"video":case"audio":for(e=0;e<Ix.length;e++)Fx(Ix[e],r);break;case"source":Fx("error",r);break;case"img":case"image":case"link":Fx("error",r),Fx("load",r);break;case"details":Fx("toggle",r);break;case"input":dv(r,o),Fx("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fx("invalid",r);break;case"textarea":xv(r,o),Fx("invalid",r)}for(var a in Dv(n,o),e=null,o)o.hasOwnProperty(a)&&(i=o[a],"children"===a?"string"==typeof i?r.textContent!==i&&(e=["children",i]):"number"==typeof i&&r.textContent!==""+i&&(e=["children",""+i]):xg.hasOwnProperty(a)&&null!=i&&"onScroll"===a&&Fx("scroll",r));switch(n){case"input":lv(r),mv(r,o,!0);break;case"textarea":lv(r),wv(r);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(r.onclick=Yx)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(a=9===i.nodeType?i:i.ownerDocument,e===Sv&&(e=Mv(n)),e===Sv?"script"===n?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),"select"===n&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[a_]=t,e[s_]=r,tE(e,t),t.stateNode=e,a=zv(n,r),n){case"dialog":Fx("cancel",e),Fx("close",e),i=r;break;case"iframe":case"object":case"embed":Fx("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ix.length;i++)Fx(Ix[i],e);i=r;break;case"source":Fx("error",e),i=r;break;case"img":case"image":case"link":Fx("error",e),Fx("load",e),i=r;break;case"details":Fx("toggle",e),i=r;break;case"input":dv(e,r),i=hv(e,r),Fx("invalid",e);break;case"option":i=vv(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=d({},r,{value:void 0}),Fx("invalid",e);break;case"textarea":xv(e,r),i=bv(e,r),Fx("invalid",e);break;default:i=r}Dv(n,i);var s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];"style"===o?Iv(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&Cv(e,l):"children"===o?"string"==typeof l?("textarea"!==n||""!==l)&&Pv(e,l):"number"==typeof l&&Pv(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(xg.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fx("scroll",e):null!=l&&Lg(e,o,l,a))}switch(n){case"input":lv(e),mv(e,r,!1);break;case"textarea":lv(e),wv(e);break;case"option":null!=r.value&&e.setAttribute("value",""+av(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?yv(e,!!r.multiple,o,!1):null!=r.defaultValue&&yv(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=Yx)}$x(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)rE(0,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(yg(166));n=Bw(Uw.current),Bw(zw.current),eS(t)?(r=t.stateNode,n=t.memoizedProps,r[a_]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[a_]=t,t.stateNode=r)}return null;case 13:return y_(Ww),r=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&eS(t):n=null!==e.memoizedState,r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ww.current)?0===WE&&(WE=3):(0!==WE&&3!==WE||(WE=4),null===BE||0==(134217727&YE)&&0==(134217727&ZE)||MM(BE,HE))),(r||n)&&(t.flags|=4),null);case 4:return Hw(),null===e&&Bx(t.stateNode.containerInfo),null;case 10:return hw(t),null;case 17:return M_(t.type)&&T_(),null;case 19:if(y_(Ww),null===(r=t.memoizedState))return null;if(o=0!=(64&t.flags),null===(a=r.rendering))if(o)fE(r,!1);else{if(0!==WE||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(a=qw(e))){for(t.flags|=64,fE(r,!1),null!==(o=a.updateQueue)&&(t.updateQueue=o,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(a=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return b_(Ww,1&Ww.current|2),t.child}e=e.sibling}null!==r.tail&&$_()>JE&&(t.flags|=64,o=!0,fE(r,!1),t.lanes=33554432)}else{if(!o)if(null!==(e=qw(a))){if(t.flags|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),fE(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!Zw)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*$_()-r.renderingStartTime>JE&&1073741824!==n&&(t.flags|=64,o=!0,fE(r,!1),t.lanes=33554432);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=$_(),n.sibling=null,t=Ww.current,b_(Ww,o?1&t|2:1&t),n):null;case 23:case 24:return PM(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(yg(156,t.tag))}function mE(e){switch(e.tag){case 1:M_(e.type)&&T_();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Hw(),y_(w_),y_(__),rS(),0!=(64&(t=e.flags)))throw Error(yg(285));return e.flags=-4097&t|64,e;case 5:return Gw(e),null;case 13:return y_(Ww),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return y_(Ww),null;case 4:return Hw(),null;case 10:return hw(e),null;case 23:case 24:return PM(),null;default:return null}}function gE(e,t){try{var n="",r=t;do{n+=iv(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function vE(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}tE=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},nE=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Bw(zw.current);var o,a=null;switch(n){case"input":i=hv(e,i),r=hv(e,r),a=[];break;case"option":i=vv(e,i),r=vv(e,r),a=[];break;case"select":i=d({},i,{value:void 0}),r=d({},r,{value:void 0}),a=[];break;case"textarea":i=bv(e,i),r=bv(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=Yx)}for(c in Dv(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(xg.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(xg.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Fx("scroll",e),a||s===l||(a=[])):"object"==typeof l&&null!==l&&l.$$typeof===Xg?l.toString():(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},rE=function(e,t,n,r){n!==r&&(t.flags|=4)};var yE="function"==typeof WeakMap?WeakMap:Map;function bE(e,t,n){(n=yw(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){rM||(rM=!0,iM=r),vE(0,t)},n}function xE(e,t,n){(n=yw(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return vE(0,t),r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===oM?oM=new Set([this]):oM.add(this),vE(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var _E="function"==typeof WeakSet?WeakSet:Set;function wE(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){XM(e,t)}else t.current=null}function SE(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ow(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&t_(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(yg(163))}function EE(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(GM(n,e),VM(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:ow(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ww(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ww(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&$x(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Iy(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(yg(163))}function ME(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=Ov("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function TE(e,t){if(L_&&"function"==typeof L_.onCommitFiberUnmount)try{L_.onCommitFiberUnmount(A_,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))GM(t,n);else{r=t;try{i()}catch(e){XM(r,e)}}n=n.next}while(n!==e)}break;case 1:if(wE(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){XM(t,e)}break;case 5:wE(t);break;case 4:LE(e,t)}}function kE(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function RE(e){return 5===e.tag||3===e.tag||4===e.tag}function CE(e){e:{for(var t=e.return;null!==t;){if(RE(t))break e;t=t.return}throw Error(yg(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(yg(161))}16&n.flags&&(Pv(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||RE(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?PE(e,n,t):AE(e,n,t)}function PE(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Yx));else if(4!==r&&null!==(e=e.child))for(PE(e,t,n),e=e.sibling;null!==e;)PE(e,t,n),e=e.sibling}function AE(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(AE(e,t,n),e=e.sibling;null!==e;)AE(e,t,n),e=e.sibling}function LE(e,t){for(var n,r,i=t,o=!1;;){if(!o){o=i.return;e:for(;;){if(null===o)throw Error(yg(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}o=o.return}o=!0}if(5===i.tag||6===i.tag){e:for(var a=e,s=i,l=s;;)if(TE(a,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===s)break e;for(;null===l.sibling;){if(null===l.return||l.return===s)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(a=n,s=i.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(TE(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function OE(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[s_]=r,"input"===e&&"radio"===r.type&&null!=r.name&&fv(n,r),zv(e,i),t=zv(e,r),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?Iv(n,s):"dangerouslySetInnerHTML"===a?Cv(n,s):"children"===a?Pv(n,s):Lg(n,a,s,t)}switch(e){case"input":pv(n,r);break;case"textarea":_v(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?yv(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?yv(n,!!r.multiple,r.defaultValue,!0):yv(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(yg(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,Iy(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(KE=$_(),ME(t.child,!0)),void IE(t);case 19:return void IE(t);case 17:return;case 23:case 24:return void ME(t,null!==t.memoizedState)}throw Error(yg(163))}function IE(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new _E),t.forEach((function(t){var r=ZM.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function NE(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var DE=Math.ceil,zE=Og.ReactCurrentDispatcher,FE=Og.ReactCurrentOwner,UE=0,BE=null,jE=null,HE=0,VE=0,GE=v_(0),WE=0,qE=null,XE=0,YE=0,ZE=0,QE=0,$E=null,KE=0,JE=1/0;function eM(){JE=$_()+500}var tM,nM=null,rM=!1,iM=null,oM=null,aM=!1,sM=null,lM=90,cM=[],uM=[],hM=null,dM=0,fM=null,pM=-1,mM=0,gM=0,vM=null,yM=!1;function bM(){return 0!=(48&UE)?$_():-1!==pM?pM:pM=$_()}function xM(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===K_()?1:2;if(0===mM&&(mM=XE),0!==iw.transition){0!==gM&&(gM=null!==$E?$E.pendingLanes:0),e=mM;var t=4186112&~gM;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=K_(),0!=(4&UE)&&98===e?e=Ky(12,mM):e=Ky(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),mM),e}function _M(e,t,n){if(50<dM)throw dM=0,fM=null,Error(yg(185));if(null===(e=wM(e,t)))return null;tb(e,t,n),e===BE&&(ZE|=t,4===WE&&MM(e,HE));var r=K_();1===t?0!=(8&UE)&&0==(48&UE)?TM(e):(SM(e,n),0===UE&&(eM(),nw())):(0==(4&UE)||98!==r&&99!==r||(null===hM?hM=new Set([e]):hM.add(e)),SM(e,n)),$E=e}function wM(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function SM(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-nb(a),l=1<<s,c=o[s];if(-1===c){if(0==(l&r)||0!=(l&i)){c=t,Zy(l);var u=Yy;o[s]=10<=u?c+250:6<=u?c+5e3:-1}}else c<=t&&(e.expiredLanes|=l);a&=~l}if(r=Qy(e,e===BE?HE:0),t=Yy,0===r)null!==n&&(n!==W_&&N_(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==W_&&N_(n)}15===t?(n=TM.bind(null,e),null===X_?(X_=[n],Y_=I_(B_,rw)):X_.push(n),n=W_):14===t?n=tw(99,TM.bind(null,e)):n=tw(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(yg(358,e))}}(t),EM.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function EM(e){if(pM=-1,gM=mM=0,0!=(48&UE))throw Error(yg(327));var t=e.callbackNode;if(HM()&&e.callbackNode!==t)return null;var n=Qy(e,e===BE?HE:0);if(0===n)return null;var r=n,i=UE;UE|=16;var o=OM();for(BE===e&&HE===r||(eM(),AM(e,r));;)try{DM();break}catch(t){LM(e,t)}if(uw(),zE.current=o,UE=i,null!==jE?r=0:(BE=null,HE=0,r=WE),0!=(XE&ZE))AM(e,0);else if(0!==r){if(2===r&&(UE|=64,e.hydrate&&(e.hydrate=!1,t_(e.containerInfo)),0!==(n=$y(e))&&(r=IM(e,n))),1===r)throw t=qE,AM(e,0),MM(e,n),SM(e,$_()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(yg(345));case 2:UM(e);break;case 3:if(MM(e,n),(62914560&n)===n&&10<(r=KE+500-$_())){if(0!==Qy(e,0))break;if(((i=e.suspendedLanes)&n)!==n){bM(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jx(UM.bind(null,e),r);break}UM(e);break;case 4:if(MM(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var a=31-nb(n);o=1<<a,(a=r[a])>i&&(i=a),n&=~o}if(n=i,10<(n=(120>(n=$_()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*DE(n/1960))-n)){e.timeoutHandle=Jx(UM.bind(null,e),n);break}UM(e);break;case 5:UM(e);break;default:throw Error(yg(329))}}return SM(e,$_()),e.callbackNode===t?EM.bind(null,e):null}function MM(e,t){for(t&=~QE,t&=~ZE,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-nb(t),r=1<<n;e[n]=-1,t&=~r}}function TM(e){if(0!=(48&UE))throw Error(yg(327));if(HM(),e===BE&&0!=(e.expiredLanes&HE)){var t=HE,n=IM(e,t);0!=(XE&ZE)&&(n=IM(e,t=Qy(e,t)))}else n=IM(e,t=Qy(e,0));if(0!==e.tag&&2===n&&(UE|=64,e.hydrate&&(e.hydrate=!1,t_(e.containerInfo)),0!==(t=$y(e))&&(n=IM(e,t))),1===n)throw n=qE,AM(e,0),MM(e,t),SM(e,$_()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,UM(e),SM(e,$_()),null}function kM(e,t){var n=UE;UE|=1;try{return e(t)}finally{0===(UE=n)&&(eM(),nw())}}function RM(e,t){var n=UE;UE&=-2,UE|=8;try{return e(t)}finally{0===(UE=n)&&(eM(),nw())}}function CM(e,t){b_(GE,VE),VE|=t,XE|=t}function PM(){VE=GE.current,y_(GE)}function AM(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,e_(n)),null!==jE)for(n=jE.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&T_();break;case 3:Hw(),y_(w_),y_(__),rS();break;case 5:Gw(r);break;case 4:Hw();break;case 13:case 19:y_(Ww);break;case 10:hw(r);break;case 23:case 24:PM()}n=n.return}BE=e,jE=JM(e.current,null),HE=VE=XE=t,WE=0,qE=null,QE=ZE=YE=0}function LM(e,t){for(;;){var n=jE;try{if(uw(),iS.current=US,uS){for(var r=sS.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uS=!1}if(aS=0,cS=lS=sS=null,hS=!1,FE.current=null,null===n||null===n.return){WE=1,qE=t,jE=null;break}e:{var o=e,a=n.return,s=n,l=t;if(t=HE,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var c=l;if(0==(2&s.mode)){var u=s.alternate;u?(s.updateQueue=u.updateQueue,s.memoizedState=u.memoizedState,s.lanes=u.lanes):(s.updateQueue=null,s.memoizedState=null)}var h=0!=(1&Ww.current),d=a;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var m=d.memoizedProps;f=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(f){var g=d.updateQueue;if(null===g){var v=new Set;v.add(c),d.updateQueue=v}else g.add(c);if(0==(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var y=yw(-1,1);y.tag=2,bw(s,y)}s.lanes|=1;break e}l=void 0,s=t;var b=o.pingCache;if(null===b?(b=o.pingCache=new yE,l=new Set,b.set(c,l)):void 0===(l=b.get(c))&&(l=new Set,b.set(c,l)),!l.has(s)){l.add(s);var x=YM.bind(null,o,c,s);c.then(x,x)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((ov(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==WE&&(WE=2),l=gE(l,s),d=a;do{switch(d.tag){case 3:o=l,d.flags|=4096,t&=-t,d.lanes|=t,xw(d,bE(0,o,t));break e;case 1:o=l;var _=d.type,w=d.stateNode;if(0==(64&d.flags)&&("function"==typeof _.getDerivedStateFromError||null!==w&&"function"==typeof w.componentDidCatch&&(null===oM||!oM.has(w)))){d.flags|=4096,t&=-t,d.lanes|=t,xw(d,xE(d,o,t));break e}}d=d.return}while(null!==d)}FM(n)}catch(e){t=e,jE===n&&null!==n&&(jE=n=n.return);continue}break}}function OM(){var e=zE.current;return zE.current=US,null===e?US:e}function IM(e,t){var n=UE;UE|=16;var r=OM();for(BE===e&&HE===t||AM(e,t);;)try{NM();break}catch(t){LM(e,t)}if(uw(),UE=n,zE.current=r,null!==jE)throw Error(yg(261));return BE=null,HE=0,WE}function NM(){for(;null!==jE;)zM(jE)}function DM(){for(;null!==jE&&!D_();)zM(jE)}function zM(e){var t=tM(e.alternate,e,VE);e.memoizedProps=e.pendingProps,null===t?FM(e):jE=t,FE.current=null}function FM(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=pE(n,t,VE)))return void(jE=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&VE)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=mE(t)))return n.flags&=2047,void(jE=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(jE=t);jE=t=e}while(null!==t);0===WE&&(WE=5)}function UM(e){var t=K_();return ew(99,BM.bind(null,e,t)),null}function BM(e,t){do{HM()}while(null!==sM);if(0!=(48&UE))throw Error(yg(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(yg(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,s=e.expirationTimes;0<o;){var l=31-nb(o),c=1<<l;i[l]=0,a[l]=-1,s[l]=-1,o&=~c}if(null!==hM&&0==(24&r)&&hM.has(e)&&hM.delete(e),e===BE&&(jE=BE=null,HE=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=UE,UE|=32,FE.current=null,Zx=sb,Mx(a=Ex())){if("selectionStart"in a)s={start:a.selectionStart,end:a.selectionEnd};else e:if(s=(s=a.ownerDocument)&&s.defaultView||window,(c=s.getSelection&&s.getSelection())&&0!==c.rangeCount){s=c.anchorNode,o=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{s.nodeType,l.nodeType}catch(e){s=null;break e}var u=0,h=-1,d=-1,f=0,p=0,m=a,g=null;t:for(;;){for(var v;m!==s||0!==o&&3!==m.nodeType||(h=u+o),m!==l||0!==c&&3!==m.nodeType||(d=u+c),3===m.nodeType&&(u+=m.nodeValue.length),null!==(v=m.firstChild);)g=m,m=v;for(;;){if(m===a)break t;if(g===s&&++f===o&&(h=u),g===l&&++p===c&&(d=u),null!==(v=m.nextSibling))break;g=(m=g).parentNode}m=v}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Qx={focusedElem:a,selectionRange:s},sb=!1,vM=null,yM=!1,nM=r;do{try{jM()}catch(e){if(null===nM)throw Error(yg(330));XM(nM,e),nM=nM.nextEffect}}while(null!==nM);vM=null,nM=r;do{try{for(a=e;null!==nM;){var y=nM.flags;if(16&y&&Pv(nM.stateNode,""),128&y){var b=nM.alternate;if(null!==b){var x=b.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&y){case 2:CE(nM),nM.flags&=-3;break;case 6:CE(nM),nM.flags&=-3,OE(nM.alternate,nM);break;case 1024:nM.flags&=-1025;break;case 1028:nM.flags&=-1025,OE(nM.alternate,nM);break;case 4:OE(nM.alternate,nM);break;case 8:LE(a,s=nM);var _=s.alternate;kE(s),null!==_&&kE(_)}nM=nM.nextEffect}}catch(e){if(null===nM)throw Error(yg(330));XM(nM,e),nM=nM.nextEffect}}while(null!==nM);if(x=Qx,b=Ex(),y=x.focusedElem,a=x.selectionRange,b!==y&&y&&y.ownerDocument&&Sx(y.ownerDocument.documentElement,y)){null!==a&&Mx(y)&&(b=a.start,void 0===(x=a.end)&&(x=b),"selectionStart"in y?(y.selectionStart=b,y.selectionEnd=Math.min(x,y.value.length)):(x=(b=y.ownerDocument||document)&&b.defaultView||window).getSelection&&(x=x.getSelection(),s=y.textContent.length,_=Math.min(a.start,s),a=void 0===a.end?_:Math.min(a.end,s),!x.extend&&_>a&&(s=a,a=_,_=s),s=wx(y,_),o=wx(y,a),s&&o&&(1!==x.rangeCount||x.anchorNode!==s.node||x.anchorOffset!==s.offset||x.focusNode!==o.node||x.focusOffset!==o.offset)&&((b=b.createRange()).setStart(s.node,s.offset),x.removeAllRanges(),_>a?(x.addRange(b),x.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),x.addRange(b))))),b=[];for(x=y;x=x.parentNode;)1===x.nodeType&&b.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<b.length;y++)(x=b[y]).element.scrollLeft=x.left,x.element.scrollTop=x.top}sb=!!Zx,Qx=Zx=null,e.current=n,nM=r;do{try{for(y=e;null!==nM;){var w=nM.flags;if(36&w&&EE(y,nM.alternate,nM),128&w){b=void 0;var S=nM.ref;if(null!==S){var E=nM.stateNode;switch(nM.tag){case 5:b=E;break;default:b=E}"function"==typeof S?S(b):S.current=b}}nM=nM.nextEffect}}catch(e){if(null===nM)throw Error(yg(330));XM(nM,e),nM=nM.nextEffect}}while(null!==nM);nM=null,q_(),UE=i}else e.current=n;if(aM)aM=!1,sM=e,lM=t;else for(nM=r;null!==nM;)t=nM.nextEffect,nM.nextEffect=null,8&nM.flags&&((w=nM).sibling=null,w.stateNode=null),nM=t;if(0===(r=e.pendingLanes)&&(oM=null),1===r?e===fM?dM++:(dM=0,fM=e):dM=0,n=n.stateNode,L_&&"function"==typeof L_.onCommitFiberRoot)try{L_.onCommitFiberRoot(A_,n,void 0,64==(64&n.current.flags))}catch(e){}if(SM(e,$_()),rM)throw rM=!1,e=iM,iM=null,e;return 0!=(8&UE)||nw(),null}function jM(){for(;null!==nM;){var e=nM.alternate;yM||null===vM||(0!=(8&nM.flags)?dy(nM,vM)&&(yM=!0):13===nM.tag&&NE(e,nM)&&dy(nM,vM)&&(yM=!0));var t=nM.flags;0!=(256&t)&&SE(e,nM),0==(512&t)||aM||(aM=!0,tw(97,(function(){return HM(),null}))),nM=nM.nextEffect}}function HM(){if(90!==lM){var e=97<lM?97:lM;return lM=90,ew(e,WM)}return!1}function VM(e,t){cM.push(t,e),aM||(aM=!0,tw(97,(function(){return HM(),null})))}function GM(e,t){uM.push(t,e),aM||(aM=!0,tw(97,(function(){return HM(),null})))}function WM(){if(null===sM)return!1;var e=sM;if(sM=null,0!=(48&UE))throw Error(yg(331));var t=UE;UE|=32;var n=uM;uM=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===o)throw Error(yg(330));XM(o,e)}}for(n=cM,cM=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var s=i.create;i.destroy=s()}catch(e){if(null===o)throw Error(yg(330));XM(o,e)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return UE=t,nw(),!0}function qM(e,t,n){bw(e,t=bE(0,t=gE(n,t),1)),t=bM(),null!==(e=wM(e,1))&&(tb(e,1,t),SM(e,t))}function XM(e,t){if(3===e.tag)qM(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){qM(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===oM||!oM.has(r))){var i=xE(n,e=gE(t,e),1);if(bw(n,i),i=bM(),null!==(n=wM(n,1)))tb(n,1,i),SM(n,i);else if("function"==typeof r.componentDidCatch&&(null===oM||!oM.has(r)))try{r.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function YM(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=bM(),e.pingedLanes|=e.suspendedLanes&n,BE===e&&(HE&n)===n&&(4===WE||3===WE&&(62914560&HE)===HE&&500>$_()-KE?AM(e,0):QE|=n),SM(e,t)}function ZM(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===K_()?1:2:(0===mM&&(mM=XE),0===(t=Jy(62914560&~mM))&&(t=4194304))),n=bM(),null!==(e=wM(e,t))&&(tb(e,t,n),SM(e,n))}function QM(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function $M(e,t,n,r){return new QM(e,t,n,r)}function KM(e){return!(!(e=e.prototype)||!e.isReactComponent)}function JM(e,t){var n=e.alternate;return null===n?((n=$M(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eT(e,t,n,r,i,o){var a=2;if(r=e,"function"==typeof e)KM(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case Dg:return tT(n.children,i,o,t);case Yg:a=8,i|=16;break;case zg:a=8,i|=1;break;case Fg:return(e=$M(12,n,t,8|i)).elementType=Fg,e.type=Fg,e.lanes=o,e;case Hg:return(e=$M(13,n,t,i)).type=Hg,e.elementType=Hg,e.lanes=o,e;case Vg:return(e=$M(19,n,t,i)).elementType=Vg,e.lanes=o,e;case Zg:return nT(n,i,o,t);case Qg:return(e=$M(24,n,t,i)).elementType=Qg,e.lanes=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ug:a=10;break e;case Bg:a=9;break e;case jg:a=11;break e;case Gg:a=14;break e;case Wg:a=16,r=null;break e;case qg:a=22;break e}throw Error(yg(130,null==e?e:typeof e,""))}return(t=$M(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function tT(e,t,n,r){return(e=$M(7,e,r,t)).lanes=n,e}function nT(e,t,n,r){return(e=$M(23,e,r,t)).elementType=Zg,e.lanes=n,e}function rT(e,t,n){return(e=$M(6,e,null,t)).lanes=n,e}function iT(e,t,n){return(t=$M(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function oT(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=eb(0),this.expirationTimes=eb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eb(0),this.mutableSourceEagerHydrationData=null}function aT(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ng,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function sT(e,t,n,r){var i=t.current,o=bM(),a=xM(i);e:if(n){t:{if(ly(n=n._reactInternals)!==n||1!==n.tag)throw Error(yg(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(M_(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(yg(171))}if(1===n.tag){var l=n.type;if(M_(l)){n=R_(n,l,s);break e}}n=s}else n=x_;return null===t.context?t.context=n:t.pendingContext=n,(t=yw(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),bw(i,t),_M(i,a,o),a}function lT(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function cT(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function uT(e,t){cT(e,t),(e=e.alternate)&&cT(e,t)}function hT(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new oT(e,t,null!=n&&!0===n.hydrate),t=$M(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,gw(t),e[l_]=n.current,Bx(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function dT(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function fT(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=lT(a);s.call(e)}}sT(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new hT(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"==typeof i){var l=i;i=function(){var e=lT(a);l.call(e)}}RM((function(){sT(t,a,e,i)}))}return lT(a)}function pT(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!dT(t))throw Error(yg(200));return aT(e,t,null,n)}tM=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||w_.current)GS=!0;else{if(0==(n&r)){switch(GS=!1,t.tag){case 3:eE(t),tS();break;case 5:Vw(t);break;case 1:M_(t.type)&&C_(t);break;case 4:jw(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;b_(aw,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?oE(e,t,n):(b_(Ww,1&Ww.current),null!==(t=dE(e,t,n))?t.sibling:null);b_(Ww,1&Ww.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(64&e.flags)){if(r)return hE(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),b_(Ww,Ww.current),r)break;return null;case 23:case 24:return t.lanes=0,ZS(e,t,n)}return dE(e,t,n)}GS=0!=(16384&e.flags)}else GS=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=E_(t,__.current),fw(t,n),i=pS(null,t,r,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,M_(r)){var o=!0;C_(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,gw(t);var a=r.getDerivedStateFromProps;"function"==typeof a&&Ew(t,r,a,e),i.updater=Mw,t.stateNode=i,i._reactInternals=t,Cw(t,r,e,n),t=JS(null,t,r,!0,o,n)}else t.tag=0,WS(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(o=i._init)(i._payload),t.type=i,o=t.tag=function(e){if("function"==typeof e)return KM(e)?1:0;if(null!=e){if((e=e.$$typeof)===jg)return 11;if(e===Gg)return 14}return 2}(i),e=ow(i,e),o){case 0:t=$S(null,t,i,e,n);break e;case 1:t=KS(null,t,i,e,n);break e;case 11:t=qS(null,t,i,e,n);break e;case 14:t=XS(null,t,i,ow(i.type,e),r,n);break e}throw Error(yg(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,$S(e,t,r,i=t.elementType===r?i:ow(r,i),n);case 1:return r=t.type,i=t.pendingProps,KS(e,t,r,i=t.elementType===r?i:ow(r,i),n);case 3:if(eE(t),r=t.updateQueue,null===e||null===r)throw Error(yg(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,vw(e,t),_w(t,r,null,n),(r=t.memoizedState.element)===i)tS(),t=dE(e,t,n);else{if((o=(i=t.stateNode).hydrate)&&(Yw=n_(t.stateNode.containerInfo.firstChild),Xw=t,o=Zw=!0),o){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(o=e[i])._workInProgressVersionPrimary=e[i+1],nS.push(o);for(n=Nw(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else WS(e,t,r,n),tS();t=t.child}return t;case 5:return Vw(t),null===e&&Kw(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,Kx(r,i)?a=null:null!==o&&Kx(r,o)&&(t.flags|=16),QS(e,t),WS(e,t,a,n),t.child;case 6:return null===e&&Kw(t),null;case 13:return oE(e,t,n);case 4:return jw(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Iw(t,null,r,n):WS(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,qS(e,t,r,i=t.elementType===r?i:ow(r,i),n);case 7:return WS(e,t,t.pendingProps,n),t.child;case 8:case 12:return WS(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var s=t.type._context;if(b_(aw,s._currentValue),s._currentValue=o,null!==a)if(s=a.value,0===(o=yx(s,o)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(s,o):1073741823))){if(a.children===i.children&&!w_.current){t=dE(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&o)){1===s.tag&&((c=yw(-1,n&-n)).tag=2,bw(s,c)),s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),dw(s.return,n),l.lanes|=n;break}c=c.next}}else a=10===s.tag&&s.type===t.type?null:s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}WS(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,fw(t,n),r=r(i=pw(i,o.unstable_observedBits)),t.flags|=1,WS(e,t,r,n),t.child;case 14:return o=ow(i=t.type,t.pendingProps),XS(e,t,i,o=ow(i.type,o),r,n);case 15:return YS(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ow(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,M_(r)?(e=!0,C_(t)):e=!1,fw(t,n),kw(t,r,i),Cw(t,r,i,n),JS(null,t,r,!0,e,n);case 19:return hE(e,t,n);case 23:case 24:return ZS(e,t,n)}throw Error(yg(156,t.tag))},hT.prototype.render=function(e){sT(e,this._internalRoot,null,null)},hT.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;sT(null,e,null,(function(){t[l_]=null}))},fy=function(e){13===e.tag&&(_M(e,4,bM()),uT(e,4))},py=function(e){13===e.tag&&(_M(e,67108864,bM()),uT(e,67108864))},my=function(e){if(13===e.tag){var t=bM(),n=xM(e);_M(e,n,t),uT(e,n)}},gy=function(e,t){return t()},Uv=function(e,t,n){switch(t){case"input":if(pv(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=f_(r);if(!i)throw Error(yg(90));cv(r),pv(r,i)}}}break;case"textarea":_v(e,n);break;case"select":null!=(t=n.value)&&yv(e,!!n.multiple,t,!1)}},Wv=kM,qv=function(e,t,n,r,i){var o=UE;UE|=4;try{return ew(98,e.bind(null,t,n,r,i))}finally{0===(UE=o)&&(eM(),nw())}},Xv=function(){0==(49&UE)&&(function(){if(null!==hM){var e=hM;hM=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,SM(e,$_())}))}nw()}(),HM())},Yv=function(e,t){var n=UE;UE|=2;try{return e(t)}finally{0===(UE=n)&&(eM(),nw())}};var mT={Events:[h_,d_,f_,Vv,Gv,HM,{current:!1}]},gT={findFiberByHostInstance:u_,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},vT={bundleType:gT.bundleType,version:gT.version,rendererPackageName:gT.rendererPackageName,rendererConfig:gT.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Og.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=hy(e))?null:e.stateNode},findFiberByHostInstance:gT.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var yT=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yT.isDisabled&&yT.supportsFiber)try{A_=yT.inject(vT),L_=yT}catch(Rv){}}var bT={__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:mT,createPortal:pT,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(yg(188));throw Error(yg(268,Object.keys(e)))}return e=null===(e=hy(t))?null:e.stateNode},flushSync:function(e,t){var n=UE;if(0!=(48&n))return e(t);UE|=1;try{if(e)return ew(99,e.bind(null,t))}finally{UE=n,nw()}},hydrate:function(e,t,n){if(!dT(t))throw Error(yg(200));return fT(null,e,t,!0,n)},render:function(e,t,n){if(!dT(t))throw Error(yg(200));return fT(null,e,t,!1,n)},unmountComponentAtNode:function(e){if(!dT(e))throw Error(yg(40));return!!e._reactRootContainer&&(RM((function(){fT(null,null,e,!1,(function(){e._reactRootContainer=null,e[l_]=null}))})),!0)},unstable_batchedUpdates:kM,unstable_createPortal:function(e,t){return pT(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){if(!dT(n))throw Error(yg(200));if(null==e||void 0===e._reactInternals)throw Error(yg(38));return fT(e,t,n,!1,r)},version:"17.0.1"},xT=0,_T={__interactionsRef:null,__subscriberRef:null,unstable_clear:function(e){return e()},unstable_getCurrent:function(){return null},unstable_getThreadID:function(){return++xT},unstable_subscribe:function(){},unstable_trace:function(e,t,n){return n()},unstable_unsubscribe:function(){},unstable_wrap:function(e){return e}},wT=s((function(e,t){"production"!==process.env.NODE_ENV&&function(){var e=0,n=0;t.__interactionsRef=null,t.__subscriberRef=null,t.__interactionsRef={current:new Set},t.__subscriberRef={current:null};var r=null;function i(e){var t=!1,n=null;if(r.forEach((function(r){try{r.onInteractionTraced(e)}catch(e){t||(t=!0,n=e)}})),t)throw n}function o(e){var t=!1,n=null;if(r.forEach((function(r){try{r.onInteractionScheduledWorkCompleted(e)}catch(e){t||(t=!0,n=e)}})),t)throw n}function a(e,t){var n=!1,i=null;if(r.forEach((function(r){try{r.onWorkScheduled(e,t)}catch(e){n||(n=!0,i=e)}})),n)throw i}function s(e,t){var n=!1,i=null;if(r.forEach((function(r){try{r.onWorkStarted(e,t)}catch(e){n||(n=!0,i=e)}})),n)throw i}function l(e,t){var n=!1,i=null;if(r.forEach((function(r){try{r.onWorkStopped(e,t)}catch(e){n||(n=!0,i=e)}})),n)throw i}function c(e,t){var n=!1,i=null;if(r.forEach((function(r){try{r.onWorkCanceled(e,t)}catch(e){n||(n=!0,i=e)}})),n)throw i}r=new Set,t.unstable_clear=function(e){var n=t.__interactionsRef.current;t.__interactionsRef.current=new Set;try{return e()}finally{t.__interactionsRef.current=n}},t.unstable_getCurrent=function(){return t.__interactionsRef.current},t.unstable_getThreadID=function(){return++n},t.unstable_subscribe=function(e){r.add(e),1===r.size&&(t.__subscriberRef.current={onInteractionScheduledWorkCompleted:o,onInteractionTraced:i,onWorkCanceled:c,onWorkScheduled:a,onWorkStarted:s,onWorkStopped:l})},t.unstable_trace=function(n,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a={__count:1,id:e++,name:n,timestamp:r},s=t.__interactionsRef.current,l=new Set(s);l.add(a),t.__interactionsRef.current=l;var c,u=t.__subscriberRef.current;try{null!==u&&u.onInteractionTraced(a)}finally{try{null!==u&&u.onWorkStarted(l,o)}finally{try{c=i()}finally{t.__interactionsRef.current=s;try{null!==u&&u.onWorkStopped(l,o)}finally{a.__count--,null!==u&&0===a.__count&&u.onInteractionScheduledWorkCompleted(a)}}}}return c},t.unstable_unsubscribe=function(e){r.delete(e),0===r.size&&(t.__subscriberRef.current=null)},t.unstable_wrap=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t.__interactionsRef.current,i=t.__subscriberRef.current;null!==i&&i.onWorkScheduled(r,n),r.forEach((function(e){e.__count++}));var o=!1;function a(){var a=t.__interactionsRef.current;t.__interactionsRef.current=r,i=t.__subscriberRef.current;try{var s;try{null!==i&&i.onWorkStarted(r,n)}finally{try{s=e.apply(void 0,arguments)}finally{t.__interactionsRef.current=a,null!==i&&i.onWorkStopped(r,n)}}return s}finally{o||(o=!0,r.forEach((function(e){e.__count--,null!==i&&0===e.__count&&i.onInteractionScheduledWorkCompleted(e)})))}}return a.cancel=function(){i=t.__subscriberRef.current;try{null!==i&&i.onWorkCanceled(r,n)}finally{r.forEach((function(e){e.__count--,i&&0===e.__count&&i.onInteractionScheduledWorkCompleted(e)}))}},a}}()})),ST=s((function(e){"production"===process.env.NODE_ENV?e.exports=_T:e.exports=wT})),ET=s((function(e,t){"production"!==process.env.NODE_ENV&&function(){var e=m,n=d,r=vg,i=ST,o=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function a(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];l("warn",e,n)}function s(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];l("error",e,n)}function l(e,t,n){var r=o.ReactDebugCurrentFrame.getStackAddendum();""!==r&&(t+="%s",n=n.concat([r]));var i=n.map((function(e){return""+e}));i.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,i)}if(!e)throw Error("ReactDOM was loaded before React. Make sure you load the React package before loading ReactDOM.");var c=10,u=11,h=12,f=13,p=14,g=15,v=17,y=19,b=20,x=22,_=23,w=24,S=!1,E=new Set,M={},T={};function k(e,t){R(e,t),R(e+"Capture",t)}function R(e,t){M[e]&&s("EventRegistry: More than one plugin attempted to publish the same registration name, `%s`.",e),M[e]=t;var n=e.toLowerCase();T[n]=e,"onDoubleClick"===e&&(T.ondblclick=e);for(var r=0;r<t.length;r++)E.add(t[r])}var C=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),P=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",A=P+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",L="data-reactroot",O=new RegExp("^["+P+"]["+A+"]*$"),I=Object.prototype.hasOwnProperty,N={},D={};function z(e){return!!I.call(D,e)||!I.call(N,e)&&(O.test(e)?(D[e]=!0,!0):(N[e]=!0,s("Invalid attribute name: `%s`",e),!1))}function F(e,t,n){return null!==t?0===t.type:!n&&(e.length>2&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))}function U(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;var i=e.toLowerCase().slice(0,5);return"data-"!==i&&"aria-"!==i;default:return!1}}function B(e,t,n,r){if(null==t)return!0;if(U(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||t<1}return!1}function j(e){return V.hasOwnProperty(e)?V[e]:null}function H(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var V={};["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"].forEach((function(e){V[e]=new H(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0],n=e[1];V[t]=new H(t,1,!1,n,null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){V[e]=new H(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){V[e]=new H(e,2,!1,e,null,!1,!1)})),["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach((function(e){V[e]=new H(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){V[e]=new H(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){V[e]=new H(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){V[e]=new H(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){V[e]=new H(e,5,!1,e.toLowerCase(),null,!1,!1)}));var G=/[\-\:]([a-z])/g,W=function(e){return e[1].toUpperCase()};["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach((function(e){var t=e.replace(G,W);V[t]=new H(t,1,!1,e,null,!1,!1)})),["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach((function(e){var t=e.replace(G,W);V[t]=new H(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(G,W);V[t]=new H(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){V[e]=new H(e,1,!1,e.toLowerCase(),null,!1,!1)}));V.xlinkHref=new H("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){V[e]=new H(e,1,!1,e.toLowerCase(),null,!0,!0)}));var q=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*\:/i,X=!1;function Y(e){!X&&q.test(e)&&(X=!0,s("A future version of React will block javascript: URLs as a security precaution. Use event handlers instead if you can. If you need to generate unsafe HTML try using dangerouslySetInnerHTML instead. React was passed %s.",JSON.stringify(e)))}function Z(e,t,n,r){if(r.mustUseProperty)return e[r.propertyName];r.sanitizeURL&&Y(""+n);var i=r.attributeName,o=null;if(4===r.type){if(e.hasAttribute(i)){var a=e.getAttribute(i);return""===a||(B(t,n,r,!1)?a:a===""+n?n:a)}}else if(e.hasAttribute(i)){if(B(t,n,r,!1))return e.getAttribute(i);if(3===r.type)return n;o=e.getAttribute(i)}return B(t,n,r,!1)?null===o?n:o:o===""+n?n:o}function Q(e,t,n){if(z(t)){if(function(e){return null!==e&&"object"==typeof e&&e.$$typeof===de}(n))return n;if(!e.hasAttribute(t))return void 0===n?void 0:null;var r=e.getAttribute(t);return r===""+n?n:r}}function $(e,t,n,r){var i=j(t);if(!F(t,i,r))if(B(t,n,i,r)&&(n=null),r||null===i){if(z(t)){var o=t;null===n?e.removeAttribute(o):e.setAttribute(o,""+n)}}else if(i.mustUseProperty){var a=i.propertyName;if(null===n){var s=i.type;e[a]=3!==s&&""}else e[a]=n}else{var l=i.attributeName,c=i.attributeNamespace;if(null===n)e.removeAttribute(l);else{var u,h=i.type;3===h||4===h&&!0===n?u="":(u=""+n,i.sanitizeURL&&Y(u.toString())),c?e.setAttributeNS(c,l,u):e.setAttribute(l,u)}}}var K=60103,J=60106,ee=60107,te=60108,ne=60114,re=60109,ie=60110,oe=60112,ae=60113,se=60120,le=60115,ce=60116,ue=60121,he=60119,de=60128,fe=60129,pe=60130,me=60131;if("function"==typeof Symbol&&Symbol.for){var ge=Symbol.for;K=ge("react.element"),J=ge("react.portal"),ee=ge("react.fragment"),te=ge("react.strict_mode"),ne=ge("react.profiler"),re=ge("react.provider"),ie=ge("react.context"),oe=ge("react.forward_ref"),ae=ge("react.suspense"),se=ge("react.suspense_list"),le=ge("react.memo"),ce=ge("react.lazy"),ue=ge("react.block"),ge("react.server.block"),ge("react.fundamental"),he=ge("react.scope"),de=ge("react.opaque.id"),fe=ge("react.debug_trace_mode"),pe=ge("react.offscreen"),me=ge("react.legacy_hidden")}var ve="function"==typeof Symbol&&Symbol.iterator;function ye(e){if(null===e||"object"!=typeof e)return null;var t=ve&&e[ve]||e["@@iterator"];return"function"==typeof t?t:null}var be,xe,_e,we,Se,Ee,Me,Te=0;function ke(){}function Re(){if(0===Te){be=console.log,xe=console.info,_e=console.warn,we=console.error,Se=console.group,Ee=console.groupCollapsed,Me=console.groupEnd;var e={configurable:!0,enumerable:!0,value:ke,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}Te++}function Ce(){if(0===--Te){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:n({},e,{value:be}),info:n({},e,{value:xe}),warn:n({},e,{value:_e}),error:n({},e,{value:we}),group:n({},e,{value:Se}),groupCollapsed:n({},e,{value:Ee}),groupEnd:n({},e,{value:Me})})}Te<0&&s("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}ke.__reactDisabledLog=!0;var Pe,Ae=o.ReactCurrentDispatcher;function Le(e,t,n){if(void 0===Pe)try{throw Error()}catch(e){var r=e.stack.trim().match(/\n( *(at )?)/);Pe=r&&r[1]||""}return"\n"+Pe+e}var Oe,Ie=!1,Ne="function"==typeof WeakMap?WeakMap:Map;function De(e,t){if(!e||Ie)return"";var n,r=Oe.get(e);if(void 0!==r)return r;Ie=!0;var i,o=Error.prepareStackTrace;Error.prepareStackTrace=void 0,i=Ae.current,Ae.current=null,Re();try{if(t){var a=function(){throw Error()};if(Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(a,[])}catch(e){n=e}Reflect.construct(e,[],a)}else{try{a.call()}catch(e){n=e}e.call(a.prototype)}}else{try{throw Error()}catch(e){n=e}e()}}catch(t){if(t&&n&&"string"==typeof t.stack){for(var s=t.stack.split("\n"),l=n.stack.split("\n"),c=s.length-1,u=l.length-1;c>=1&&u>=0&&s[c]!==l[u];)u--;for(;c>=1&&u>=0;c--,u--)if(s[c]!==l[u]){if(1!==c||1!==u)do{if(c--,--u<0||s[c]!==l[u]){var h="\n"+s[c].replace(" at new "," at ");return"function"==typeof e&&Oe.set(e,h),h}}while(c>=1&&u>=0);break}}}finally{Ie=!1,Ae.current=i,Ce(),Error.prepareStackTrace=o}var d=e?e.displayName||e.name:"",f=d?Le(d):"";return"function"==typeof e&&Oe.set(e,f),f}function ze(e,t,n){return De(e,!1)}function Fe(e,t,n){if(null==e)return"";if("function"==typeof e)return De(e,!(!(r=e.prototype)||!r.isReactComponent));var r;if("string"==typeof e)return Le(e);switch(e){case ae:return Le("Suspense");case se:return Le("SuspenseList")}if("object"==typeof e)switch(e.$$typeof){case oe:return ze(e.render);case le:return Fe(e.type,t,n);case ue:return ze(e._render);case ce:var i=e,o=i._payload,a=i._init;try{return Fe(a(o),t,n)}catch(e){}}return""}function Ue(e){switch(e._debugOwner&&e._debugOwner.type,e._debugSource,e.tag){case 5:return Le(e.type);case 16:return Le("Lazy");case f:return Le("Suspense");case y:return Le("SuspenseList");case 0:case 2:case g:return ze(e.type);case u:return ze(e.type.render);case x:return ze(e.type._render);case 1:return De(e.type,!0);default:return""}}function Be(e){try{var t="",n=e;do{t+=Ue(n),n=n.return}while(n);return t}catch(e){return"\nError generating stack: "+e.message+"\n"+e.stack}}function je(e){return e.displayName||"Context"}function He(e){if(null==e)return null;if("number"==typeof e.tag&&s("Received an unexpected object in getComponentName(). This is likely a bug in React. Please file an issue."),"function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ee:return"Fragment";case J:return"Portal";case ne:return"Profiler";case te:return"StrictMode";case ae:return"Suspense";case se:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case ie:return je(e)+".Consumer";case re:return je(e._context)+".Provider";case oe:return i=e,o=e.render,a="ForwardRef",l=o.displayName||o.name||"",i.displayName||(""!==l?a+"("+l+")":a);case le:return He(e.type);case ue:return He(e._render);case ce:var t=e,n=t._payload,r=t._init;try{return He(r(n))}catch(e){return null}}var i,o,a,l;return null}Oe=new Ne;var Ve=o.ReactDebugCurrentFrame,Ge=null,We=!1;function qe(){if(null===Ge)return null;var e=Ge._debugOwner;return null!=e?He(e.type):null}function Xe(){return null===Ge?"":Be(Ge)}function Ye(){Ve.getCurrentStack=null,Ge=null,We=!1}function Ze(e){Ve.getCurrentStack=Xe,Ge=e,We=!1}function Qe(e){We=e}function $e(e){return""+e}function Ke(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}var Je={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0};function et(e,t){Je[t.type]||t.onChange||t.onInput||t.readOnly||t.disabled||null==t.value||s("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`."),t.onChange||t.readOnly||t.disabled||null==t.checked||s("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")}function tt(e){var t=e.type,n=e.nodeName;return n&&"input"===n.toLowerCase()&&("checkbox"===t||"radio"===t)}function nt(e){return e._valueTracker}function rt(e){nt(e)||(e._valueTracker=function(e){var t=tt(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){!function(e){e._valueTracker=null}(e),delete e[t]}}}}(e))}function it(e){if(!e)return!1;var t=nt(e);if(!t)return!0;var n=t.getValue(),r=function(e){var t="";return e?t=tt(e)?e.checked?"true":"false":e.value:t}(e);return r!==n&&(t.setValue(r),!0)}function ot(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var at=!1,st=!1,lt=!1,ct=!1;function ut(e){return"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}function ht(e,t){var r=e,i=t.checked;return n({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=i?i:r._wrapperState.initialChecked})}function dt(e,t){et(0,t),void 0===t.checked||void 0===t.defaultChecked||st||(s("%s contains an input of type %s with both checked and defaultChecked props. Input elements must be either controlled or uncontrolled (specify either the checked prop, or the defaultChecked prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",qe()||"A component",t.type),st=!0),void 0===t.value||void 0===t.defaultValue||at||(s("%s contains an input of type %s with both value and defaultValue props. Input elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled input element and remove one of these props. More info: https://reactjs.org/link/controlled-components",qe()||"A component",t.type),at=!0);var n=e,r=null==t.defaultValue?"":t.defaultValue;n._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:Ke(null!=t.value?t.value:r),controlled:ut(t)}}function ft(e,t){var n=e,r=t.checked;null!=r&&$(n,"checked",r,!1)}function pt(e,t){var n=e,r=ut(t);n._wrapperState.controlled||!r||ct||(s("A component is changing an uncontrolled input to be controlled. This is likely caused by the value changing from undefined to a defined value, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),ct=!0),!n._wrapperState.controlled||r||lt||(s("A component is changing a controlled input to be uncontrolled. This is likely caused by the value changing from a defined to undefined, which should not happen. Decide between using a controlled or uncontrolled input element for the lifetime of the component. More info: https://reactjs.org/link/controlled-components"),lt=!0),ft(e,t);var i=Ke(t.value),o=t.type;if(null!=i)"number"===o?(0===i&&""===n.value||n.value!=i)&&(n.value=$e(i)):n.value!==$e(i)&&(n.value=$e(i));else if("submit"===o||"reset"===o)return void n.removeAttribute("value");t.hasOwnProperty("value")?vt(n,t.type,i):t.hasOwnProperty("defaultValue")&&vt(n,t.type,Ke(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(n.defaultChecked=!!t.defaultChecked)}function mt(e,t,n){var r=e;if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(("submit"===i||"reset"===i)&&(void 0===t.value||null===t.value))return;var o=$e(r._wrapperState.initialValue);n||o!==r.value&&(r.value=o),r.defaultValue=o}var a=r.name;""!==a&&(r.name=""),r.defaultChecked=!r.defaultChecked,r.defaultChecked=!!r._wrapperState.initialChecked,""!==a&&(r.name=a)}function gt(e,t){var n=e;pt(n,t),function(e,t){var n=t.name;if("radio"===t.type&&null!=n){for(var r=e;r.parentNode;)r=r.parentNode;for(var i=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),o=0;o<i.length;o++){var a=i[o];if(a!==e&&a.form===e.form){var s=bl(a);if(!s)throw Error("ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported.");it(a),pt(a,s)}}}}(n,t)}function vt(e,t,n){"number"===t&&ot(e.ownerDocument)===e||(null==n?e.defaultValue=$e(e._wrapperState.initialValue):e.defaultValue!==$e(n)&&(e.defaultValue=$e(n)))}var yt,bt=!1,xt=!1;function _t(t,n){"object"==typeof n.children&&null!==n.children&&e.Children.forEach(n.children,(function(e){null!=e&&"string"!=typeof e&&"number"!=typeof e&&"string"==typeof e.type&&(xt||(xt=!0,s("Only strings and numbers are supported as <option> children.")))})),null==n.selected||bt||(s("Use the `defaultValue` or `value` props on <select> instead of setting `selected` on <option>."),bt=!0)}function wt(t,r){var i=n({children:void 0},r),o=function(t){var n="";return e.Children.forEach(t,(function(e){null!=e&&(n+=e)})),n}(r.children);return o&&(i.children=o),i}function St(){var e=qe();return e?"\n\nCheck the render method of `"+e+"`.":""}yt=!1;var Et=["value","defaultValue"];function Mt(e,t,n,r){var i=e.options;if(t){for(var o=n,a={},s=0;s<o.length;s++)a["$"+o[s]]=!0;for(var l=0;l<i.length;l++){var c=a.hasOwnProperty("$"+i[l].value);i[l].selected!==c&&(i[l].selected=c),c&&r&&(i[l].defaultSelected=!0)}}else{for(var u=$e(Ke(n)),h=null,d=0;d<i.length;d++){if(i[d].value===u)return i[d].selected=!0,void(r&&(i[d].defaultSelected=!0));null!==h||i[d].disabled||(h=i[d])}null!==h&&(h.selected=!0)}}function Tt(e,t){return n({},t,{value:void 0})}function kt(e,t){var n=e;!function(e){et(0,e);for(var t=0;t<Et.length;t++){var n=Et[t];if(null!=e[n]){var r=Array.isArray(e[n]);e.multiple&&!r?s("The `%s` prop supplied to <select> must be an array if `multiple` is true.%s",n,St()):!e.multiple&&r&&s("The `%s` prop supplied to <select> must be a scalar value if `multiple` is false.%s",n,St())}}}(t),n._wrapperState={wasMultiple:!!t.multiple},void 0===t.value||void 0===t.defaultValue||yt||(s("Select elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled select element and remove one of these props. More info: https://reactjs.org/link/controlled-components"),yt=!0)}var Rt=!1;function Ct(e,t){var r=e;if(null!=t.dangerouslySetInnerHTML)throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");return n({},t,{value:void 0,defaultValue:void 0,children:$e(r._wrapperState.initialValue)})}function Pt(e,t){var n=e;et(0,t),void 0===t.value||void 0===t.defaultValue||Rt||(s("%s contains a textarea with both value and defaultValue props. Textarea elements must be either controlled or uncontrolled (specify either the value prop, or the defaultValue prop, but not both). Decide between using a controlled or uncontrolled textarea and remove one of these props. More info: https://reactjs.org/link/controlled-components",qe()||"A component"),Rt=!0);var r=t.value;if(null==r){var i=t.children,o=t.defaultValue;if(null!=i){if(s("Use the `defaultValue` or `value` props instead of setting children on <textarea>."),null!=o)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(Array.isArray(i)){if(!(i.length<=1))throw Error("<textarea> can only have at most one child.");i=i[0]}o=i}null==o&&(o=""),r=o}n._wrapperState={initialValue:Ke(r)}}function At(e,t){var n=e,r=Ke(t.value),i=Ke(t.defaultValue);if(null!=r){var o=$e(r);o!==n.value&&(n.value=o),null==t.defaultValue&&n.defaultValue!==o&&(n.defaultValue=o)}null!=i&&(n.defaultValue=$e(i))}function Lt(e,t){var n=e,r=n.textContent;r===n._wrapperState.initialValue&&""!==r&&null!==r&&(n.value=r)}var Ot="http://www.w3.org/1999/xhtml",It="http://www.w3.org/1998/Math/MathML",Nt="http://www.w3.org/2000/svg",Dt=Ot,zt=Nt;function Ft(e){switch(e){case"svg":return Nt;case"math":return It;default:return Ot}}function Ut(e,t){return null==e||e===Ot?Ft(t):e===Nt&&"foreignObject"===t?Ot:e}var Bt,jt,Ht=(jt=function(e,t){if(e.namespaceURI!==zt||"innerHTML"in e)e.innerHTML=t;else{(Bt=Bt||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>";for(var n=Bt.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return jt(e,t,n,r)}))}:jt),Vt=8,Gt=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t},Wt={animation:["animationDelay","animationDirection","animationDuration","animationFillMode","animationIterationCount","animationName","animationPlayState","animationTimingFunction"],background:["backgroundAttachment","backgroundClip","backgroundColor","backgroundImage","backgroundOrigin","backgroundPositionX","backgroundPositionY","backgroundRepeat","backgroundSize"],backgroundPosition:["backgroundPositionX","backgroundPositionY"],border:["borderBottomColor","borderBottomStyle","borderBottomWidth","borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth","borderLeftColor","borderLeftStyle","borderLeftWidth","borderRightColor","borderRightStyle","borderRightWidth","borderTopColor","borderTopStyle","borderTopWidth"],borderBlockEnd:["borderBlockEndColor","borderBlockEndStyle","borderBlockEndWidth"],borderBlockStart:["borderBlockStartColor","borderBlockStartStyle","borderBlockStartWidth"],borderBottom:["borderBottomColor","borderBottomStyle","borderBottomWidth"],borderColor:["borderBottomColor","borderLeftColor","borderRightColor","borderTopColor"],borderImage:["borderImageOutset","borderImageRepeat","borderImageSlice","borderImageSource","borderImageWidth"],borderInlineEnd:["borderInlineEndColor","borderInlineEndStyle","borderInlineEndWidth"],borderInlineStart:["borderInlineStartColor","borderInlineStartStyle","borderInlineStartWidth"],borderLeft:["borderLeftColor","borderLeftStyle","borderLeftWidth"],borderRadius:["borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius"],borderRight:["borderRightColor","borderRightStyle","borderRightWidth"],borderStyle:["borderBottomStyle","borderLeftStyle","borderRightStyle","borderTopStyle"],borderTop:["borderTopColor","borderTopStyle","borderTopWidth"],borderWidth:["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth"],columnRule:["columnRuleColor","columnRuleStyle","columnRuleWidth"],columns:["columnCount","columnWidth"],flex:["flexBasis","flexGrow","flexShrink"],flexFlow:["flexDirection","flexWrap"],font:["fontFamily","fontFeatureSettings","fontKerning","fontLanguageOverride","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition","fontWeight","lineHeight"],fontVariant:["fontVariantAlternates","fontVariantCaps","fontVariantEastAsian","fontVariantLigatures","fontVariantNumeric","fontVariantPosition"],gap:["columnGap","rowGap"],grid:["gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],gridArea:["gridColumnEnd","gridColumnStart","gridRowEnd","gridRowStart"],gridColumn:["gridColumnEnd","gridColumnStart"],gridColumnGap:["columnGap"],gridGap:["columnGap","rowGap"],gridRow:["gridRowEnd","gridRowStart"],gridRowGap:["rowGap"],gridTemplate:["gridTemplateAreas","gridTemplateColumns","gridTemplateRows"],listStyle:["listStyleImage","listStylePosition","listStyleType"],margin:["marginBottom","marginLeft","marginRight","marginTop"],marker:["markerEnd","markerMid","markerStart"],mask:["maskClip","maskComposite","maskImage","maskMode","maskOrigin","maskPositionX","maskPositionY","maskRepeat","maskSize"],maskPosition:["maskPositionX","maskPositionY"],outline:["outlineColor","outlineStyle","outlineWidth"],overflow:["overflowX","overflowY"],padding:["paddingBottom","paddingLeft","paddingRight","paddingTop"],placeContent:["alignContent","justifyContent"],placeItems:["alignItems","justifyItems"],placeSelf:["alignSelf","justifySelf"],textDecoration:["textDecorationColor","textDecorationLine","textDecorationStyle"],textEmphasis:["textEmphasisColor","textEmphasisStyle"],transition:["transitionDelay","transitionDuration","transitionProperty","transitionTimingFunction"],wordWrap:["overflowWrap"]},qt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};var Xt=["Webkit","ms","Moz","O"];function Yt(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||qt.hasOwnProperty(e)&&qt[e]?(""+t).trim():t+"px"}Object.keys(qt).forEach((function(e){Xt.forEach((function(t){qt[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(t,e)]=qt[e]}))}));var Zt=/([A-Z])/g,Qt=/^ms-/;var $t=/^(?:webkit|moz|o)[A-Z]/,Kt=/^-ms-/,Jt=/-(.)/g,en=/;\s*$/,tn={},nn={},rn=!1,on=!1,an=function(e){tn.hasOwnProperty(e)&&tn[e]||(tn[e]=!0,s("Unsupported style property %s. Did you mean %s?",e,e.replace(Kt,"ms-").replace(Jt,(function(e,t){return t.toUpperCase()}))))},sn=function(e,t){e.indexOf("-")>-1?an(e):$t.test(e)?function(e){tn.hasOwnProperty(e)&&tn[e]||(tn[e]=!0,s("Unsupported vendor-prefixed style property %s. Did you mean %s?",e,e.charAt(0).toUpperCase()+e.slice(1)))}(e):en.test(t)&&function(e,t){nn.hasOwnProperty(t)&&nn[t]||(nn[t]=!0,s('Style property values shouldn\'t contain a semicolon. Try "%s: %s" instead.',e,t.replace(en,"")))}(e,t),"number"==typeof t&&(isNaN(t)?function(e,t){rn||(rn=!0,s("`NaN` is an invalid value for the `%s` css style property.",e))}(e):isFinite(t)||function(e,t){on||(on=!0,s("`Infinity` is an invalid value for the `%s` css style property.",e))}(e))};function ln(e){var t="",n="";for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];if(null!=i){var o=0===r.indexOf("--");t+=n+(o?r:r.replace(Zt,"-$1").toLowerCase().replace(Qt,"-ms-"))+":",t+=Yt(r,i,o),n=";"}}return t||null}function cn(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=0===r.indexOf("--");i||sn(r,t[r]);var o=Yt(r,t[r],i);"float"===r&&(r="cssFloat"),i?n.setProperty(r,o):n[r]=o}}function un(e){var t={};for(var n in e)for(var r=Wt[n]||[n],i=0;i<r.length;i++)t[r[i]]=n;return t}var hn=n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dn(e,t){if(t){if(hn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(e+" is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.")}if(!t.suppressContentEditableWarning&&t.contentEditable&&null!=t.children&&s("A component is `contentEditable` and contains `children` managed by React. It is now your responsibility to guarantee that none of those nodes are unexpectedly modified or duplicated. This is probably not intentional."),null!=t.style&&"object"!=typeof t.style)throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.")}}function fn(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pn={accept:"accept",acceptcharset:"acceptCharset","accept-charset":"acceptCharset",accesskey:"accessKey",action:"action",allowfullscreen:"allowFullScreen",alt:"alt",as:"as",async:"async",autocapitalize:"autoCapitalize",autocomplete:"autoComplete",autocorrect:"autoCorrect",autofocus:"autoFocus",autoplay:"autoPlay",autosave:"autoSave",capture:"capture",cellpadding:"cellPadding",cellspacing:"cellSpacing",challenge:"challenge",charset:"charSet",checked:"checked",children:"children",cite:"cite",class:"className",classid:"classID",classname:"className",cols:"cols",colspan:"colSpan",content:"content",contenteditable:"contentEditable",contextmenu:"contextMenu",controls:"controls",controlslist:"controlsList",coords:"coords",crossorigin:"crossOrigin",dangerouslysetinnerhtml:"dangerouslySetInnerHTML",data:"data",datetime:"dateTime",default:"default",defaultchecked:"defaultChecked",defaultvalue:"defaultValue",defer:"defer",dir:"dir",disabled:"disabled",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback",download:"download",draggable:"draggable",enctype:"encType",enterkeyhint:"enterKeyHint",for:"htmlFor",form:"form",formmethod:"formMethod",formaction:"formAction",formenctype:"formEncType",formnovalidate:"formNoValidate",formtarget:"formTarget",frameborder:"frameBorder",headers:"headers",height:"height",hidden:"hidden",high:"high",href:"href",hreflang:"hrefLang",htmlfor:"htmlFor",httpequiv:"httpEquiv","http-equiv":"httpEquiv",icon:"icon",id:"id",innerhtml:"innerHTML",inputmode:"inputMode",integrity:"integrity",is:"is",itemid:"itemID",itemprop:"itemProp",itemref:"itemRef",itemscope:"itemScope",itemtype:"itemType",keyparams:"keyParams",keytype:"keyType",kind:"kind",label:"label",lang:"lang",list:"list",loop:"loop",low:"low",manifest:"manifest",marginwidth:"marginWidth",marginheight:"marginHeight",max:"max",maxlength:"maxLength",media:"media",mediagroup:"mediaGroup",method:"method",min:"min",minlength:"minLength",multiple:"multiple",muted:"muted",name:"name",nomodule:"noModule",nonce:"nonce",novalidate:"noValidate",open:"open",optimum:"optimum",pattern:"pattern",placeholder:"placeholder",playsinline:"playsInline",poster:"poster",preload:"preload",profile:"profile",radiogroup:"radioGroup",readonly:"readOnly",referrerpolicy:"referrerPolicy",rel:"rel",required:"required",reversed:"reversed",role:"role",rows:"rows",rowspan:"rowSpan",sandbox:"sandbox",scope:"scope",scoped:"scoped",scrolling:"scrolling",seamless:"seamless",selected:"selected",shape:"shape",size:"size",sizes:"sizes",span:"span",spellcheck:"spellCheck",src:"src",srcdoc:"srcDoc",srclang:"srcLang",srcset:"srcSet",start:"start",step:"step",style:"style",summary:"summary",tabindex:"tabIndex",target:"target",title:"title",type:"type",usemap:"useMap",value:"value",width:"width",wmode:"wmode",wrap:"wrap",about:"about",accentheight:"accentHeight","accent-height":"accentHeight",accumulate:"accumulate",additive:"additive",alignmentbaseline:"alignmentBaseline","alignment-baseline":"alignmentBaseline",allowreorder:"allowReorder",alphabetic:"alphabetic",amplitude:"amplitude",arabicform:"arabicForm","arabic-form":"arabicForm",ascent:"ascent",attributename:"attributeName",attributetype:"attributeType",autoreverse:"autoReverse",azimuth:"azimuth",basefrequency:"baseFrequency",baselineshift:"baselineShift","baseline-shift":"baselineShift",baseprofile:"baseProfile",bbox:"bbox",begin:"begin",bias:"bias",by:"by",calcmode:"calcMode",capheight:"capHeight","cap-height":"capHeight",clip:"clip",clippath:"clipPath","clip-path":"clipPath",clippathunits:"clipPathUnits",cliprule:"clipRule","clip-rule":"clipRule",color:"color",colorinterpolation:"colorInterpolation","color-interpolation":"colorInterpolation",colorinterpolationfilters:"colorInterpolationFilters","color-interpolation-filters":"colorInterpolationFilters",colorprofile:"colorProfile","color-profile":"colorProfile",colorrendering:"colorRendering","color-rendering":"colorRendering",contentscripttype:"contentScriptType",contentstyletype:"contentStyleType",cursor:"cursor",cx:"cx",cy:"cy",d:"d",datatype:"datatype",decelerate:"decelerate",descent:"descent",diffuseconstant:"diffuseConstant",direction:"direction",display:"display",divisor:"divisor",dominantbaseline:"dominantBaseline","dominant-baseline":"dominantBaseline",dur:"dur",dx:"dx",dy:"dy",edgemode:"edgeMode",elevation:"elevation",enablebackground:"enableBackground","enable-background":"enableBackground",end:"end",exponent:"exponent",externalresourcesrequired:"externalResourcesRequired",fill:"fill",fillopacity:"fillOpacity","fill-opacity":"fillOpacity",fillrule:"fillRule","fill-rule":"fillRule",filter:"filter",filterres:"filterRes",filterunits:"filterUnits",floodopacity:"floodOpacity","flood-opacity":"floodOpacity",floodcolor:"floodColor","flood-color":"floodColor",focusable:"focusable",fontfamily:"fontFamily","font-family":"fontFamily",fontsize:"fontSize","font-size":"fontSize",fontsizeadjust:"fontSizeAdjust","font-size-adjust":"fontSizeAdjust",fontstretch:"fontStretch","font-stretch":"fontStretch",fontstyle:"fontStyle","font-style":"fontStyle",fontvariant:"fontVariant","font-variant":"fontVariant",fontweight:"fontWeight","font-weight":"fontWeight",format:"format",from:"from",fx:"fx",fy:"fy",g1:"g1",g2:"g2",glyphname:"glyphName","glyph-name":"glyphName",glyphorientationhorizontal:"glyphOrientationHorizontal","glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphorientationvertical:"glyphOrientationVertical","glyph-orientation-vertical":"glyphOrientationVertical",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",hanging:"hanging",horizadvx:"horizAdvX","horiz-adv-x":"horizAdvX",horizoriginx:"horizOriginX","horiz-origin-x":"horizOriginX",ideographic:"ideographic",imagerendering:"imageRendering","image-rendering":"imageRendering",in2:"in2",in:"in",inlist:"inlist",intercept:"intercept",k1:"k1",k2:"k2",k3:"k3",k4:"k4",k:"k",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",kerning:"kerning",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",letterspacing:"letterSpacing","letter-spacing":"letterSpacing",lightingcolor:"lightingColor","lighting-color":"lightingColor",limitingconeangle:"limitingConeAngle",local:"local",markerend:"markerEnd","marker-end":"markerEnd",markerheight:"markerHeight",markermid:"markerMid","marker-mid":"markerMid",markerstart:"markerStart","marker-start":"markerStart",markerunits:"markerUnits",markerwidth:"markerWidth",mask:"mask",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",mathematical:"mathematical",mode:"mode",numoctaves:"numOctaves",offset:"offset",opacity:"opacity",operator:"operator",order:"order",orient:"orient",orientation:"orientation",origin:"origin",overflow:"overflow",overlineposition:"overlinePosition","overline-position":"overlinePosition",overlinethickness:"overlineThickness","overline-thickness":"overlineThickness",paintorder:"paintOrder","paint-order":"paintOrder",panose1:"panose1","panose-1":"panose1",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointerevents:"pointerEvents","pointer-events":"pointerEvents",points:"points",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",prefix:"prefix",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",property:"property",r:"r",radius:"radius",refx:"refX",refy:"refY",renderingintent:"renderingIntent","rendering-intent":"renderingIntent",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",resource:"resource",restart:"restart",result:"result",results:"results",rotate:"rotate",rx:"rx",ry:"ry",scale:"scale",security:"security",seed:"seed",shaperendering:"shapeRendering","shape-rendering":"shapeRendering",slope:"slope",spacing:"spacing",specularconstant:"specularConstant",specularexponent:"specularExponent",speed:"speed",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stemh:"stemh",stemv:"stemv",stitchtiles:"stitchTiles",stopcolor:"stopColor","stop-color":"stopColor",stopopacity:"stopOpacity","stop-opacity":"stopOpacity",strikethroughposition:"strikethroughPosition","strikethrough-position":"strikethroughPosition",strikethroughthickness:"strikethroughThickness","strikethrough-thickness":"strikethroughThickness",string:"string",stroke:"stroke",strokedasharray:"strokeDasharray","stroke-dasharray":"strokeDasharray",strokedashoffset:"strokeDashoffset","stroke-dashoffset":"strokeDashoffset",strokelinecap:"strokeLinecap","stroke-linecap":"strokeLinecap",strokelinejoin:"strokeLinejoin","stroke-linejoin":"strokeLinejoin",strokemiterlimit:"strokeMiterlimit","stroke-miterlimit":"strokeMiterlimit",strokewidth:"strokeWidth","stroke-width":"strokeWidth",strokeopacity:"strokeOpacity","stroke-opacity":"strokeOpacity",suppresscontenteditablewarning:"suppressContentEditableWarning",suppresshydrationwarning:"suppressHydrationWarning",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textanchor:"textAnchor","text-anchor":"textAnchor",textdecoration:"textDecoration","text-decoration":"textDecoration",textlength:"textLength",textrendering:"textRendering","text-rendering":"textRendering",to:"to",transform:"transform",typeof:"typeof",u1:"u1",u2:"u2",underlineposition:"underlinePosition","underline-position":"underlinePosition",underlinethickness:"underlineThickness","underline-thickness":"underlineThickness",unicode:"unicode",unicodebidi:"unicodeBidi","unicode-bidi":"unicodeBidi",unicoderange:"unicodeRange","unicode-range":"unicodeRange",unitsperem:"unitsPerEm","units-per-em":"unitsPerEm",unselectable:"unselectable",valphabetic:"vAlphabetic","v-alphabetic":"vAlphabetic",values:"values",vectoreffect:"vectorEffect","vector-effect":"vectorEffect",version:"version",vertadvy:"vertAdvY","vert-adv-y":"vertAdvY",vertoriginx:"vertOriginX","vert-origin-x":"vertOriginX",vertoriginy:"vertOriginY","vert-origin-y":"vertOriginY",vhanging:"vHanging","v-hanging":"vHanging",videographic:"vIdeographic","v-ideographic":"vIdeographic",viewbox:"viewBox",viewtarget:"viewTarget",visibility:"visibility",vmathematical:"vMathematical","v-mathematical":"vMathematical",vocab:"vocab",widths:"widths",wordspacing:"wordSpacing","word-spacing":"wordSpacing",writingmode:"writingMode","writing-mode":"writingMode",x1:"x1",x2:"x2",x:"x",xchannelselector:"xChannelSelector",xheight:"xHeight","x-height":"xHeight",xlinkactuate:"xlinkActuate","xlink:actuate":"xlinkActuate",xlinkarcrole:"xlinkArcrole","xlink:arcrole":"xlinkArcrole",xlinkhref:"xlinkHref","xlink:href":"xlinkHref",xlinkrole:"xlinkRole","xlink:role":"xlinkRole",xlinkshow:"xlinkShow","xlink:show":"xlinkShow",xlinktitle:"xlinkTitle","xlink:title":"xlinkTitle",xlinktype:"xlinkType","xlink:type":"xlinkType",xmlbase:"xmlBase","xml:base":"xmlBase",xmllang:"xmlLang","xml:lang":"xmlLang",xmlns:"xmlns","xml:space":"xmlSpace",xmlnsxlink:"xmlnsXlink","xmlns:xlink":"xmlnsXlink",xmlspace:"xmlSpace",y1:"y1",y2:"y2",y:"y",ychannelselector:"yChannelSelector",z:"z",zoomandpan:"zoomAndPan"},mn={"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},gn={},vn=new RegExp("^(aria)-["+A+"]*$"),yn=new RegExp("^(aria)[A-Z]["+A+"]*$"),bn=Object.prototype.hasOwnProperty;function xn(e,t){if(bn.call(gn,t)&&gn[t])return!0;if(yn.test(t)){var n="aria-"+t.slice(4).toLowerCase(),r=mn.hasOwnProperty(n)?n:null;if(null==r)return s("Invalid ARIA attribute `%s`. ARIA attributes follow the pattern aria-* and must be lowercase.",t),gn[t]=!0,!0;if(t!==r)return s("Invalid ARIA attribute `%s`. Did you mean `%s`?",t,r),gn[t]=!0,!0}if(vn.test(t)){var i=t.toLowerCase(),o=mn.hasOwnProperty(i)?i:null;if(null==o)return gn[t]=!0,!1;if(t!==o)return s("Unknown ARIA attribute `%s`. Did you mean `%s`?",t,o),gn[t]=!0,!0}return!0}function _n(e,t){fn(e,t)||function(e,t){var n=[];for(var r in t)xn(0,r)||n.push(r);var i=n.map((function(e){return"`"+e+"`"})).join(", ");1===n.length?s("Invalid aria prop %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",i,e):n.length>1&&s("Invalid aria props %s on <%s> tag. For details, see https://reactjs.org/link/invalid-aria-props",i,e)}(e,t)}var wn=!1;var Sn,En={},Mn=Object.prototype.hasOwnProperty,Tn=/^on./,kn=/^on[^A-Z]/,Rn=new RegExp("^(aria)-["+A+"]*$"),Cn=new RegExp("^(aria)[A-Z]["+A+"]*$");Sn=function(e,t,n,r){if(Mn.call(En,t)&&En[t])return!0;var i=t.toLowerCase();if("onfocusin"===i||"onfocusout"===i)return s("React uses onFocus and onBlur instead of onFocusIn and onFocusOut. All React events are normalized to bubble, so onFocusIn and onFocusOut are not needed/supported by React."),En[t]=!0,!0;if(null!=r){var o=r.registrationNameDependencies,a=r.possibleRegistrationNames;if(o.hasOwnProperty(t))return!0;var l=a.hasOwnProperty(i)?a[i]:null;if(null!=l)return s("Invalid event handler property `%s`. Did you mean `%s`?",t,l),En[t]=!0,!0;if(Tn.test(t))return s("Unknown event handler property `%s`. It will be ignored.",t),En[t]=!0,!0}else if(Tn.test(t))return kn.test(t)&&s("Invalid event handler property `%s`. React events use the camelCase naming convention, for example `onClick`.",t),En[t]=!0,!0;if(Rn.test(t)||Cn.test(t))return!0;if("innerhtml"===i)return s("Directly setting property `innerHTML` is not permitted. For more information, lookup documentation on `dangerouslySetInnerHTML`."),En[t]=!0,!0;if("aria"===i)return s("The `aria` attribute is reserved for future use in React. Pass individual `aria-` attributes instead."),En[t]=!0,!0;if("is"===i&&null!=n&&"string"!=typeof n)return s("Received a `%s` for a string attribute `is`. If this is expected, cast the value to a string.",typeof n),En[t]=!0,!0;if("number"==typeof n&&isNaN(n))return s("Received NaN for the `%s` attribute. If this is expected, cast the value to a string.",t),En[t]=!0,!0;var c=j(t),u=null!==c&&0===c.type;if(pn.hasOwnProperty(i)){var h=pn[i];if(h!==t)return s("Invalid DOM property `%s`. Did you mean `%s`?",t,h),En[t]=!0,!0}else if(!u&&t!==i)return s("React does not recognize the `%s` prop on a DOM element. If you intentionally want it to appear in the DOM as a custom attribute, spell it as lowercase `%s` instead. If you accidentally passed it from a parent component, remove it from the DOM element.",t,i),En[t]=!0,!0;return"boolean"==typeof n&&U(t,n,c,!1)?(n?s('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.',n,t,t,n,t):s('Received `%s` for a non-boolean attribute `%s`.\n\nIf you want to write it to the DOM, pass a string instead: %s="%s" or %s={value.toString()}.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.',n,t,t,n,t,t,t),En[t]=!0,!0):!!u||(U(t,n,c,!1)?(En[t]=!0,!1):("false"!==n&&"true"!==n||null===c||3!==c.type||(s("Received the string `%s` for the boolean attribute `%s`. %s Did you mean %s={%s}?",n,t,"false"===n?"The browser will interpret it as a truthy value.":'Although this works, it will not work as expected if you pass the string "false".',t,n),En[t]=!0),!0))};function Pn(e,t,n){fn(e,t)||function(e,t,n){var r=[];for(var i in t)Sn(0,i,t[i],n)||r.push(i);var o=r.map((function(e){return"`"+e+"`"})).join(", ");1===r.length?s("Invalid value for prop %s on <%s> tag. Either remove it from the element, or pass a string or number value to keep it in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",o,e):r.length>1&&s("Invalid values for props %s on <%s> tag. Either remove them from the element, or pass a string or number value to keep them in the DOM. For details, see https://reactjs.org/link/attribute-behavior ",o,e)}(e,t,n)}function An(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Ln=null,On=null,In=null;function Nn(e){var t=vl(e);if(t){if("function"!=typeof Ln)throw Error("setRestoreImplementation() needs to be called to handle a target for controlled events. This error is likely caused by a bug in React. Please file an issue.");var n=t.stateNode;if(n){var r=bl(n);Ln(t.stateNode,t.type,r)}}}function Dn(e){On?In?In.push(e):In=[e]:On=e}function zn(){if(On){var e=On,t=In;if(On=null,In=null,Nn(e),t)for(var n=0;n<t.length;n++)Nn(t[n])}}var Fn=function(e,t){return e(t)},Un=function(e,t,n,r,i){return e(t,n,r,i)},Bn=function(){},jn=Fn,Hn=!1,Vn=!1;function Gn(){(null!==On||null!==In)&&(Bn(),zn())}function Wn(e,t){var n=e.stateNode;if(null===n)return null;var r=bl(n);if(null===r)return null;var i=r[t];if(function(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":return!(!n.disabled||(r=t,"button"!==r&&"input"!==r&&"select"!==r&&"textarea"!==r));default:return!1}var r}(t,e.type,r))return null;if(i&&"function"!=typeof i)throw Error("Expected `"+t+"` listener to be a function, instead got a value of `"+typeof i+"` type.");return i}var qn=!1;if(C)try{var Xn={};Object.defineProperty(Xn,"passive",{get:function(){qn=!0}}),window.addEventListener("test",Xn,Xn),window.removeEventListener("test",Xn,Xn)}catch(e){qn=!1}function Yn(e,t,n,r,i,o,a,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var Zn=Yn;if("undefined"!=typeof window&&"function"==typeof window.dispatchEvent&&"undefined"!=typeof document&&"function"==typeof document.createEvent){var Qn=document.createElement("react");Zn=function(e,t,n,r,i,o,a,s,l){if("undefined"==typeof document)throw Error("The `document` global was defined when React was initialized, but is not defined anymore. This can happen in a test environment if a component schedules an update from an asynchronous callback, but the test has already finished running. To solve this, you can either unmount the component at the end of your test (and ensure that any asynchronous operations get canceled in `componentWillUnmount`), or you can change the test itself to be asynchronous.");var c=document.createEvent("Event"),u=!1,h=!0,d=window.event,f=Object.getOwnPropertyDescriptor(window,"event");function p(){Qn.removeEventListener(_,v,!1),void 0!==window.event&&window.hasOwnProperty("event")&&(window.event=d)}var m,g=Array.prototype.slice.call(arguments,3);function v(){u=!0,p(),t.apply(n,g),h=!1}var y=!1,b=!1;function x(e){if(m=e.error,y=!0,null===m&&0===e.colno&&0===e.lineno&&(b=!0),e.defaultPrevented&&null!=m&&"object"==typeof m)try{m._suppressLogging=!0}catch(e){}}var _="react-"+(e||"invokeguardedcallback");if(window.addEventListener("error",x),Qn.addEventListener(_,v,!1),c.initEvent(_,!1,!1),Qn.dispatchEvent(c),f&&Object.defineProperty(window,"event",f),u&&h&&(y?b&&(m=new Error("A cross-origin error was thrown. React doesn't have access to the actual error object in development. See https://reactjs.org/link/crossorigin-error for more information.")):m=new Error("An error was thrown inside one of your components, but React doesn't know what it was. This is likely due to browser flakiness. React does its best to preserve the \"Pause on exceptions\" behavior of the DevTools, which requires some DEV-mode only tricks. It's possible that these don't work in your browser. Try triggering the error in production mode, or switching to a modern browser. If you suspect that this is actually an issue with React, please file an issue."),this.onError(m)),window.removeEventListener("error",x),!u)return p(),Yn.apply(this,arguments)}}var $n=Zn,Kn=!1,Jn=null,er=!1,tr=null,nr={onError:function(e){Kn=!0,Jn=e}};function rr(e,t,n,r,i,o,a,s,l){Kn=!1,Jn=null,$n.apply(nr,arguments)}function ir(){return Kn}function or(){if(Kn){var e=Jn;return Kn=!1,Jn=null,e}throw Error("clearCaughtError was called but no error was captured. This error is likely caused by a bug in React. Please file an issue.")}function ar(e){return e._reactInternals}var sr,lr,cr,ur,hr=64,dr=128,fr=256,pr=512,mr=8192,gr=1024,vr=2048,yr=4096,br=16384,xr=o.ReactCurrentOwner;function _r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{var r=t;do{0!=(1026&(t=r).flags)&&(n=t.return),r=t.return}while(r)}return 3===t.tag?n:null}function wr(e){if(e.tag===f){var t=e.memoizedState;if(null===t){var n=e.alternate;null!==n&&(t=n.memoizedState)}if(null!==t)return t.dehydrated}return null}function Sr(e){return 3===e.tag?e.stateNode.containerInfo:null}function Er(e){if(_r(e)!==e)throw Error("Unable to find node on an unmounted component.")}function Mr(e){var t=e.alternate;if(!t){var n=_r(e);if(null===n)throw Error("Unable to find node on an unmounted component.");return n!==e?null:e}for(var r=e,i=t;;){var o=r.return;if(null===o)break;var a=o.alternate;if(null===a){var s=o.return;if(null!==s){r=i=s;continue}break}if(o.child===a.child){for(var l=o.child;l;){if(l===r)return Er(o),e;if(l===i)return Er(o),t;l=l.sibling}throw Error("Unable to find node on an unmounted component.")}if(r.return!==i.return)r=o,i=a;else{for(var c=!1,u=o.child;u;){if(u===r){c=!0,r=o,i=a;break}if(u===i){c=!0,i=o,r=a;break}u=u.sibling}if(!c){for(u=a.child;u;){if(u===r){c=!0,r=a,i=o;break}if(u===i){c=!0,i=a,r=o;break}u=u.sibling}if(!c)throw Error("Child was not found in either parent set. This indicates a bug in React related to the return pointer. Please file an issue.")}}if(r.alternate!==i)throw Error("Return fibers should always be each others' alternates. This error is likely caused by a bug in React. Please file an issue.")}if(3!==r.tag)throw Error("Unable to find node on an unmounted component.");return r.stateNode.current===r?e:t}function Tr(e){var t=Mr(e);if(!t)return null;for(var n=t;;){if(5===n.tag||6===n.tag)return n;if(n.child)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}function kr(e,t){for(var n=t,r=e.alternate;null!==n;){if(n===e||n===r)return!0;n=n.return}return!1}var Rr=!1,Cr=[],Pr=null,Ar=null,Lr=null,Or=new Map,Ir=new Map,Nr=[];var Dr=["mousedown","mouseup","touchcancel","touchend","touchstart","auxclick","dblclick","pointercancel","pointerdown","pointerup","dragend","dragstart","drop","compositionend","compositionstart","keydown","keypress","keyup","input","textInput","copy","cut","paste","click","change","contextmenu","reset","submit"];function zr(e){return Dr.indexOf(e)>-1}function Fr(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function Ur(e,t,n,r,i){var o=Fr(e,t,n,r,i);Cr.push(o)}function Br(e,t){switch(e){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Ar=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":var n=t.pointerId;Or.delete(n);break;case"gotpointercapture":case"lostpointercapture":var r=t.pointerId;Ir.delete(r)}}function jr(e,t,n,r,i,o){if(null===e||e.nativeEvent!==o){var a=Fr(t,n,r,i,o);if(null!==t){var s=vl(t);null!==s&&lr(s)}return a}e.eventSystemFlags|=r;var l=e.targetContainers;return null!==i&&-1===l.indexOf(i)&&l.push(i),e}function Hr(e){var t=gl(e.target);if(null!==t){var n=_r(t);if(null!==n){var i=n.tag;if(i===f){var o=wr(n);if(null!==o)return e.blockedOn=o,void ur(e.lanePriority,(function(){r.unstable_runWithPriority(e.priority,(function(){cr(n)}))}))}else if(3===i){if(n.stateNode.hydrate)return void(e.blockedOn=Sr(n))}}}e.blockedOn=null}function Vr(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;t.length>0;){var n=t[0],r=Ki(e.domEventName,e.eventSystemFlags,n,e.nativeEvent);if(null!==r){var i=vl(r);return null!==i&&lr(i),e.blockedOn=r,!1}t.shift()}return!0}function Gr(e,t,n){Vr(e)&&n.delete(t)}function Wr(){for(Rr=!1;Cr.length>0;){var e=Cr[0];if(null!==e.blockedOn){var t=vl(e.blockedOn);null!==t&&sr(t);break}for(var n=e.targetContainers;n.length>0;){var r=n[0],i=Ki(e.domEventName,e.eventSystemFlags,r,e.nativeEvent);if(null!==i){e.blockedOn=i;break}n.shift()}null===e.blockedOn&&Cr.shift()}null!==Pr&&Vr(Pr)&&(Pr=null),null!==Ar&&Vr(Ar)&&(Ar=null),null!==Lr&&Vr(Lr)&&(Lr=null),Or.forEach(Gr),Ir.forEach(Gr)}function qr(e,t){e.blockedOn===t&&(e.blockedOn=null,Rr||(Rr=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Wr)))}function Xr(e){if(Cr.length>0){qr(Cr[0],e);for(var t=1;t<Cr.length;t++){var n=Cr[t];n.blockedOn===e&&(n.blockedOn=null)}}null!==Pr&&qr(Pr,e),null!==Ar&&qr(Ar,e),null!==Lr&&qr(Lr,e);var r=function(t){return qr(t,e)};Or.forEach(r),Ir.forEach(r);for(var i=0;i<Nr.length;i++){var o=Nr[i];o.blockedOn===e&&(o.blockedOn=null)}for(;Nr.length>0;){var a=Nr[0];if(null!==a.blockedOn)break;Hr(a),null===a.blockedOn&&Nr.shift()}}function Yr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Zr={animationend:Yr("Animation","AnimationEnd"),animationiteration:Yr("Animation","AnimationIteration"),animationstart:Yr("Animation","AnimationStart"),transitionend:Yr("Transition","TransitionEnd")},Qr={},$r={};function Kr(e){if(Qr[e])return Qr[e];if(!Zr[e])return e;var t=Zr[e];for(var n in t)if(t.hasOwnProperty(n)&&n in $r)return Qr[e]=t[n];return e}C&&($r=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);var Jr=Kr("animationend"),ei=Kr("animationiteration"),ti=Kr("animationstart"),ni=Kr("transitionend"),ri=new Map,ii=new Map,oi=["cancel","cancel","click","click","close","close","contextmenu","contextMenu","copy","copy","cut","cut","auxclick","auxClick","dblclick","doubleClick","dragend","dragEnd","dragstart","dragStart","drop","drop","focusin","focus","focusout","blur","input","input","invalid","invalid","keydown","keyDown","keypress","keyPress","keyup","keyUp","mousedown","mouseDown","mouseup","mouseUp","paste","paste","pause","pause","play","play","pointercancel","pointerCancel","pointerdown","pointerDown","pointerup","pointerUp","ratechange","rateChange","reset","reset","seeked","seeked","submit","submit","touchcancel","touchCancel","touchend","touchEnd","touchstart","touchStart","volumechange","volumeChange"],ai=["change","selectionchange","textInput","compositionstart","compositionend","compositionupdate"],si=["drag","drag","dragenter","dragEnter","dragexit","dragExit","dragleave","dragLeave","dragover","dragOver","mousemove","mouseMove","mouseout","mouseOut","mouseover","mouseOver","pointermove","pointerMove","pointerout","pointerOut","pointerover","pointerOver","scroll","scroll","toggle","toggle","touchmove","touchMove","wheel","wheel"],li=["abort","abort",Jr,"animationEnd",ei,"animationIteration",ti,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",ni,"transitionEnd","waiting","waiting"];function ci(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));ii.set(r,t),ri.set(r,o),k(o,[r])}}var ui=r.unstable_now;if(null==i.__interactionsRef||null==i.__interactionsRef.current)throw Error("It is not supported to run the profiling version of a renderer (for example, `react-dom/profiling`) without also replacing the `scheduler/tracing` module with `scheduler/tracing-profiling`. Your bundler might have a setting for aliasing both modules. Learn more at https://reactjs.org/link/profiling");ui();var hi=15,di=10,fi=3584,pi=4186112,mi=62914560,gi=33554432,vi=67108864,yi=134217727,bi=134217728,xi=805306368,_i=1073741824,wi=-1;var Si=8;function Ei(e){if(0!=(1&e))return Si=hi,1;if(0!=(2&e))return Si=14,2;if(0!=(4&e))return Si=13,4;var t=24&e;if(0!==t)return Si=12,t;if(0!=(32&e))return Si=11,32;var n=192&e;if(0!==n)return Si=di,n;if(0!=(256&e))return Si=9,256;var r=fi&e;if(0!==r)return Si=8,r;if(0!=(4096&e))return Si=7,4096;var i=pi&e;if(0!==i)return Si=6,i;var o=mi&e;if(0!==o)return Si=5,o;if(e&vi)return Si=4,vi;if(0!=(e&bi))return Si=3,bi;var a=xi&e;return 0!==a?(Si=2,a):0!=(_i&e)?(Si=1,_i):(s("Should have found matching lanes. This is a bug in React."),Si=8,e)}function Mi(e,t){var n=e.pendingLanes;if(0===n)return Si=0,0;var r=0,i=0,o=e.expiredLanes,a=e.suspendedLanes,s=e.pingedLanes;if(0!==o)r=o,i=Si=hi;else{var l=n&yi;if(0!==l){var c=l&~a;if(0!==c)r=Ei(c),i=Si;else{var u=l&s;0!==u&&(r=Ei(u),i=Si)}}else{var h=n&~a;0!==h?(r=Ei(h),i=Si):0!==s&&(r=Ei(s),i=Si)}}if(0===r)return 0;if(r=n&function(e){return(function(e){var t=31-ji(e);return t<0?0:1<<t}(e)<<1)-1}(r),0!==t&&t!==r&&0==(t&a)){if(Ei(t),i<=Si)return t;Si=i}var d=e.entangledLanes;if(0!==d)for(var f=e.entanglements,p=r&d;p>0;){var m=Li(p),g=1<<m;r|=f[m],p&=~g}return r}function Ti(e,t){Ei(e);return Si>=di?t+250:Si>=6?t+5e3:wi}function ki(e){var t=-1073741825&e.pendingLanes;return 0!==t?t:t&_i?_i:0}function Ri(e){return 0!=(e&yi)}function Ci(e){return(e&mi)===e}function Pi(e,t){switch(e){case 0:break;case hi:return 1;case 14:return 2;case 12:var n=Ai(24&~t);return 0===n?Pi(di,t):n;case di:var r=Ai(192&~t);return 0===r?Pi(8,t):r;case 8:var i=Ai(fi&~t);return 0===i&&0===(i=Ai(pi&~t))&&(i=Ai(fi)),i;case 6:case 5:break;case 2:var o=Ai(xi&~t);return 0===o&&(o=Ai(xi)),o}throw Error("Invalid update priority: "+e+". This is a bug in React.")}function Ai(e){return function(e){return e&-e}(e)}function Li(e){return 31-ji(e)}function Oi(e,t){return 0!=(e&t)}function Ii(e,t){return(e&t)===t}function Ni(e,t){return e|t}function Di(e,t){return e&~t}function zi(e){for(var t=[],n=0;n<31;n++)t.push(e);return t}function Fi(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,e.eventTimes[Li(t)]=n}function Ui(e,t,n){e.pingedLanes|=e.suspendedLanes&t}function Bi(e,t){e.mutableReadLanes|=t&e.pendingLanes}var ji=Math.clz32?Math.clz32:function(e){if(0===e)return 32;return 31-(Hi(e)/Vi|0)|0},Hi=Math.log,Vi=Math.LN2;var Gi=r.unstable_UserBlockingPriority,Wi=r.unstable_runWithPriority,qi=!0;function Xi(e){qi=!!e}function Yi(e,t,n){var r;switch(function(e){var t=ii.get(e);return void 0===t?2:t}(t)){case 0:r=Zi;break;case 1:r=Qi;break;case 2:default:r=$i}return r.bind(null,t,n,e)}function Zi(e,t,n,r){r.timeStamp,Hn||Bn(),function(e,t,n,r,i){var o=Hn;Hn=!0;try{Un(e,t,n,r,i)}finally{(Hn=o)||Gn()}}($i,e,t,n,r)}function Qi(e,t,n,r){Wi(Gi,$i.bind(null,e,t,n,r))}function $i(e,t,n,r){if(qi){var i;if((i=0==(4&t))&&Cr.length>0&&zr(e))Ur(null,e,t,n,r);else{var o=Ki(e,t,n,r);if(null!==o){if(i){if(zr(e))return void Ur(o,e,t,n,r);if(function(e,t,n,r,i){switch(t){case"focusin":return Pr=jr(Pr,e,t,n,r,i),!0;case"dragenter":return Ar=jr(Ar,e,t,n,r,i),!0;case"mouseover":return Lr=jr(Lr,e,t,n,r,i),!0;case"pointerover":var o=i,a=o.pointerId;return Or.set(a,jr(Or.get(a)||null,e,t,n,r,o)),!0;case"gotpointercapture":var s=i,l=s.pointerId;return Ir.set(l,jr(Ir.get(l)||null,e,t,n,r,s)),!0}return!1}(o,e,t,n,r))return;Br(e,r)}qa(e,t,r,null,n)}else i&&Br(e,r)}}}function Ki(e,t,n,r){var i=gl(An(r));if(null!==i){var o=_r(i);if(null===o)i=null;else{var a=o.tag;if(a===f){var s=wr(o);if(null!==s)return s;i=null}else if(3===a){if(o.stateNode.hydrate)return Sr(o);i=null}else o!==i&&(i=null)}}return qa(e,t,r,i,n),null}var Ji=null,eo=null,to=null;function no(){if(to)return to;var e,t,n=eo,r=n.length,i=ro(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return to=i.slice(e,s)}function ro(){return"value"in Ji?Ji.value:Ji.textContent}function io(e){var t,n=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===n&&(t=13):t=n,10===t&&(t=13),t>=32||13===t?t:0}function oo(){return!0}function ao(){return!1}function so(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)if(e.hasOwnProperty(a)){var s=e[a];this[a]=s?s(i):i[a]}var l=null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue;return this.isDefaultPrevented=l?oo:ao,this.isPropagationStopped=ao,this}return n(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=oo)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=oo)},persist:function(){},isPersistent:oo}),t}var lo,co,uo,ho={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fo=so(ho),po=n({},ho,{view:0,detail:0}),mo=so(po);var go=n({},po,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ro,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(function(e){e!==uo&&(uo&&"mousemove"===e.type?(lo=e.screenX-uo.screenX,co=e.screenY-uo.screenY):(lo=0,co=0),uo=e)}(e),lo)},movementY:function(e){return"movementY"in e?e.movementY:co}}),vo=so(go),yo=so(n({},go,{dataTransfer:0})),bo=so(n({},po,{relatedTarget:0})),xo=so(n({},ho,{animationName:0,elapsedTime:0,pseudoElement:0})),_o=so(n({},ho,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),wo=so(n({},ho,{data:0})),So=wo,Eo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};var To={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ko(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var n=To[e];return!!n&&!!t[n]}function Ro(e){return ko}var Co=so(n({},po,{key:function(e){if(e.key){var t=Eo[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=io(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?Mo[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ro,charCode:function(e){return"keypress"===e.type?io(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?io(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Po=so(n({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ao=so(n({},po,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ro})),Lo=so(n({},ho,{propertyName:0,elapsedTime:0,pseudoElement:0})),Oo=so(n({},go,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Io=[9,13,27,32],No=C&&"CompositionEvent"in window,Do=null;C&&"documentMode"in document&&(Do=document.documentMode);var zo=C&&"TextEvent"in window&&!Do,Fo=C&&(!No||Do&&Do>8&&Do<=11),Uo=String.fromCharCode(32);var Bo=!1;function jo(e,t){switch(e){case"keyup":return-1!==Io.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ho(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function Vo(e){return"ko"===e.locale}var Go=!1;function Wo(e,t,n,r,i){var o,a;if(No?o=function(e){switch(e){case"compositionstart":return"onCompositionStart";case"compositionend":return"onCompositionEnd";case"compositionupdate":return"onCompositionUpdate"}}(t):Go?jo(t,r)&&(o="onCompositionEnd"):function(e,t){return"keydown"===e&&229===t.keyCode}(t,r)&&(o="onCompositionStart"),!o)return null;Fo&&!Vo(r)&&(Go||"onCompositionStart"!==o?"onCompositionEnd"===o&&Go&&(a=no()):Go=function(e){return Ji=e,eo=ro(),!0}(i));var s=Ya(n,o);if(s.length>0){var l=new wo(o,t,null,r,i);if(e.push({event:l,listeners:s}),a)l.data=a;else{var c=Ho(r);null!==c&&(l.data=c)}}}function qo(e,t){if(Go){if("compositionend"===e||!No&&jo(e,t)){var n=no();return Ji=null,eo=null,to=null,Go=!1,n}return null}switch(e){case"paste":return null;case"keypress":if(!function(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}(t)){if(t.char&&t.char.length>1)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fo&&!Vo(t)?null:t.data;default:return null}}function Xo(e,t,n,r,i){var o;if(!(o=zo?function(e,t){switch(e){case"compositionend":return Ho(t);case"keypress":return 32!==t.which?null:(Bo=!0,Uo);case"textInput":var n=t.data;return n===Uo&&Bo?null:n;default:return null}}(t,r):qo(t,r)))return null;var a=Ya(n,"onBeforeInput");if(a.length>0){var s=new So("onBeforeInput","beforeinput",null,r,i);e.push({event:s,listeners:a}),s.data=o}}var Yo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Yo[e.type]:"textarea"===t}
/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Qo(e,t,n,r){Dn(r);var i=Ya(t,"onChange");if(i.length>0){var o=new fo("onChange","change",null,n,r);e.push({event:o,listeners:i})}}var $o=null,Ko=null;function Jo(e){var t=[];Qo(t,Ko,e,An(e)),function(e,t){if(Hn)return e(t);Hn=!0;try{Fn(e,t)}finally{Hn=!1,Gn()}}(ea,t)}function ea(e){Ua(e,0)}function ta(e){if(it(yl(e)))return e}function na(e,t){if("change"===e)return t}var ra=!1;function ia(){$o&&($o.detachEvent("onpropertychange",oa),$o=null,Ko=null)}function oa(e){"value"===e.propertyName&&ta(Ko)&&Jo(e)}function aa(e,t,n){"focusin"===e?(ia(),function(e,t){Ko=t,($o=e).attachEvent("onpropertychange",oa)}(t,n)):"focusout"===e&&ia()}function sa(e,t){if("selectionchange"===e||"keyup"===e||"keydown"===e)return ta(Ko)}function la(e,t){if("click"===e)return ta(t)}function ca(e,t){if("input"===e||"change"===e)return ta(t)}function ua(e,t,n,r,i,o,a){var s,l,c,u,h,d,f=n?yl(n):window;if("select"===(u=(c=f).nodeName&&c.nodeName.toLowerCase())||"input"===u&&"file"===c.type?s=na:Zo(f)?ra?s=ca:(s=sa,l=aa):function(e){var t=e.nodeName;return t&&"input"===t.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}(f)&&(s=la),s){var p=s(t,n);if(p)return void Qo(e,p,r,i)}l&&l(t,f,n),"focusout"===t&&(d=(h=f)._wrapperState)&&d.controlled&&"number"===h.type&&vt(h,"number",h.value)}function ha(e,t,n,r,i,o,a){var s="mouseover"===t||"pointerover"===t,l="mouseout"===t||"pointerout"===t;if(s&&0==(16&o)){var c=r.relatedTarget||r.fromElement;if(c&&(gl(c)||ml(c)))return}if(l||s){var u,h,d;if(i.window===i)u=i;else{var f=i.ownerDocument;u=f?f.defaultView||f.parentWindow:window}if(l){var p=r.relatedTarget||r.toElement;if(h=n,null!==(d=p?gl(p):null))(d!==_r(d)||5!==d.tag&&6!==d.tag)&&(d=null)}else h=null,d=n;if(h!==d){var m=vo,g="onMouseLeave",v="onMouseEnter",y="mouse";"pointerout"!==t&&"pointerover"!==t||(m=Po,g="onPointerLeave",v="onPointerEnter",y="pointer");var b=null==h?u:yl(h),x=null==d?u:yl(d),_=new m(g,y+"leave",h,r,i);_.target=b,_.relatedTarget=x;var w=null;if(gl(i)===n){var S=new m(v,y+"enter",d,r,i);S.target=x,S.relatedTarget=b,w=S}!function(e,t,n,r,i){var o=r&&i?function(e,t){for(var n=e,r=t,i=0,o=n;o;o=Za(o))i++;for(var a=0,s=r;s;s=Za(s))a++;for(;i-a>0;)n=Za(n),i--;for(;a-i>0;)r=Za(r),a--;var l=i;for(;l--;){if(n===r||null!==r&&n===r.alternate)return n;n=Za(n),r=Za(r)}return null}(r,i):null;null!==r&&Qa(e,t,r,o,!1);null!==i&&null!==n&&Qa(e,n,i,o,!0)}(e,_,w,h,d)}}}C&&(ra=function(e){if(!C)return!1;var t="on"+e,n=t in document;if(!n){var r=document.createElement("div");r.setAttribute(t,"return;"),n="function"==typeof r[t]}return n}("input")&&(!document.documentMode||document.documentMode>9));var da="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},fa=Object.prototype.hasOwnProperty;function pa(e,t){if(da(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!fa.call(t,n[i])||!da(e[n[i]],t[n[i]]))return!1;return!0}function ma(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ga(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function va(e,t){for(var n=ma(e),r=0,i=0;n;){if(3===n.nodeType){if(i=r+n.textContent.length,r<=t&&i>=t)return{node:n,offset:t-r};r=i}n=ma(ga(n))}}function ya(e){var t=e.ownerDocument,n=t&&t.defaultView||window,r=n.getSelection&&n.getSelection();if(!r||0===r.rangeCount)return null;var i=r.anchorNode,o=r.anchorOffset,a=r.focusNode,s=r.focusOffset;try{i.nodeType,a.nodeType}catch(e){return null}return function(e,t,n,r,i){var o=0,a=-1,s=-1,l=0,c=0,u=e,h=null;e:for(;;){for(var d=null;u!==t||0!==n&&3!==u.nodeType||(a=o+n),u!==r||0!==i&&3!==u.nodeType||(s=o+i),3===u.nodeType&&(o+=u.nodeValue.length),null!==(d=u.firstChild);)h=u,u=d;for(;;){if(u===e)break e;if(h===t&&++l===n&&(a=o),h===r&&++c===i&&(s=o),null!==(d=u.nextSibling))break;h=(u=h).parentNode}u=d}if(-1===a||-1===s)return null;return{start:a,end:s}}(e,i,o,a,s)}function ba(e){return e&&3===e.nodeType}function xa(e,t){return!(!e||!t)&&(e===t||!ba(e)&&(ba(t)?xa(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function _a(e){return e&&e.ownerDocument&&xa(e.ownerDocument.documentElement,e)}function wa(e){try{return"string"==typeof e.contentWindow.location.href}catch(e){return!1}}function Sa(){for(var e=window,t=ot();t instanceof e.HTMLIFrameElement;){if(!wa(t))return t;t=ot((e=t.contentWindow).document)}return t}function Ea(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Ma(e){var t=Sa(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&_a(n)){null!==r&&Ea(n)&&function(e,t){var n=t.start,r=t.end;void 0===r&&(r=n);"selectionStart"in e?(e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length)):function(e,t){var n=e.ownerDocument||document,r=n&&n.defaultView||window;if(r.getSelection){var i=r.getSelection(),o=e.textContent.length,a=Math.min(t.start,o),s=void 0===t.end?a:Math.min(t.end,o);if(!i.extend&&a>s){var l=s;s=a,a=l}var c=va(e,a),u=va(e,s);if(c&&u){if(1===i.rangeCount&&i.anchorNode===c.node&&i.anchorOffset===c.offset&&i.focusNode===u.node&&i.focusOffset===u.offset)return;var h=n.createRange();h.setStart(c.node,c.offset),i.removeAllRanges(),a>s?(i.addRange(h),i.extend(u.node,u.offset)):(h.setEnd(u.node,u.offset),i.addRange(h))}}}(e,t)}(n,r);for(var i=[],o=n;o=o.parentNode;)1===o.nodeType&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});"function"==typeof n.focus&&n.focus();for(var a=0;a<i.length;a++){var s=i[a];s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}}function Ta(e){return("selectionStart"in e?{start:e.selectionStart,end:e.selectionEnd}:ya(e))||{start:0,end:0}}var ka=C&&"documentMode"in document&&document.documentMode<=11;var Ra=null,Ca=null,Pa=null,Aa=!1;function La(e,t,n){var r,i=(r=n).window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!Aa&&null!=Ra&&Ra===ot(i)){var o=function(e){if("selectionStart"in e&&Ea(e))return{start:e.selectionStart,end:e.selectionEnd};var t=(e.ownerDocument&&e.ownerDocument.defaultView||window).getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}(Ra);if(!Pa||!pa(Pa,o)){Pa=o;var a=Ya(Ca,"onSelect");if(a.length>0){var s=new fo("onSelect","select",null,t,n);e.push({event:s,listeners:a}),s.target=Ra}}}}function Oa(e,t,n,r,i,o,a){var s=ri.get(t);if(void 0!==s){var l=fo,c=t;switch(t){case"keypress":if(0===io(r))return;case"keydown":case"keyup":l=Co;break;case"focusin":c="focus",l=bo;break;case"focusout":c="blur",l=bo;break;case"beforeblur":case"afterblur":l=bo;break;case"click":if(2===r.button)return;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=vo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ao;break;case Jr:case ei:case ti:l=xo;break;case ni:l=Lo;break;case"scroll":l=mo;break;case"wheel":l=Oo;break;case"copy":case"cut":case"paste":l=_o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Po}var u=0!=(4&o),h=!u&&"scroll"===t,d=function(e,t,n,r,i){var o=null!==t?t+"Capture":null,a=r?o:t,s=[],l=e,c=null;for(;null!==l;){var u=l,h=u.stateNode;if(5===u.tag&&null!==h&&(c=h,null!==a)){var d=Wn(l,a);null!=d&&s.push(Xa(l,d,c))}if(i)break;l=l.return}return s}(n,s,r.type,u,h);if(d.length>0){var f=new l(s,c,null,r,i);e.push({event:f,listeners:d})}}}function Ia(e,t,n,r,i,o,a){Oa(e,t,n,r,i,o),0==(7&o)&&(ha(e,t,n,r,i,o),ua(e,t,n,r,i),function(e,t,n,r,i,o,a){var s=n?yl(n):window;switch(t){case"focusin":(Zo(s)||"true"===s.contentEditable)&&(Ra=s,Ca=n,Pa=null);break;case"focusout":Ra=null,Ca=null,Pa=null;break;case"mousedown":Aa=!0;break;case"contextmenu":case"mouseup":case"dragend":Aa=!1,La(e,r,i);break;case"selectionchange":if(ka)break;case"keydown":case"keyup":La(e,r,i)}}(e,t,n,r,i),function(e,t,n,r,i,o,a){Wo(e,t,n,r,i),Xo(e,t,n,r,i)}(e,t,n,r,i))}ci(oi,0),ci(si,1),ci(li,2),function(e,t){for(var n=0;n<e.length;n++)ii.set(e[n],t)}(ai,0),R("onMouseEnter",["mouseout","mouseover"]),R("onMouseLeave",["mouseout","mouseover"]),R("onPointerEnter",["pointerout","pointerover"]),R("onPointerLeave",["pointerout","pointerover"]),k("onChange",["change","click","focusin","focusout","input","keydown","keyup","selectionchange"]),k("onSelect",["focusout","contextmenu","dragend","focusin","keydown","keyup","mousedown","mouseup","selectionchange"]),k("onBeforeInput",["compositionend","keypress","textInput","paste"]),k("onCompositionEnd",["compositionend","focusout","keydown","keypress","keyup","mousedown"]),k("onCompositionStart",["compositionstart","focusout","keydown","keypress","keyup","mousedown"]),k("onCompositionUpdate",["compositionupdate","focusout","keydown","keypress","keyup","mousedown"]);var Na=["abort","canplay","canplaythrough","durationchange","emptied","encrypted","ended","error","loadeddata","loadedmetadata","loadstart","pause","play","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],Da=new Set(["cancel","close","invalid","load","scroll","toggle"].concat(Na));function za(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,s,l){if(rr.apply(this,arguments),Kn){var c=or();er||(er=!0,tr=c)}}(r,t,void 0,e),e.currentTarget=null}function Fa(e,t,n){var r;if(n)for(var i=t.length-1;i>=0;i--){var o=t[i],a=o.instance,s=o.currentTarget,l=o.listener;if(a!==r&&e.isPropagationStopped())return;za(e,l,s),r=a}else for(var c=0;c<t.length;c++){var u=t[c],h=u.instance,d=u.currentTarget,f=u.listener;if(h!==r&&e.isPropagationStopped())return;za(e,f,d),r=h}}function Ua(e,t){for(var n=0!=(4&t),r=0;r<e.length;r++){var i=e[r];Fa(i.event,i.listeners,n)}!function(){if(er){var e=tr;throw er=!1,tr=null,e}}()}function Ba(e,t){var n=_l(t),r=$a(e,false);n.has(r)||(Ga(t,e,2,false),n.add(r))}var ja="_reactListening"+Math.random().toString(36).slice(2);function Ha(e){e[ja]||(e[ja]=!0,E.forEach((function(t){Da.has(t)||Va(t,!1,e,null),Va(t,!0,e,null)})))}function Va(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===e&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!t&&Da.has(e)){if("scroll"!==e)return;i|=2,o=r}var a=_l(o),s=$a(e,t);a.has(s)||(t&&(i|=4),Ga(o,e,i,t),a.add(s))}function Ga(e,t,n,r,i){var o=Yi(e,t,n),a=void 0;qn&&("touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0)),e=e,r?void 0!==a?function(e,t,n,r){e.addEventListener(t,n,{capture:!0,passive:r})}(e,t,o,a):function(e,t,n){e.addEventListener(t,n,!0)}(e,t,o):void 0!==a?function(e,t,n,r){e.addEventListener(t,n,{passive:r})}(e,t,o,a):function(e,t,n){e.addEventListener(t,n,!1)}(e,t,o)}function Wa(e,t){return e===t||8===e.nodeType&&e.parentNode===t}function qa(e,t,n,r,i){var o=r;if(0==(1&t)&&0==(2&t)){var a=i;if(null!==r){var s=r;e:for(;;){if(null===s)return;var l=s.tag;if(3===l||4===l){var c=s.stateNode.containerInfo;if(Wa(c,a))break;if(4===l)for(var u=s.return;null!==u;){var h=u.tag;if(3===h||4===h)if(Wa(u.stateNode.containerInfo,a))return;u=u.return}for(;null!==c;){var d=gl(c);if(null===d)return;var f=d.tag;if(5===f||6===f){s=o=d;continue e}c=c.parentNode}}s=s.return}}}!function(e,t,n){if(Vn)return e(t,n);Vn=!0;try{jn(e,t,n)}finally{Vn=!1,Gn()}}((function(){return function(e,t,n,r,i){var o=[];Ia(o,e,r,n,An(n),t),Ua(o,t)}(e,t,n,o)}))}function Xa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ya(e,t){for(var n=t+"Capture",r=[],i=e;null!==i;){var o=i,a=o.stateNode;if(5===o.tag&&null!==a){var s=a,l=Wn(i,n);null!=l&&r.unshift(Xa(i,l,s));var c=Wn(i,t);null!=c&&r.push(Xa(i,c,s))}i=i.return}return r}function Za(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qa(e,t,n,r,i){for(var o=t._reactName,a=[],s=n;null!==s&&s!==r;){var l=s,c=l.alternate,u=l.stateNode,h=l.tag;if(null!==c&&c===r)break;if(5===h&&null!==u){var d=u;if(i){var f=Wn(s,o);null!=f&&a.unshift(Xa(s,f,d))}else if(!i){var p=Wn(s,o);null!=p&&a.push(Xa(s,p,d))}}s=s.return}0!==a.length&&e.push({event:t,listeners:a})}function $a(e,t){return e+"__"+(t?"capture":"bubble")}var Ka,Ja,es,ts,ns,rs,is,os,as,ss,ls=!1,cs="dangerouslySetInnerHTML",us="suppressContentEditableWarning",hs="suppressHydrationWarning",ds="autoFocus",fs="children",ps="style",ms=Dt;Ka={dialog:!0,webview:!0},es=function(e,t){_n(e,t),function(e,t){"input"!==e&&"textarea"!==e&&"select"!==e||null==t||null!==t.value||wn||(wn=!0,"select"===e&&t.multiple?s("`value` prop on `%s` should not be null. Consider using an empty array when `multiple` is set to `true` to clear the component or `undefined` for uncontrolled components.",e):s("`value` prop on `%s` should not be null. Consider using an empty string to clear the component or `undefined` for uncontrolled components.",e))}(e,t),Pn(e,t,{registrationNameDependencies:M,possibleRegistrationNames:T})},os=C&&!document.documentMode;var gs=/\r\n?/g,vs=/\u0000|\uFFFD/g;function ys(e){return 9===e.nodeType?e:e.ownerDocument}function bs(){}function xs(e){e.onclick=bs}function _s(e,t,n,r){var i,o=fn(t,n);switch(es(t,n),t){case"dialog":Ba("cancel",e),Ba("close",e),i=n;break;case"iframe":case"object":case"embed":Ba("load",e),i=n;break;case"video":case"audio":for(var a=0;a<Na.length;a++)Ba(Na[a],e);i=n;break;case"source":Ba("error",e),i=n;break;case"img":case"image":case"link":Ba("error",e),Ba("load",e),i=n;break;case"details":Ba("toggle",e),i=n;break;case"input":dt(e,n),i=ht(e,n),Ba("invalid",e);break;case"option":_t(0,n),i=wt(0,n);break;case"select":kt(e,n),i=Tt(0,n),Ba("invalid",e);break;case"textarea":Pt(e,n),i=Ct(e,n),Ba("invalid",e);break;default:i=n}switch(dn(t,i),function(e,t,n,r,i){for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];if(o===ps)a&&Object.freeze(a),cn(t,a);else if(o===cs){var s=a?a.__html:void 0;null!=s&&Ht(t,s)}else o===fs?"string"==typeof a?("textarea"!==e||""!==a)&&Gt(t,a):"number"==typeof a&&Gt(t,""+a):o===us||o===hs||o===ds||(M.hasOwnProperty(o)?null!=a&&("function"!=typeof a&&is(o,a),"onScroll"===o&&Ba("scroll",t)):null!=a&&$(t,o,a,i))}}(t,e,0,i,o),t){case"input":rt(e),mt(e,n,!1);break;case"textarea":rt(e),Lt(e);break;case"option":!function(e,t){null!=t.value&&e.setAttribute("value",$e(Ke(t.value)))}(e,n);break;case"select":!function(e,t){var n=e;n.multiple=!!t.multiple;var r=t.value;null!=r?Mt(n,!!t.multiple,r,!1):null!=t.defaultValue&&Mt(n,!!t.multiple,t.defaultValue,!0)}(e,n);break;default:"function"==typeof i.onClick&&xs(e)}}function ws(e,t,n,r,i){es(t,r);var o,a,l,c,u=null;switch(t){case"input":o=ht(e,n),a=ht(e,r),u=[];break;case"option":o=wt(0,n),a=wt(0,r),u=[];break;case"select":o=Tt(0,n),a=Tt(0,r),u=[];break;case"textarea":o=Ct(e,n),a=Ct(e,r),u=[];break;default:a=r,"function"!=typeof(o=n).onClick&&"function"==typeof a.onClick&&xs(e)}dn(t,a);var h=null;for(l in o)if(!a.hasOwnProperty(l)&&o.hasOwnProperty(l)&&null!=o[l])if(l===ps){var d=o[l];for(c in d)d.hasOwnProperty(c)&&(h||(h={}),h[c]="")}else l===cs||l===fs||l===us||l===hs||l===ds||(M.hasOwnProperty(l)?u||(u=[]):(u=u||[]).push(l,null));for(l in a){var f=a[l],p=null!=o?o[l]:void 0;if(a.hasOwnProperty(l)&&f!==p&&(null!=f||null!=p))if(l===ps)if(f&&Object.freeze(f),p){for(c in p)!p.hasOwnProperty(c)||f&&f.hasOwnProperty(c)||(h||(h={}),h[c]="");for(c in f)f.hasOwnProperty(c)&&p[c]!==f[c]&&(h||(h={}),h[c]=f[c])}else h||(u||(u=[]),u.push(l,h)),h=f;else if(l===cs){var m=f?f.__html:void 0,g=p?p.__html:void 0;null!=m&&g!==m&&(u=u||[]).push(l,m)}else l===fs?"string"!=typeof f&&"number"!=typeof f||(u=u||[]).push(l,""+f):l===us||l===hs||(M.hasOwnProperty(l)?(null!=f&&("function"!=typeof f&&is(l,f),"onScroll"===l&&Ba("scroll",e)),u||p===f||(u=[])):"object"==typeof f&&null!==f&&f.$$typeof===de?f.toString():(u=u||[]).push(l,f))}return h&&(!function(e,t){if(t){var n,r=un(e),i=un(t),o={};for(var a in r){var l=r[a],c=i[a];if(c&&l!==c){var u=l+","+c;if(o[u])continue;o[u]=!0,s("%s a style property during rerender (%s) when a conflicting property is set (%s) can lead to styling bugs. To avoid this, don't mix shorthand and non-shorthand properties for the same value; instead, replace the shorthand with separate values.",null==(n=e[l])||"boolean"==typeof n||""===n?"Removing":"Updating",l,c)}}}}(h,a.style),(u=u||[]).push(ps,h)),u}function Ss(e,t,n,r,i){"input"===n&&"radio"===i.type&&null!=i.name&&ft(e,i);fn(n,r);switch(function(e,t,n,r){for(var i=0;i<t.length;i+=2){var o=t[i],a=t[i+1];o===ps?cn(e,a):o===cs?Ht(e,a):o===fs?Gt(e,a):$(e,o,a,r)}}(e,t,0,fn(n,i)),n){case"input":pt(e,i);break;case"textarea":At(e,i);break;case"select":!function(e,t){var n=e,r=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!t.multiple;var i=t.value;null!=i?Mt(n,!!t.multiple,i,!1):r!==!!t.multiple&&(null!=t.defaultValue?Mt(n,!!t.multiple,t.defaultValue,!0):Mt(n,!!t.multiple,t.multiple?[]:"",!1))}(e,i)}}function Es(e,t){ts(e.nodeValue,t)}function Ms(e,t){ls||(ls=!0,s("Did not expect server HTML to contain a <%s> in <%s>.",t.nodeName.toLowerCase(),e.nodeName.toLowerCase()))}function Ts(e,t){ls||(ls=!0,s('Did not expect server HTML to contain the text node "%s" in <%s>.',t.nodeValue,e.nodeName.toLowerCase()))}function ks(e,t,n){ls||(ls=!0,s("Expected server HTML to contain a matching <%s> in <%s>.",t,e.nodeName.toLowerCase()))}function Rs(e,t){""!==t&&(ls||(ls=!0,s('Expected server HTML to contain a matching text node for "%s" in <%s>.',t,e.nodeName.toLowerCase())))}as=function(e){return("string"==typeof e?e:""+e).replace(gs,"\n").replace(vs,"")},ts=function(e,t){if(!ls){var n=as(t),r=as(e);r!==n&&(ls=!0,s('Text content did not match. Server: "%s" Client: "%s"',r,n))}},ns=function(e,t,n){if(!ls){var r=as(n),i=as(t);i!==r&&(ls=!0,s("Prop `%s` did not match. Server: %s Client: %s",e,JSON.stringify(i),JSON.stringify(r)))}},rs=function(e){if(!ls){ls=!0;var t=[];e.forEach((function(e){t.push(e)})),s("Extra attributes from the server: %s",t)}},is=function(e,t){!1===t?s("Expected `%s` listener to be a function, instead got `false`.\n\nIf you used to conditionally omit it with %s={condition && value}, pass %s={condition ? value : undefined} instead.",e,e,e):s("Expected `%s` listener to be a function, instead got a value of `%s` type.",e,typeof t)},ss=function(e,t){var n=e.namespaceURI===ms?e.ownerDocument.createElement(e.tagName):e.ownerDocument.createElementNS(e.namespaceURI,e.tagName);return n.innerHTML=t,n.innerHTML};var Cs,Ps,As=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"],Ls=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"],Os=Ls.concat(["button"]),Is=["dd","dt","li","option","optgroup","p","rp","rt"],Ns={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};Ps=function(e,t){var r=n({},e||Ns),i={tag:t};return-1!==Ls.indexOf(t)&&(r.aTagInScope=null,r.buttonTagInScope=null,r.nobrTagInScope=null),-1!==Os.indexOf(t)&&(r.pTagInButtonScope=null),-1!==As.indexOf(t)&&"address"!==t&&"div"!==t&&"p"!==t&&(r.listItemTagAutoclosing=null,r.dlItemTagAutoclosing=null),r.current=i,"form"===t&&(r.formTag=i),"a"===t&&(r.aTagInScope=i),"button"===t&&(r.buttonTagInScope=i),"nobr"===t&&(r.nobrTagInScope=i),"p"===t&&(r.pTagInButtonScope=i),"li"===t&&(r.listItemTagAutoclosing=i),"dd"!==t&&"dt"!==t||(r.dlItemTagAutoclosing=i),r};var Ds={};Cs=function(e,t,n){var r=(n=n||Ns).current,i=r&&r.tag;null!=t&&(null!=e&&s("validateDOMNesting: when childText is passed, childTag should be null"),e="#text");var o=function(e,t){switch(t){case"select":return"option"===e||"optgroup"===e||"#text"===e;case"optgroup":return"option"===e||"#text"===e;case"option":return"#text"===e;case"tr":return"th"===e||"td"===e||"style"===e||"script"===e||"template"===e;case"tbody":case"thead":case"tfoot":return"tr"===e||"style"===e||"script"===e||"template"===e;case"colgroup":return"col"===e||"template"===e;case"table":return"caption"===e||"colgroup"===e||"tbody"===e||"tfoot"===e||"thead"===e||"style"===e||"script"===e||"template"===e;case"head":return"base"===e||"basefont"===e||"bgsound"===e||"link"===e||"meta"===e||"title"===e||"noscript"===e||"noframes"===e||"style"===e||"script"===e||"template"===e;case"html":return"head"===e||"body"===e||"frameset"===e;case"frameset":return"frame"===e;case"#document":return"html"===e}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"h1"!==t&&"h2"!==t&&"h3"!==t&&"h4"!==t&&"h5"!==t&&"h6"!==t;case"rp":case"rt":return-1===Is.indexOf(t);case"body":case"caption":case"col":case"colgroup":case"frameset":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return null==t}return!0}(e,i)?null:r,a=o?null:function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null}(e,n),l=o||a;if(l){var c=l.tag,u=!!o+"|"+e+"|"+c;if(!Ds[u]){Ds[u]=!0;var h=e,d="";if("#text"===e?/\S/.test(t)?h="Text nodes":(h="Whitespace text nodes",d=" Make sure you don't have any extra whitespace between tags on each line of your source code."):h="<"+e+">",o){var f="";"table"===c&&"tr"===e&&(f+=" Add a <tbody>, <thead> or <tfoot> to your code to match the DOM tree generated by the browser."),s("validateDOMNesting(...): %s cannot appear as a child of <%s>.%s%s",h,c,d,f)}else s("validateDOMNesting(...): %s cannot appear as a descendant of <%s>.",h,c)}}};var zs="$?",Fs="$!",Us=null,Bs=null;function js(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Hs(e){var t;Us=qi,t=Sa(),Bs={focusedElem:t,selectionRange:Ea(t)?Ta(t):null};return Xi(!1),null}function Vs(e,t,n,r,i){var o=r;if(Cs(e,null,o.ancestorInfo),"string"==typeof t.children||"number"==typeof t.children){var a=""+t.children,l=Ps(o.ancestorInfo,e);Cs(null,a,l)}var c=function(e,t,n,r){var i,o,a=ys(n),l=r;if(l===ms&&(l=Ft(e)),l===ms){if((i=fn(e,t))||e===e.toLowerCase()||s("<%s /> is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.",e),"script"===e){var c=a.createElement("div");c.innerHTML="<script><\/script>";var u=c.firstChild;o=c.removeChild(u)}else if("string"==typeof t.is)o=a.createElement(e,{is:t.is});else if(o=a.createElement(e),"select"===e){var h=o;t.multiple?h.multiple=!0:t.size&&(h.size=t.size)}}else o=a.createElementNS(l,e);return l===ms&&(i||"[object HTMLUnknownElement]"!==Object.prototype.toString.call(o)||Object.prototype.hasOwnProperty.call(Ka,e)||(Ka[e]=!0,s("The tag <%s> is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.",e))),o}(e,t,n,o.namespace);return fl(i,c),xl(c,t),c}function Gs(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}function Ws(e,t,n,r){Cs(null,e,n.ancestorInfo);var i=function(e,t){return ys(t).createTextNode(e)}(e,t);return fl(r,i),i}var qs="function"==typeof setTimeout?setTimeout:void 0,Xs="function"==typeof clearTimeout?clearTimeout:void 0;function Ys(e){Gt(e,"")}function Zs(e,t){e.removeChild(t)}function Qs(e){var t=(e=e).style;"function"==typeof t.setProperty?t.setProperty("display","none","important"):t.display="none"}function $s(e,t){e=e;var n=t.style,r=null!=n&&n.hasOwnProperty("display")?n.display:null;e.style.display=Yt("display",r)}function Ks(e,t){e.nodeValue=t}function Js(e){if(1===e.nodeType)e.textContent="";else if(9===e.nodeType){var t=e.body;null!=t&&(t.textContent="")}}function el(e){return e.data===Fs}function tl(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function nl(e){return tl(e.nextSibling)}function rl(e){return tl(e.firstChild)}function il(e,t,n,r,i,o){return fl(o,e),xl(e,n),function(e,t,n,r,i){var o,a;switch(Ja=!0===n.suppressHydrationWarning,o=fn(t,n),es(t,n),t){case"dialog":Ba("cancel",e),Ba("close",e);break;case"iframe":case"object":case"embed":Ba("load",e);break;case"video":case"audio":for(var s=0;s<Na.length;s++)Ba(Na[s],e);break;case"source":Ba("error",e);break;case"img":case"image":case"link":Ba("error",e),Ba("load",e);break;case"details":Ba("toggle",e);break;case"input":dt(e,n),Ba("invalid",e);break;case"option":_t(0,n);break;case"select":kt(e,n),Ba("invalid",e);break;case"textarea":Pt(e,n),Ba("invalid",e)}dn(t,n),a=new Set;for(var l=e.attributes,c=0;c<l.length;c++)switch(l[c].name.toLowerCase()){case"data-reactroot":case"value":case"checked":case"selected":break;default:a.add(l[c].name)}var u,h=null;for(var d in n)if(n.hasOwnProperty(d)){var f=n[d];if(d===fs)"string"==typeof f?e.textContent!==f&&(Ja||ts(e.textContent,f),h=[fs,f]):"number"==typeof f&&e.textContent!==""+f&&(Ja||ts(e.textContent,f),h=[fs,""+f]);else if(M.hasOwnProperty(d))null!=f&&("function"!=typeof f&&is(d,f),"onScroll"===d&&Ba("scroll",e));else if("boolean"==typeof o){var p=void 0,m=j(d);if(Ja);else if(d===us||d===hs||"value"===d||"checked"===d||"selected"===d);else if(d===cs){var g=e.innerHTML,v=f?f.__html:void 0;if(null!=v){var y=ss(e,v);y!==g&&ns(d,g,y)}}else if(d===ps){if(a.delete(d),os){var b=ln(f);b!==(p=e.getAttribute("style"))&&ns(d,p,b)}}else if(o)a.delete(d.toLowerCase()),f!==(p=Q(e,d,f))&&ns(d,p,f);else if(!F(d,m,o)&&!B(d,f,m,o)){var x=!1;if(null!==m)a.delete(m.attributeName),p=Z(e,d,f,m);else{var _=r;if(_===ms&&(_=Ft(t)),_===ms)a.delete(d.toLowerCase());else{var w=(u=void 0,u=d.toLowerCase(),pn.hasOwnProperty(u)&&pn[u]||null);null!==w&&w!==d&&(x=!0,a.delete(w)),a.delete(d)}p=Q(e,d,f)}f===p||x||ns(d,p,f)}}}switch(a.size>0&&!Ja&&rs(a),t){case"input":rt(e),mt(e,n,!0);break;case"textarea":rt(e),Lt(e);break;case"select":case"option":break;default:"function"==typeof n.onClick&&xs(e)}return h}(e,t,n,i.namespace)}function ol(e){for(var t=e.previousSibling,n=0;t;){if(8===t.nodeType){var r=t.data;if("$"===r||r===Fs||r===zs){if(0===n)return t;n--}else"/$"===r&&n++}t=t.previousSibling}return null}var al=0;function sl(e){var t="r:"+(al++).toString(36);return{toString:function(){return e(),t},valueOf:function(){return e(),t}}}var ll=Math.random().toString(36).slice(2),cl="__reactFiber$"+ll,ul="__reactProps$"+ll,hl="__reactContainer$"+ll,dl="__reactEvents$"+ll;function fl(e,t){t[cl]=e}function pl(e){e[hl]=null}function ml(e){return!!e[hl]}function gl(e){var t=e[cl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hl]||n[cl]){var r=t.alternate;if(null!==t.child||null!==r&&null!==r.child)for(var i=ol(e);null!==i;){var o=i[cl];if(o)return o;i=ol(i)}return t}n=(e=n).parentNode}return null}function vl(e){var t=e[cl]||e[hl];return t&&(5===t.tag||6===t.tag||t.tag===f||3===t.tag)?t:null}function yl(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error("getNodeFromInstance: Invalid argument.")}function bl(e){return e[ul]||null}function xl(e,t){e[ul]=t}function _l(e){var t=e[dl];return void 0===t&&(t=e[dl]=new Set),t}var wl={},Sl=o.ReactDebugCurrentFrame;function El(e){if(e){var t=e._owner,n=Fe(e.type,e._source,t?t.type:null);Sl.setExtraStackFrame(n)}else Sl.setExtraStackFrame(null)}function Ml(e,t,n,r,i){var o=Function.call.bind(Object.prototype.hasOwnProperty);for(var a in e)if(o(e,a)){var l=void 0;try{if("function"!=typeof e[a]){var c=Error((r||"React class")+": "+n+" type `"+a+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[a]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw c.name="Invariant Violation",c}l=e[a](t,a,r,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){l=e}!l||l instanceof Error||(El(i),s("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",r||"React class",n,a,typeof l),El(null)),l instanceof Error&&!(l.message in wl)&&(wl[l.message]=!0,El(i),s("Failed %s type: %s",n,l.message),El(null))}}var Tl,kl=[];Tl=[];var Rl,Cl=-1;function Pl(e){return{current:e}}function Al(e,t){Cl<0?s("Unexpected pop."):(t!==Tl[Cl]&&s("Unexpected Fiber popped."),e.current=kl[Cl],kl[Cl]=null,Tl[Cl]=null,Cl--)}function Ll(e,t,n){Cl++,kl[Cl]=e.current,Tl[Cl]=n,e.current=t}Rl={};var Ol={};Object.freeze(Ol);var Il=Pl(Ol),Nl=Pl(!1),Dl=Ol;function zl(e,t,n){return n&&jl(t)?Dl:Il.current}function Fl(e,t,n){var r=e.stateNode;r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=n}function Ul(e,t){var n=e.type,r=n.contextTypes;if(!r)return Ol;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={};for(var a in r)o[a]=t[a];return Ml(r,o,"context",He(n)||"Unknown"),i&&Fl(e,t,o),o}function Bl(){return Nl.current}function jl(e){var t=e.childContextTypes;return null!=t}function Hl(e){Al(Nl,e),Al(Il,e)}function Vl(e){Al(Nl,e),Al(Il,e)}function Gl(e,t,n){if(Il.current!==Ol)throw Error("Unexpected context found on stack. This error is likely caused by a bug in React. Please file an issue.");Ll(Il,t,e),Ll(Nl,n,e)}function Wl(e,t,r){var i=e.stateNode,o=t.childContextTypes;if("function"!=typeof i.getChildContext){var a=He(t)||"Unknown";return Rl[a]||(Rl[a]=!0,s("%s.childContextTypes is specified but there is no getChildContext() method on the instance. You can either define getChildContext() on %s or remove childContextTypes from it.",a,a)),r}var l=i.getChildContext();for(var c in l)if(!(c in o))throw Error((He(t)||"Unknown")+'.getChildContext(): key "'+c+'" is not defined in childContextTypes.');return Ml(o,l,"child context",He(t)||"Unknown"),n({},r,l)}function ql(e){var t=e.stateNode,n=t&&t.__reactInternalMemoizedMergedChildContext||Ol;return Dl=Il.current,Ll(Il,n,e),Ll(Nl,Nl.current,e),!0}function Xl(e,t,n){var r=e.stateNode;if(!r)throw Error("Expected to have an instance by this point. This error is likely caused by a bug in React. Please file an issue.");if(n){var i=Wl(e,t,Dl);r.__reactInternalMemoizedMergedChildContext=i,Al(Nl,e),Al(Il,e),Ll(Il,i,e),Ll(Nl,n,e)}else Al(Nl,e),Ll(Nl,n,e)}function Yl(e){if(!function(e){return _r(e)===e}(e)||1!==e.tag)throw Error("Expected subtree parent to be a mounted class component. This error is likely caused by a bug in React. Please file an issue.");var t=e;do{switch(t.tag){case 3:return t.stateNode.context;case 1:if(jl(t.type))return t.stateNode.__reactInternalMemoizedMergedChildContext}t=t.return}while(null!==t);throw Error("Found unexpected detached subtree parent. This error is likely caused by a bug in React. Please file an issue.")}var Zl=null,Ql=null,$l=!1,Kl="undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__;function Jl(e,t){if(Ql&&"function"==typeof Ql.onCommitFiberRoot)try{var n=(e.current.flags&hr)===hr;Ql.onCommitFiberRoot(Zl,e,t,n)}catch(e){$l||($l=!0,s("React instrumentation encountered an error: %s",e))}}var ec=r.unstable_runWithPriority,tc=r.unstable_scheduleCallback,nc=r.unstable_cancelCallback,rc=r.unstable_shouldYield,ic=r.unstable_requestPaint,oc=r.unstable_now,ac=r.unstable_getCurrentPriorityLevel,sc=r.unstable_ImmediatePriority,lc=r.unstable_UserBlockingPriority,cc=r.unstable_NormalPriority,uc=r.unstable_LowPriority,hc=r.unstable_IdlePriority;if(null==i.__interactionsRef||null==i.__interactionsRef.current)throw Error("It is not supported to run the profiling version of a renderer (for example, `react-dom/profiling`) without also replacing the `scheduler/tracing` module with `scheduler/tracing-profiling`. Your bundler might have a setting for aliasing both modules. Learn more at https://reactjs.org/link/profiling");var dc={},fc=99,pc=98,mc=97,gc=rc,vc=void 0!==ic?ic:function(){},yc=null,bc=null,xc=!1,_c=oc(),wc=_c<1e4?oc:function(){return oc()-_c};function Sc(){switch(ac()){case sc:return fc;case lc:return pc;case cc:return mc;case uc:return 96;case hc:return 95;default:throw Error("Unknown priority level.")}}function Ec(e){switch(e){case fc:return sc;case pc:return lc;case mc:return cc;case 96:return uc;case 95:return hc;default:throw Error("Unknown priority level.")}}function Mc(e,t){var n=Ec(e);return ec(n,t)}function Tc(e,t,n){var r=Ec(e);return tc(r,t,n)}function kc(e){e!==dc&&nc(e)}function Rc(){if(null!==bc){var e=bc;bc=null,nc(e)}Cc()}function Cc(){if(!xc&&null!==yc){xc=!0;var e=0;try{var t=yc;Mc(fc,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(true)}while(null!==n)}})),yc=null}catch(t){throw null!==yc&&(yc=yc.slice(e+1)),tc(sc,Rc),t}finally{xc=!1}}}var Pc="17.0.1",Ac=o.ReactCurrentBatchConfig;var Lc={recordUnsafeLifecycleWarnings:function(e,t){},flushPendingUnsafeLifecycleWarnings:function(){},recordLegacyContextWarning:function(e,t){},flushLegacyContextWarning:function(){},discardPendingWarnings:function(){}},Oc=function(e){var t=[];return e.forEach((function(e){t.push(e)})),t.sort().join(", ")},Ic=[],Nc=[],Dc=[],zc=[],Fc=[],Uc=[],Bc=new Set;Lc.recordUnsafeLifecycleWarnings=function(e,t){Bc.has(e.type)||("function"==typeof t.componentWillMount&&!0!==t.componentWillMount.__suppressDeprecationWarning&&Ic.push(e),1&e.mode&&"function"==typeof t.UNSAFE_componentWillMount&&Nc.push(e),"function"==typeof t.componentWillReceiveProps&&!0!==t.componentWillReceiveProps.__suppressDeprecationWarning&&Dc.push(e),1&e.mode&&"function"==typeof t.UNSAFE_componentWillReceiveProps&&zc.push(e),"function"==typeof t.componentWillUpdate&&!0!==t.componentWillUpdate.__suppressDeprecationWarning&&Fc.push(e),1&e.mode&&"function"==typeof t.UNSAFE_componentWillUpdate&&Uc.push(e))},Lc.flushPendingUnsafeLifecycleWarnings=function(){var e=new Set;Ic.length>0&&(Ic.forEach((function(t){e.add(He(t.type)||"Component"),Bc.add(t.type)})),Ic=[]);var t=new Set;Nc.length>0&&(Nc.forEach((function(e){t.add(He(e.type)||"Component"),Bc.add(e.type)})),Nc=[]);var n=new Set;Dc.length>0&&(Dc.forEach((function(e){n.add(He(e.type)||"Component"),Bc.add(e.type)})),Dc=[]);var r=new Set;zc.length>0&&(zc.forEach((function(e){r.add(He(e.type)||"Component"),Bc.add(e.type)})),zc=[]);var i=new Set;Fc.length>0&&(Fc.forEach((function(e){i.add(He(e.type)||"Component"),Bc.add(e.type)})),Fc=[]);var o=new Set;(Uc.length>0&&(Uc.forEach((function(e){o.add(He(e.type)||"Component"),Bc.add(e.type)})),Uc=[]),t.size>0)&&s("Using UNSAFE_componentWillMount in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n\nPlease update the following components: %s",Oc(t));r.size>0&&s("Using UNSAFE_componentWillReceiveProps in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n\nPlease update the following components: %s",Oc(r));o.size>0&&s("Using UNSAFE_componentWillUpdate in strict mode is not recommended and may indicate bugs in your code. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n\nPlease update the following components: %s",Oc(o));e.size>0&&a("componentWillMount has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move code with side effects to componentDidMount, and set initial state in the constructor.\n* Rename componentWillMount to UNSAFE_componentWillMount to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",Oc(e));n.size>0&&a("componentWillReceiveProps has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* If you're updating state whenever props change, refactor your code to use memoization techniques or move it to static getDerivedStateFromProps. Learn more at: https://reactjs.org/link/derived-state\n* Rename componentWillReceiveProps to UNSAFE_componentWillReceiveProps to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",Oc(n));i.size>0&&a("componentWillUpdate has been renamed, and is not recommended for use. See https://reactjs.org/link/unsafe-component-lifecycles for details.\n\n* Move data fetching code or side effects to componentDidUpdate.\n* Rename componentWillUpdate to UNSAFE_componentWillUpdate to suppress this warning in non-strict mode. In React 18.x, only the UNSAFE_ name will work. To rename all deprecated lifecycles to their new names, you can run `npx react-codemod rename-unsafe-lifecycles` in your project source folder.\n\nPlease update the following components: %s",Oc(i))};var jc=new Map,Hc=new Set;function Vc(e,t){if(e&&e.defaultProps){var r=n({},t),i=e.defaultProps;for(var o in i)void 0===r[o]&&(r[o]=i[o]);return r}return t}Lc.recordLegacyContextWarning=function(e,t){var n=function(e){for(var t=null,n=e;null!==n;)1&n.mode&&(t=n),n=n.return;return t}(e);if(null!==n){if(!Hc.has(e.type)){var r=jc.get(n);(null!=e.type.contextTypes||null!=e.type.childContextTypes||null!==t&&"function"==typeof t.getChildContext)&&(void 0===r&&(r=[],jc.set(n,r)),r.push(e))}}else s("Expected to find a StrictMode component in a strict mode tree. This error is likely caused by a bug in React. Please file an issue.")},Lc.flushLegacyContextWarning=function(){jc.forEach((function(e,t){if(0!==e.length){var n=e[0],r=new Set;e.forEach((function(e){r.add(He(e.type)||"Component"),Hc.add(e.type)}));var i=Oc(r);try{Ze(n),s("Legacy context API has been detected within a strict-mode tree.\n\nThe old API will be supported in all 16.x releases, but applications using it should migrate to the new version.\n\nPlease update the following components: %s\n\nLearn more about this warning here: https://reactjs.org/link/legacy-context",i)}finally{Ye()}}}))},Lc.discardPendingWarnings=function(){Ic=[],Nc=[],Dc=[],zc=[],Fc=[],Uc=[],jc=new Map};var Gc,Wc=1073741823,qc=Pl(null);Gc={};var Xc=null,Yc=null,Zc=null,Qc=!1;function $c(){Xc=null,Yc=null,Zc=null,Qc=!1}function Kc(){Qc=!0}function Jc(){Qc=!1}function eu(e,t){var n=e.type._context;Ll(qc,n._currentValue,e),n._currentValue=t,void 0!==n._currentRenderer&&null!==n._currentRenderer&&n._currentRenderer!==Gc&&s("Detected multiple renderers concurrently rendering the same context provider. This is currently unsupported."),n._currentRenderer=Gc}function tu(e){var t=qc.current;Al(qc,e),e.type._context._currentValue=t}function nu(e,t){for(var n=e;null!==n;){var r=n.alternate;if(Ii(n.childLanes,t)){if(null===r||Ii(r.childLanes,t))break;r.childLanes=Ni(r.childLanes,t)}else n.childLanes=Ni(n.childLanes,t),null!==r&&(r.childLanes=Ni(r.childLanes,t));n=n.return}}function ru(e,t){Xc=e,Yc=null,Zc=null;var n=e.dependencies;null!==n&&(null!==n.firstContext&&(Oi(n.lanes,t)&&ip(),n.firstContext=null))}function iu(e,t){if(Qc&&s("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo()."),Zc===e);else if(!1===t||0===t);else{var n;"number"!=typeof t||t===Wc?(Zc=e,n=Wc):n=t;var r={context:e,observedBits:n,next:null};if(null===Yc){if(null===Xc)throw Error("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().");Yc=r,Xc.dependencies={lanes:0,firstContext:r,responders:null}}else Yc=Yc.next=r}return e._currentValue}var ou,au,su=2,lu=!1;function cu(e){var t={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null};e.updateQueue=t}function uu(e,t){var n=t.updateQueue,r=e.updateQueue;if(n===r){var i={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects};t.updateQueue=i}}function hu(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function du(e,t){var n=e.updateQueue;if(null!==n){var r=n.shared,i=r.pending;null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,au!==r||ou||(s("An update (setState, replaceState, or forceUpdate) was scheduled from inside an update function. Update functions should be pure, with zero side-effects. Consider using componentDidUpdate or a callback."),ou=!0)}}function fu(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r){var i=r.updateQueue;if(n===i){var o=null,a=null,s=n.firstBaseUpdate;if(null!==s){var l=s;do{var c={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};null===a?o=a=c:(a.next=c,a=c),l=l.next}while(null!==l);null===a?o=a=t:(a.next=t,a=t)}else o=a=t;return n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}}var u=n.lastBaseUpdate;null===u?n.firstBaseUpdate=t:u.next=t,n.lastBaseUpdate=t}function pu(e,t,r,i,o,a){switch(r.tag){case 1:var s=r.payload;if("function"==typeof s){Kc();var l=s.call(a,i,o);if(1&e.mode){Re();try{s.call(a,i,o)}finally{Ce()}}return Jc(),l}return s;case 3:e.flags=-4097&e.flags|hr;case 0:var c,u=r.payload;if("function"==typeof u){if(Kc(),c=u.call(a,i,o),1&e.mode){Re();try{u.call(a,i,o)}finally{Ce()}}Jc()}else c=u;return null==c?i:n({},i,c);case su:return lu=!0,i}return i}function mu(e,t,n,r){var i=e.updateQueue;lu=!1,au=i.shared;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;if(null!==u){var h=u.updateQueue,d=h.lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=l)}}if(null!==o){for(var f=i.baseState,p=0,m=null,g=null,v=null,y=o;;){var b=y.lane,x=y.eventTime;if(Ii(r,b)){if(null!==v){var _={eventTime:x,lane:0,tag:y.tag,payload:y.payload,callback:y.callback,next:null};v=v.next=_}if(f=pu(e,0,y,f,t,n),null!==y.callback){e.flags|=32;var w=i.effects;null===w?i.effects=[y]:w.push(y)}}else{var S={eventTime:x,lane:b,tag:y.tag,payload:y.payload,callback:y.callback,next:null};null===v?(g=v=S,m=f):v=v.next=S,p=Ni(p,b)}if(null===(y=y.next)){if(null===(s=i.shared.pending))break;var E=s,M=E.next;E.next=null,y=M,i.lastBaseUpdate=E,i.shared.pending=null}}null===v&&(m=f),i.baseState=m,i.firstBaseUpdate=g,i.lastBaseUpdate=v,tg(p),e.lanes=p,e.memoizedState=f}au=null}function gu(e,t){if("function"!=typeof e)throw Error("Invalid argument passed as callback. Expected a function. Instead received: "+e);e.call(t)}function vu(){lu=!1}function yu(){return lu}function bu(e,t,n){var r=t.effects;if(t.effects=null,null!==r)for(var i=0;i<r.length;i++){var o=r[i],a=o.callback;null!==a&&(o.callback=null,gu(a,n))}}ou=!1,au=null;var xu,_u,wu,Su,Eu,Mu,Tu,ku,Ru,Cu,Pu={},Au=Array.isArray,Lu=(new e.Component).refs;xu=new Set,_u=new Set,wu=new Set,Su=new Set,ku=new Set,Eu=new Set,Ru=new Set,Cu=new Set;var Ou=new Set;function Iu(e,t,r,i){var o=e.memoizedState;if(1&e.mode){Re();try{r(i,o)}finally{Ce()}}var a=r(i,o);Mu(t,a);var s=null==a?o:n({},o,a);(e.memoizedState=s,0===e.lanes)&&(e.updateQueue.baseState=s)}Tu=function(e,t){if(null!==e&&"function"!=typeof e){var n=t+"_"+e;Ou.has(n)||(Ou.add(n),s("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e))}},Mu=function(e,t){if(void 0===t){var n=He(e)||"Component";Eu.has(n)||(Eu.add(n),s("%s.getDerivedStateFromProps(): A valid state object (or null) must be returned. You have returned undefined.",n))}},Object.defineProperty(Pu,"_processChildContext",{enumerable:!1,value:function(){throw Error("_processChildContext is not available in React 16+. This likely means you have multiple copies of React and are attempting to nest a React 15 tree inside a React 16 tree using unstable_renderSubtreeIntoContainer, which isn't supported. Try to make sure you have only one copy of React (and ideally, switch to ReactDOM.createPortal).")}}),Object.freeze(Pu);var Nu,Du,zu,Fu,Uu,Bu={isMounted:function(e){var t=xr.current;if(null!==t&&1===t.tag){var n=t,r=n.stateNode;r._warnedAboutRefsInRender||s("%s is accessing isMounted inside its render() function. render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",He(n.type)||"A component"),r._warnedAboutRefsInRender=!0}var i=ar(e);return!!i&&_r(i)===i},enqueueSetState:function(e,t,n){var r=ar(e),i=Nm(),o=Dm(r),a=hu(i,o);a.payload=t,null!=n&&(Tu(n,"setState"),a.callback=n),du(r,a),Fm(r,o,i)},enqueueReplaceState:function(e,t,n){var r=ar(e),i=Nm(),o=Dm(r),a=hu(i,o);a.tag=1,a.payload=t,null!=n&&(Tu(n,"replaceState"),a.callback=n),du(r,a),Fm(r,o,i)},enqueueForceUpdate:function(e,t){var n=ar(e),r=Nm(),i=Dm(n),o=hu(r,i);o.tag=su,null!=t&&(Tu(t,"forceUpdate"),o.callback=t),du(n,o),Fm(n,i,r)}};function ju(e,t,n,r,i,o,a){var l=e.stateNode;if("function"==typeof l.shouldComponentUpdate){if(1&e.mode){Re();try{l.shouldComponentUpdate(r,o,a)}finally{Ce()}}var c=l.shouldComponentUpdate(r,o,a);return void 0===c&&s("%s.shouldComponentUpdate(): Returned undefined instead of a boolean value. Make sure to return true or false.",He(t)||"Component"),c}return!t.prototype||!t.prototype.isPureReactComponent||(!pa(n,r)||!pa(i,o))}function Hu(e,t){var n;t.updater=Bu,e.stateNode=t,n=e,t._reactInternals=n,t._reactInternalInstance=Pu}function Vu(e,t,n){var r=!1,i=Ol,o=Ol,a=t.contextType;if("contextType"in t&&(!(null===a||void 0!==a&&a.$$typeof===ie&&void 0===a._context)&&!Cu.has(t))){Cu.add(t);var l="";l=void 0===a?" However, it is set to undefined. This can be caused by a typo or by mixing up named and default imports. This can also happen due to a circular dependency, so try moving the createContext() call to a separate file.":"object"!=typeof a?" However, it is set to a "+typeof a+".":a.$$typeof===re?" Did you accidentally pass the Context.Provider instead?":void 0!==a._context?" Did you accidentally pass the Context.Consumer instead?":" However, it is set to an object with keys {"+Object.keys(a).join(", ")+"}.",s("%s defines an invalid contextType. contextType should point to the Context object returned by React.createContext().%s",He(t)||"Component",l)}if("object"==typeof a&&null!==a)o=iu(a);else{i=zl(0,t,!0);var c=t.contextTypes;o=(r=null!=c)?Ul(e,i):Ol}if(1&e.mode){Re();try{new t(n,o)}finally{Ce()}}var u=new t(n,o),h=e.memoizedState=null!==u.state&&void 0!==u.state?u.state:null;if(Hu(e,u),"function"==typeof t.getDerivedStateFromProps&&null===h){var d=He(t)||"Component";_u.has(d)||(_u.add(d),s("`%s` uses `getDerivedStateFromProps` but its initial state is %s. This is not recommended. Instead, define the initial state by assigning an object to `this.state` in the constructor of `%s`. This ensures that `getDerivedStateFromProps` arguments have a consistent shape.",d,null===u.state?"null":"undefined",d))}if("function"==typeof t.getDerivedStateFromProps||"function"==typeof u.getSnapshotBeforeUpdate){var f=null,p=null,m=null;if("function"==typeof u.componentWillMount&&!0!==u.componentWillMount.__suppressDeprecationWarning?f="componentWillMount":"function"==typeof u.UNSAFE_componentWillMount&&(f="UNSAFE_componentWillMount"),"function"==typeof u.componentWillReceiveProps&&!0!==u.componentWillReceiveProps.__suppressDeprecationWarning?p="componentWillReceiveProps":"function"==typeof u.UNSAFE_componentWillReceiveProps&&(p="UNSAFE_componentWillReceiveProps"),"function"==typeof u.componentWillUpdate&&!0!==u.componentWillUpdate.__suppressDeprecationWarning?m="componentWillUpdate":"function"==typeof u.UNSAFE_componentWillUpdate&&(m="UNSAFE_componentWillUpdate"),null!==f||null!==p||null!==m){var g=He(t)||"Component",v="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";Su.has(g)||(Su.add(g),s("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n%s uses %s but also contains the following legacy lifecycles:%s%s%s\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://reactjs.org/link/unsafe-component-lifecycles",g,v,null!==f?"\n  "+f:"",null!==p?"\n  "+p:"",null!==m?"\n  "+m:""))}}return r&&Fl(e,i,o),u}function Gu(e,t,n,r){var i=t.state;if("function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==i){var o=He(e.type)||"Component";xu.has(o)||(xu.add(o),s("%s.componentWillReceiveProps(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",o)),Bu.enqueueReplaceState(t,t.state,null)}}function Wu(e,t,n,r){!function(e,t,n){var r=e.stateNode,i=He(t)||"Component";r.render||(t.prototype&&"function"==typeof t.prototype.render?s("%s(...): No `render` method found on the returned component instance: did you accidentally return an object from the constructor?",i):s("%s(...): No `render` method found on the returned component instance: you may have forgotten to define `render`.",i)),!r.getInitialState||r.getInitialState.isReactClassApproved||r.state||s("getInitialState was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Did you mean to define a state property instead?",i),r.getDefaultProps&&!r.getDefaultProps.isReactClassApproved&&s("getDefaultProps was defined on %s, a plain JavaScript class. This is only supported for classes created using React.createClass. Use a static property to define defaultProps instead.",i),r.propTypes&&s("propTypes was defined as an instance property on %s. Use a static property to define propTypes instead.",i),r.contextType&&s("contextType was defined as an instance property on %s. Use a static property to define contextType instead.",i),r.contextTypes&&s("contextTypes was defined as an instance property on %s. Use a static property to define contextTypes instead.",i),t.contextType&&t.contextTypes&&!Ru.has(t)&&(Ru.add(t),s("%s declares both contextTypes and contextType static properties. The legacy contextTypes property will be ignored.",i)),"function"==typeof r.componentShouldUpdate&&s("%s has a method called componentShouldUpdate(). Did you mean shouldComponentUpdate()? The name is phrased as a question because the function is expected to return a value.",i),t.prototype&&t.prototype.isPureReactComponent&&void 0!==r.shouldComponentUpdate&&s("%s has a method called shouldComponentUpdate(). shouldComponentUpdate should not be used when extending React.PureComponent. Please extend React.Component if shouldComponentUpdate is used.",He(t)||"A pure component"),"function"==typeof r.componentDidUnmount&&s("%s has a method called componentDidUnmount(). But there is no such lifecycle method. Did you mean componentWillUnmount()?",i),"function"==typeof r.componentDidReceiveProps&&s("%s has a method called componentDidReceiveProps(). But there is no such lifecycle method. If you meant to update the state in response to changing props, use componentWillReceiveProps(). If you meant to fetch data or run side-effects or mutations after React has updated the UI, use componentDidUpdate().",i),"function"==typeof r.componentWillRecieveProps&&s("%s has a method called componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",i),"function"==typeof r.UNSAFE_componentWillRecieveProps&&s("%s has a method called UNSAFE_componentWillRecieveProps(). Did you mean UNSAFE_componentWillReceiveProps()?",i);var o=r.props!==n;void 0!==r.props&&o&&s("%s(...): When calling super() in `%s`, make sure to pass up the same props that your component's constructor was passed.",i,i),r.defaultProps&&s("Setting defaultProps as an instance property on %s is not supported and will be ignored. Instead, define defaultProps as a static property on %s.",i,i),"function"!=typeof r.getSnapshotBeforeUpdate||"function"==typeof r.componentDidUpdate||wu.has(t)||(wu.add(t),s("%s: getSnapshotBeforeUpdate() should be used with componentDidUpdate(). This component defines getSnapshotBeforeUpdate() only.",He(t))),"function"==typeof r.getDerivedStateFromProps&&s("%s: getDerivedStateFromProps() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"==typeof r.getDerivedStateFromError&&s("%s: getDerivedStateFromError() is defined as an instance method and will be ignored. Instead, declare it as a static method.",i),"function"==typeof t.getSnapshotBeforeUpdate&&s("%s: getSnapshotBeforeUpdate() is defined as a static method and will be ignored. Instead, declare it as an instance method.",i);var a=r.state;a&&("object"!=typeof a||Au(a))&&s("%s.state: must be set to an object or null",i),"function"==typeof r.getChildContext&&"object"!=typeof t.childContextTypes&&s("%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",i)}(e,t,n);var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Lu,cu(e);var o=t.contextType;if("object"==typeof o&&null!==o)i.context=iu(o);else{var a=zl(0,t,!0);i.context=Ul(e,a)}if(i.state===n){var l=He(t)||"Component";ku.has(l)||(ku.add(l),s("%s: It is not recommended to assign props directly to state because updates to props won't be reflected in state. In most cases, it is better to use props directly.",l))}1&e.mode&&Lc.recordLegacyContextWarning(e,i),Lc.recordUnsafeLifecycleWarnings(e,i),mu(e,n,i,r),i.state=e.memoizedState;var c=t.getDerivedStateFromProps;"function"==typeof c&&(Iu(e,t,c,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(!function(e,t){var n=t.state;"function"==typeof t.componentWillMount&&t.componentWillMount(),"function"==typeof t.UNSAFE_componentWillMount&&t.UNSAFE_componentWillMount(),n!==t.state&&(s("%s.componentWillMount(): Assigning directly to this.state is deprecated (except inside a component's constructor). Use setState instead.",He(e.type)||"Component"),Bu.enqueueReplaceState(t,t.state,null))}(e,i),mu(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var qu;Nu=!1,Du=!1,zu={},Fu={},Uu={},qu=function(e,t){if(null!==e&&"object"==typeof e&&e._store&&!e._store.validated&&null==e.key){if("object"!=typeof e._store)throw Error("React Component in warnForMissingKey should have a _store. This error is likely caused by a bug in React. Please file an issue.");e._store.validated=!0;var n=He(t.type)||"Component";Fu[n]||(Fu[n]=!0,s('Each child in a list should have a unique "key" prop. See https://reactjs.org/link/warning-keys for more information.'))}};var Xu=Array.isArray;function Yu(e,t,n){var r=n.ref;if(null!==r&&"function"!=typeof r&&"object"!=typeof r){if(1&e.mode&&(!n._owner||!n._self||n._owner.stateNode===n._self)){var i=He(e.type)||"Component";zu[i]||(s('A string ref, "%s", has been found within a strict mode tree. String refs are a source of potential bugs and should be avoided. We recommend using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',r),zu[i]=!0)}if(n._owner){var o,a=n._owner;if(a){var l=a;if(1!==l.tag)throw Error("Function components cannot have string refs. We recommend using useRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref");o=l.stateNode}if(!o)throw Error("Missing owner for string ref "+r+". This error is likely caused by a bug in React. Please file an issue.");var c=""+r;if(null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===c)return t.ref;var u=function(e){var t=o.refs;t===Lu&&(t=o.refs={}),null===e?delete t[c]:t[c]=e};return u._stringRef=c,u}if("string"!=typeof r)throw Error("Expected ref to be a function, a string, an object returned by React.createRef(), or null.");if(!n._owner)throw Error("Element ref was specified as a string ("+r+") but no owner was set. This could happen for one of the following reasons:\n1. You may be adding a ref to a function component\n2. You may be adding a ref to a component that was not created inside a component's render method\n3. You have multiple copies of React loaded\nSee https://reactjs.org/link/refs-must-have-owner for more information.")}return r}function Zu(e,t){if("textarea"!==e.type)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}function Qu(e){var t=He(e.type)||"Component";Uu[t]||(Uu[t]=!0,s("Functions are not valid as a React child. This may happen if you return a Component instead of <Component /> from render. Or maybe you meant to call this function rather than return it."))}function $u(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(var i=r;null!==i;)t(n,i),i=i.sibling;return null}function r(e,t){for(var n=new Map,r=t;null!==r;)null!==r.key?n.set(r.key,r):n.set(r.index,r),r=r.sibling;return n}function i(e,t){var n=hv(e,t);return n.index=0,n.sibling=null,n}function o(t,n,r){if(t.index=r,!e)return n;var i=t.alternate;if(null!==i){var o=i.index;return o<n?(t.flags=2,n):o}return t.flags=2,n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,r){if(null===t||6!==t.tag){var o=vv(n,e.mode,r);return o.return=e,o}var a=i(t,n);return a.return=e,a}function c(e,t,n,r){if(null!==t&&(t.elementType===n.type||Qg(t,n))){var o=i(t,n.props);return o.ref=Yu(e,t,n),o.return=e,o._debugSource=n._source,o._debugOwner=n._owner,o}var a=pv(n,e.mode,r);return a.ref=Yu(e,t,n),a.return=e,a}function h(e,t,n,r){if(null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation){var o=yv(n,e.mode,r);return o.return=e,o}var a=i(t,n.children||[]);return a.return=e,a}function d(e,t,n,r,o){if(null===t||7!==t.tag){var a=mv(n,e.mode,r,o);return a.return=e,a}var s=i(t,n);return s.return=e,s}function f(e,t,n){if("string"==typeof t||"number"==typeof t){var r=vv(""+t,e.mode,n);return r.return=e,r}if("object"==typeof t&&null!==t){switch(t.$$typeof){case K:var i=pv(t,e.mode,n);return i.ref=Yu(e,null,t),i.return=e,i;case J:var o=yv(t,e.mode,n);return o.return=e,o}if(Xu(t)||ye(t)){var a=mv(t,e.mode,n,null);return a.return=e,a}Zu(e,t)}return"function"==typeof t&&Qu(e),null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case K:return n.key===i?n.type===ee?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case J:return n.key===i?h(e,t,n,r):null}if(Xu(n)||ye(n))return null!==i?null:d(e,t,n,r,null);Zu(e,n)}return"function"==typeof n&&Qu(e),null}function m(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case K:var o=e.get(null===r.key?n:r.key)||null;return r.type===ee?d(t,o,r.props.children,i,r.key):c(t,o,r,i);case J:return h(t,e.get(null===r.key?n:r.key)||null,r,i)}if(Xu(r)||ye(r))return d(t,e.get(n)||null,r,i,null);Zu(t,r)}return"function"==typeof r&&Qu(t),null}function v(e,t,n){if("object"!=typeof e||null===e)return t;switch(e.$$typeof){case K:case J:qu(e,n);var r=e.key;if("string"!=typeof r)break;if(null===t){(t=new Set).add(r);break}if(!t.has(r)){t.add(r);break}s("Encountered two children with the same key, `%s`. Keys should be unique so that components maintain their identity across updates. Non-unique keys may cause children to be duplicated and/or omitted — the behavior is unsupported and could change in a future version.",r)}return t}return function(l,c,h,d){var y="object"==typeof h&&null!==h&&h.type===ee&&null===h.key;y&&(h=h.props.children);var b="object"==typeof h&&null!==h;if(b)switch(h.$$typeof){case K:return a(function(e,r,o,a){for(var s=o.key,l=r;null!==l;){if(l.key===s){switch(l.tag){case 7:if(o.type===ee){n(e,l.sibling);var c=i(l,o.props.children);return c.return=e,c._debugSource=o._source,c._debugOwner=o._owner,c}break;case x:default:if(l.elementType===o.type||Qg(l,o)){n(e,l.sibling);var u=i(l,o.props);return u.ref=Yu(e,l,o),u.return=e,u._debugSource=o._source,u._debugOwner=o._owner,u}}n(e,l);break}t(e,l),l=l.sibling}if(o.type===ee){var h=mv(o.props.children,e.mode,a,o.key);return h.return=e,h}var d=pv(o,e.mode,a);return d.ref=Yu(e,r,o),d.return=e,d}(l,c,h,d));case J:return a(function(e,r,o,a){for(var s=o.key,l=r;null!==l;){if(l.key===s){if(4===l.tag&&l.stateNode.containerInfo===o.containerInfo&&l.stateNode.implementation===o.implementation){n(e,l.sibling);var c=i(l,o.children||[]);return c.return=e,c}n(e,l);break}t(e,l),l=l.sibling}var u=yv(o,e.mode,a);return u.return=e,u}(l,c,h,d))}if("string"==typeof h||"number"==typeof h)return a(function(e,t,r,o){if(null!==t&&6===t.tag){n(e,t.sibling);var a=i(t,r);return a.return=e,a}n(e,t);var s=vv(r,e.mode,o);return s.return=e,s}(l,c,""+h,d));if(Xu(h))return function(i,a,s,l){for(var c=null,u=0;u<s.length;u++)c=v(s[u],c,i);for(var h=null,d=null,g=a,y=0,b=0,x=null;null!==g&&b<s.length;b++){g.index>b?(x=g,g=null):x=g.sibling;var _=p(i,g,s[b],l);if(null===_){null===g&&(g=x);break}e&&g&&null===_.alternate&&t(i,g),y=o(_,y,b),null===d?h=_:d.sibling=_,d=_,g=x}if(b===s.length)return n(i,g),h;if(null===g){for(;b<s.length;b++){var w=f(i,s[b],l);null!==w&&(y=o(w,y,b),null===d?h=w:d.sibling=w,d=w)}return h}for(var S=r(0,g);b<s.length;b++){var E=m(S,i,b,s[b],l);null!==E&&(e&&null!==E.alternate&&S.delete(null===E.key?b:E.key),y=o(E,y,b),null===d?h=E:d.sibling=E,d=E)}return e&&S.forEach((function(e){return t(i,e)})),h}(l,c,h,d);if(ye(h))return function(i,a,l,c){var u=ye(l);if("function"!=typeof u)throw Error("An object is not an iterable. This error is likely caused by a bug in React. Please file an issue.");"function"==typeof Symbol&&"Generator"===l[Symbol.toStringTag]&&(Du||s("Using Generators as children is unsupported and will likely yield unexpected results because enumerating a generator mutates it. You may convert it to an array with `Array.from()` or the `[...spread]` operator before rendering. Keep in mind you might need to polyfill these features for older browsers."),Du=!0),l.entries===u&&(Nu||s("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Nu=!0);var h=u.call(l);if(h)for(var d=null,g=h.next();!g.done;g=h.next())d=v(g.value,d,i);var y=u.call(l);if(null==y)throw Error("An iterable object provided no iterator.");for(var b=null,x=null,_=a,w=0,S=0,E=null,M=y.next();null!==_&&!M.done;S++,M=y.next()){_.index>S?(E=_,_=null):E=_.sibling;var T=p(i,_,M.value,c);if(null===T){null===_&&(_=E);break}e&&_&&null===T.alternate&&t(i,_),w=o(T,w,S),null===x?b=T:x.sibling=T,x=T,_=E}if(M.done)return n(i,_),b;if(null===_){for(;!M.done;S++,M=y.next()){var k=f(i,M.value,c);null!==k&&(w=o(k,w,S),null===x?b=k:x.sibling=k,x=k)}return b}for(var R=r(0,_);!M.done;S++,M=y.next()){var C=m(R,i,S,M.value,c);null!==C&&(e&&null!==C.alternate&&R.delete(null===C.key?S:C.key),w=o(C,w,S),null===x?b=C:x.sibling=C,x=C)}return e&&R.forEach((function(e){return t(i,e)})),b}(l,c,h,d);if(b&&Zu(l,h),"function"==typeof h&&Qu(l),void 0===h&&!y)switch(l.tag){case 1:if(l.stateNode.render._isMockFunction)break;case x:case 0:case u:case g:throw Error((He(l.type)||"Component")+"(...): Nothing was returned from render. This usually means a return statement is missing. Or, to render nothing, return null.")}return n(l,c)}}var Ku=$u(!0),Ju=$u(!1);function eh(e,t){for(var n=e.child;null!==n;)dv(n,t),n=n.sibling}var th={},nh=Pl(th),rh=Pl(th),ih=Pl(th);function oh(e){if(e===th)throw Error("Expected host context to exist. This error is likely caused by a bug in React. Please file an issue.");return e}function ah(){return oh(ih.current)}function sh(e,t){Ll(ih,t,e),Ll(rh,e,e),Ll(nh,th,e);var n=function(e){var t,n,r=e.nodeType;switch(r){case 9:case 11:t=9===r?"#document":"#fragment";var i=e.documentElement;n=i?i.namespaceURI:Ut(null,"");break;default:var o=8===r?e.parentNode:e;n=Ut(o.namespaceURI||null,t=o.tagName)}var a=t.toLowerCase();return{namespace:n,ancestorInfo:Ps(null,a)}}(t);Al(nh,e),Ll(nh,n,e)}function lh(e){Al(nh,e),Al(rh,e),Al(ih,e)}function ch(){return oh(nh.current)}function uh(e){oh(ih.current);var t,n,r,i=oh(nh.current),o=(t=i,n=e.type,{namespace:Ut((r=t).namespace,n),ancestorInfo:Ps(r.ancestorInfo,n)});i!==o&&(Ll(rh,e,e),Ll(nh,o,e))}function hh(e){rh.current===e&&(Al(nh,e),Al(rh,e))}var dh=Pl(0);function fh(e,t){return 0!=(e&t)}function ph(e){return 1&e}function mh(e,t){return 1&e|t}function gh(e,t){Ll(dh,t,e)}function vh(e){Al(dh,e)}function yh(e,t){var n=e.memoizedState;if(null!==n)return null!==n.dehydrated;var r=e.memoizedProps;return void 0!==r.fallback&&(!0!==r.unstable_avoidThisFallback||!t)}function bh(e){for(var t=e;null!==t;){if(t.tag===f){var n=t.memoizedState;if(null!==n){var r=n.dehydrated;if(null===r||r.data===zs||el(r))return t}}else if(t.tag===y&&void 0!==t.memoizedProps.revealOrder){if(0!=(t.flags&hr))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)return null;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xh=null,_h=null,wh=!1;function Sh(e,t){switch(e.tag){case 3:!function(e,t){1===t.nodeType?Ms(e,t):8===t.nodeType||Ts(e,t)}(e.stateNode.containerInfo,t);break;case 5:!function(e,t,n,r){!0!==t.suppressHydrationWarning&&(1===r.nodeType?Ms(n,r):8===r.nodeType||Ts(n,r))}(e.type,e.memoizedProps,e.stateNode,t)}var n,r=((n=cv(5,null,null,0)).elementType="DELETED",n.type="DELETED",n);r.stateNode=t,r.return=e,r.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function Eh(e,t){switch(t.flags=-1025&t.flags|2,e.tag){case 3:var n=e.stateNode.containerInfo;switch(t.tag){case 5:var r=t.type;t.pendingProps,function(e,t,n){ks(e,t)}(n,r);break;case 6:!function(e,t){Rs(e,t)}(n,t.pendingProps)}break;case 5:e.type;var i=e.memoizedProps,o=e.stateNode;switch(t.tag){case 5:var a=t.type;t.pendingProps,function(e,t,n,r,i){!0!==t.suppressHydrationWarning&&ks(n,r)}(0,i,o,a);break;case 6:!function(e,t,n,r){!0!==t.suppressHydrationWarning&&Rs(n,r)}(0,i,o,t.pendingProps);break;case f:!function(e,t,n){t.suppressHydrationWarning}(0,i)}break;default:return}}function Mh(e,t){switch(e.tag){case 5:var n=e.type;e.pendingProps;var r=function(e,t,n){return 1!==e.nodeType||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e}(t,n);return null!==r&&(e.stateNode=r,!0);case 6:var i=function(e,t){return""===t||3!==e.nodeType?null:e}(t,e.pendingProps);return null!==i&&(e.stateNode=i,!0);case f:default:return!1}}function Th(e){if(wh){var t=_h;if(!t)return Eh(xh,e),wh=!1,void(xh=e);var n=t;if(!Mh(e,t)){if(!(t=nl(n))||!Mh(e,t))return Eh(xh,e),wh=!1,void(xh=e);Sh(xh,n)}xh=e,_h=rl(t)}}function kh(e){var t=e.stateNode,n=e.memoizedProps,r=function(e,t,n){return fl(n,e),function(e,t){return e.nodeValue!==t}(e,t)}(t,n,e);if(r){var i=xh;if(null!==i)switch(i.tag){case 3:i.stateNode.containerInfo;!function(e,t,n){Es(t,n)}(0,t,n);break;case 5:i.type;var o=i.memoizedProps;i.stateNode;!function(e,t,n,r,i){!0!==t.suppressHydrationWarning&&Es(r,i)}(0,o,0,t,n)}}return r}function Rh(e){var t=e.memoizedState,n=null!==t?t.dehydrated:null;if(!n)throw Error("Expected to have a hydrated suspense instance. This error is likely caused by a bug in React. Please file an issue.");return function(e){for(var t=e.nextSibling,n=0;t;){if(8===t.nodeType){var r=t.data;if("/$"===r){if(0===n)return nl(t);n--}else"$"!==r&&r!==Fs&&r!==zs||n++}t=t.nextSibling}return null}(n)}function Ch(e){for(var t=e.return;null!==t&&5!==t.tag&&3!==t.tag&&t.tag!==f;)t=t.return;xh=t}function Ph(e){if(e!==xh)return!1;if(!wh)return Ch(e),wh=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Gs(t,e.memoizedProps))for(var n=_h;n;)Sh(e,n),n=nl(n);return Ch(e),_h=e.tag===f?Rh(e):xh?nl(e.stateNode):null,!0}function Ah(){xh=null,_h=null,wh=!1}function Lh(){return wh}var Oh,Ih=[];function Nh(){for(var e=0;e<Ih.length;e++){Ih[e]._workInProgressVersionPrimary=null}Ih.length=0}function Dh(e,t){e._workInProgressVersionPrimary=t,Ih.push(e)}Oh={};var zh,Fh,Uh=o.ReactCurrentDispatcher,Bh=o.ReactCurrentBatchConfig;Fh={},zh=new Set;var jh=0,Hh=null,Vh=null,Gh=null,Wh=!1,qh=!1,Xh=null,Yh=null,Zh=-1,Qh=!1;function $h(){var e=Xh;null===Yh?Yh=[e]:Yh.push(e)}function Kh(){var e=Xh;null!==Yh&&(Zh++,Yh[Zh]!==e&&function(e){var t=He(Hh.type);if(!zh.has(t)&&(zh.add(t),null!==Yh)){for(var n="",r=30,i=0;i<=Zh;i++){for(var o=Yh[i],a=i===Zh?e:o,l=i+1+". "+o;l.length<r;)l+=" ";n+=l+=a+"\n"}s("React has detected a change in the order of Hooks called by %s. This will lead to bugs and errors if not fixed. For more information, read the Rules of Hooks: https://reactjs.org/link/rules-of-hooks\n\n   Previous render            Next render\n   ------------------------------------------------------\n%s   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n",t,n)}}(e))}function Jh(e){null==e||Array.isArray(e)||s("%s received a final argument that is not an array (instead, received `%s`). When specified, the final argument must be an array.",Xh,typeof e)}function ed(){throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.")}function td(e,t){if(Qh)return!1;if(null===t)return s("%s received a final argument during this render, but not during the previous render. Even though the final argument is optional, its type cannot change between renders.",Xh),!1;e.length!==t.length&&s("The final argument passed to %s changed size between renders. The order and size of this array must remain constant.\n\nPrevious: %s\nIncoming: %s",Xh,"["+t.join(", ")+"]","["+e.join(", ")+"]");for(var n=0;n<t.length&&n<e.length;n++)if(!da(e[n],t[n]))return!1;return!0}function nd(e,t,n,r,i,o){jh=o,Hh=t,Yh=null!==e?e._debugHookTypes:null,Zh=-1,Qh=null!==e&&e.type!==t.type,t.memoizedState=null,t.updateQueue=null,t.lanes=0,null!==e&&null!==e.memoizedState?Uh.current=Kd:Uh.current=null!==Yh?$d:Qd;var a=n(r,i);if(qh){var s=0;do{if(qh=!1,!(s<25))throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");s+=1,Qh=!1,Vh=null,Gh=null,t.updateQueue=null,Zh=-1,Uh.current=Jd,a=n(r,i)}while(qh)}Uh.current=Zd,t._debugHookTypes=Yh;var l=null!==Vh&&null!==Vh.next;if(jh=0,Hh=null,Vh=null,Gh=null,Xh=null,Yh=null,Zh=-1,Wh=!1,l)throw Error("Rendered fewer hooks than expected. This may be caused by an accidental early return statement.");return a}function rd(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes=Di(e.lanes,n)}function id(){if(Uh.current=Zd,Wh){for(var e=Hh.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Wh=!1}jh=0,Hh=null,Vh=null,Gh=null,Yh=null,Zh=-1,Xh=null,Vd=!1,qh=!1}function od(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Gh?Hh.memoizedState=Gh=e:Gh=Gh.next=e,Gh}function ad(){var e,t;if(null===Vh){var n=Hh.alternate;e=null!==n?n.memoizedState:null}else e=Vh.next;if(null!==(t=null===Gh?Hh.memoizedState:Gh.next))t=(Gh=t).next,Vh=e;else{if(null===e)throw Error("Rendered more hooks than during the previous render.");var r={memoizedState:(Vh=e).memoizedState,baseState:Vh.baseState,baseQueue:Vh.baseQueue,queue:Vh.queue,next:null};null===Gh?Hh.memoizedState=Gh=r:Gh=Gh.next=r}return Gh}function sd(e,t){return"function"==typeof t?t(e):t}function ld(e,t,n){var r,i=od();r=void 0!==n?n(t):t,i.memoizedState=i.baseState=r;var o=i.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a=o.dispatch=Yd.bind(null,Hh,o);return[i.memoizedState,a]}function cd(e,t,n){var r=ad(),i=r.queue;if(null===i)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");i.lastRenderedReducer=e;var o=Vh,a=o.baseQueue,l=i.pending;if(null!==l){if(null!==a){var c=a.next,u=l.next;a.next=u,l.next=c}o.baseQueue!==a&&s("Internal error: Expected work-in-progress queue to be a clone. This is a bug in React."),o.baseQueue=a=l,i.pending=null}if(null!==a){var h=a.next,d=o.baseState,f=null,p=null,m=null,g=h;do{var v=g.lane;if(Ii(jh,v)){if(null!==m){var y={lane:0,action:g.action,eagerReducer:g.eagerReducer,eagerState:g.eagerState,next:null};m=m.next=y}if(g.eagerReducer===e)d=g.eagerState;else d=e(d,g.action)}else{var b={lane:v,action:g.action,eagerReducer:g.eagerReducer,eagerState:g.eagerState,next:null};null===m?(p=m=b,f=d):m=m.next=b,Hh.lanes=Ni(Hh.lanes,v),tg(v)}g=g.next}while(null!==g&&g!==h);null===m?f=d:m.next=p,da(d,r.memoizedState)||ip(),r.memoizedState=d,r.baseState=f,r.baseQueue=m,i.lastRenderedState=d}var x=i.dispatch;return[r.memoizedState,x]}function ud(e,t,n){var r=ad(),i=r.queue;if(null===i)throw Error("Should have a queue. This is likely a bug in React. Please file an issue.");i.lastRenderedReducer=e;var o=i.dispatch,a=i.pending,s=r.memoizedState;if(null!==a){i.pending=null;var l=a.next,c=l;do{s=e(s,c.action),c=c.next}while(c!==l);da(s,r.memoizedState)||ip(),r.memoizedState=s,null===r.baseQueue&&(r.baseState=s),i.lastRenderedState=s}return[s,o]}function hd(e,t,n){var r;null==(r=t)._currentPrimaryRenderer?r._currentPrimaryRenderer=Oh:r._currentPrimaryRenderer!==Oh&&s("Detected multiple renderers concurrently rendering the same mutable source. This is currently unsupported.");var i=(0,t._getVersion)(t._source),o=!1,a=function(e){return e._workInProgressVersionPrimary}(t);if(null!==a?o=a===i:(o=Ii(jh,e.mutableReadLanes))&&Dh(t,i),o){var l=n(t._source);return"function"==typeof l&&s("Mutable source should not return a function as the snapshot value. Functions may close over mutable values and cause tearing."),l}throw function(e){Ih.push(e)}(t),Error("Cannot read from mutable source during the current render without tearing. This is a bug in React. Please file an issue.")}function dd(e,t,n,r){var i=Kp;if(null===i)throw Error("Expected a work-in-progress root. This is a bug in React. Please file an issue.");var o=t._getVersion,a=o(t._source),l=Uh.current,c=l.useState((function(){return hd(i,t,n)})),u=c[0],h=c[1],d=u,f=Gh,p=e.memoizedState,m=p.refs,g=m.getSnapshot,v=p.source,y=p.subscribe,b=Hh;if(e.memoizedState={refs:m,source:t,subscribe:r},l.useEffect((function(){m.getSnapshot=n,m.setSnapshot=h;var e=o(t._source);if(!da(a,e)){var r=n(t._source);if("function"==typeof r&&s("Mutable source should not return a function as the snapshot value. Functions may close over mutable values and cause tearing."),!da(d,r)){h(r);var l=Dm(b);Bi(i,l)}!function(e,t){e.entangledLanes|=t;for(var n=e.entanglements,r=t;r>0;){var i=Li(r),o=1<<i;n[i]|=t,r&=~o}}(i,i.mutableReadLanes)}}),[n,t,r]),l.useEffect((function(){var e=r(t._source,(function(){var e=m.getSnapshot,n=m.setSnapshot;try{n(e(t._source));var r=Dm(b);Bi(i,r)}catch(e){n((function(){throw e}))}}));return"function"!=typeof e&&s("Mutable source subscribe function must return an unsubscribe function."),e}),[t,r]),!da(g,n)||!da(v,t)||!da(y,r)){var x={pending:null,dispatch:null,lastRenderedReducer:sd,lastRenderedState:d};x.dispatch=h=Yd.bind(null,Hh,x),f.queue=x,f.baseQueue=null,d=hd(i,t,n),f.memoizedState=f.baseState=d}return d}function fd(e,t,n){var r=od();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},dd(r,e,t,n)}function pd(e,t,n){return dd(ad(),e,t,n)}function md(e){var t=od();"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e;var n=t.queue={pending:null,dispatch:null,lastRenderedReducer:sd,lastRenderedState:e},r=n.dispatch=Yd.bind(null,Hh,n);return[t.memoizedState,r]}function gd(e){return cd(sd)}function vd(e){return ud(sd)}function yd(e,t,n,r){var i={tag:e,create:t,destroy:n,deps:r,next:null},o=Hh.updateQueue;if(null===o)o={lastEffect:null},Hh.updateQueue=o,o.lastEffect=i.next=i;else{var a=o.lastEffect;if(null===a)o.lastEffect=i.next=i;else{var s=a.next;a.next=i,i.next=s,o.lastEffect=i}}return i}function bd(e){var t=od(),n={current:e};return Object.seal(n),t.memoizedState=n,n}function xd(e){return ad().memoizedState}function _d(e,t,n,r){var i=od(),o=void 0===r?null:r;Hh.flags|=e,i.memoizedState=yd(1|t,n,void 0,o)}function wd(e,t,n,r){var i=ad(),o=void 0===r?null:r,a=void 0;if(null!==Vh){var s=Vh.memoizedState;if(a=s.destroy,null!==o)if(td(o,s.deps))return void yd(t,n,a,o)}Hh.flags|=e,i.memoizedState=yd(1|t,n,a,o)}function Sd(e,t){return"undefined"!=typeof jest&&Og(Hh),_d(516,4,e,t)}function Ed(e,t){return"undefined"!=typeof jest&&Og(Hh),wd(516,4,e,t)}function Md(e,t){return _d(4,2,e,t)}function Td(e,t){return wd(4,2,e,t)}function kd(e,t){if("function"==typeof t){var n=t,r=e();return n(r),function(){n(null)}}if(null!=t){var i=t;i.hasOwnProperty("current")||s("Expected useImperativeHandle() first argument to either be a ref callback or React.createRef() object. Instead received: %s.","an object with keys {"+Object.keys(i).join(", ")+"}");var o=e();return i.current=o,function(){i.current=null}}}function Rd(e,t,n){"function"!=typeof t&&s("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!=n?n.concat([e]):null;return _d(4,2,kd.bind(null,t,e),r)}function Cd(e,t,n){"function"!=typeof t&&s("Expected useImperativeHandle() second argument to be a function that creates a handle. Instead received: %s.",null!==t?typeof t:"null");var r=null!=n?n.concat([e]):null;return wd(4,2,kd.bind(null,t,e),r)}function Pd(e,t){}var Ad=Pd;function Ld(e,t){var n=void 0===t?null:t;return od().memoizedState=[e,n],e}function Od(e,t){var n=ad(),r=void 0===t?null:t,i=n.memoizedState;if(null!==i&&(null!==r&&td(r,i[1])))return i[0];return n.memoizedState=[e,r],e}function Id(e,t){var n=od(),r=void 0===t?null:t,i=e();return n.memoizedState=[i,r],i}function Nd(e,t){var n=ad(),r=void 0===t?null:t,i=n.memoizedState;if(null!==i&&(null!==r&&td(r,i[1])))return i[0];var o=e();return n.memoizedState=[o,r],o}function Dd(e){var t=md(e),n=t[0],r=t[1];return Sd((function(){var t=Bh.transition;Bh.transition=1;try{r(e)}finally{Bh.transition=t}}),[e]),n}function zd(e){var t=gd(),n=t[0],r=t[1];return Ed((function(){var t=Bh.transition;Bh.transition=1;try{r(e)}finally{Bh.transition=t}}),[e]),n}function Fd(e){var t=vd(),n=t[0],r=t[1];return Ed((function(){var t=Bh.transition;Bh.transition=1;try{r(e)}finally{Bh.transition=t}}),[e]),n}function Ud(e,t){var n=Sc();Mc(n<pc?pc:n,(function(){e(!0)})),Mc(n>mc?mc:n,(function(){var n=Bh.transition;Bh.transition=1;try{e(!1),t()}finally{Bh.transition=n}}))}function Bd(){var e=md(!1),t=e[0],n=e[1],r=Ud.bind(null,n);return bd(r),[r,t]}function jd(){var e=gd()[0];return[xd().current,e]}function Hd(){var e=vd()[0];return[xd().current,e]}var Vd=!1;function Gd(e){var t=He(e.type)||"Unknown";We&&!Fh[t]&&(s("The object passed back from useOpaqueIdentifier is meant to be passed through to attributes only. Do not read the value directly."),Fh[t]=!0)}function Wd(){var e=sl.bind(null,Gd.bind(null,Hh));if(Lh()){var t=!1,n=Hh,r={$$typeof:de,toString:o=function(){throw t||(t=!0,Vd=!0,i(e()),Vd=!1,Gd(n)),Error("The object passed back from useOpaqueIdentifier is meant to be passed through to attributes only. Do not read the value directly.")},valueOf:o},i=md(r)[1];return 0==(2&Hh.mode)&&(Hh.flags|=516,yd(5,(function(){i(e())}),void 0,null)),r}var o,a=e();return md(a),a}function qd(){return gd()[0]}function Xd(){return vd()[0]}function Yd(e,t,n){"function"==typeof arguments[3]&&s("State updates from the useState() and useReducer() Hooks don't support the second callback argument. To execute a side effect after rendering, declare it in the component body with useEffect().");var r=Nm(),i=Dm(e),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=t.pending;null===a?o.next=o:(o.next=a.next,a.next=o),t.pending=o;var l=e.alternate;if(e===Hh||null!==l&&l===Hh)qh=Wh=!0;else{if(0===e.lanes&&(null===l||0===l.lanes)){var c=t.lastRenderedReducer;if(null!==c){var u;u=Uh.current,Uh.current=tf;try{var h=t.lastRenderedState,d=c(h,n);if(o.eagerReducer=c,o.eagerState=d,da(d,h))return}catch(e){}finally{Uh.current=u}}}"undefined"!=typeof jest&&(Lg(e),Ig(e)),Fm(e,i,r)}}var Zd={readContext:iu,useCallback:ed,useContext:ed,useEffect:ed,useImperativeHandle:ed,useLayoutEffect:ed,useMemo:ed,useReducer:ed,useRef:ed,useState:ed,useDebugValue:ed,useDeferredValue:ed,useTransition:ed,useMutableSource:ed,useOpaqueIdentifier:ed,unstable_isNewReconciler:S},Qd=null,$d=null,Kd=null,Jd=null,ef=null,tf=null,nf=null,rf=function(){s("Context can only be read while React is rendering. In classes, you can read it in the render method or getDerivedStateFromProps. In function components, you can read it directly in the function body, but not inside Hooks like useReducer() or useMemo().")},of=function(){s("Do not call Hooks inside useEffect(...), useMemo(...), or other built-in Hooks. You can only call Hooks at the top level of your React function. For more information, see https://reactjs.org/link/rules-of-hooks")};Qd={readContext:function(e,t){return iu(e,t)},useCallback:function(e,t){return Xh="useCallback",$h(),Jh(t),Ld(e,t)},useContext:function(e,t){return Xh="useContext",$h(),iu(e,t)},useEffect:function(e,t){return Xh="useEffect",$h(),Jh(t),Sd(e,t)},useImperativeHandle:function(e,t,n){return Xh="useImperativeHandle",$h(),Jh(n),Rd(e,t,n)},useLayoutEffect:function(e,t){return Xh="useLayoutEffect",$h(),Jh(t),Md(e,t)},useMemo:function(e,t){Xh="useMemo",$h(),Jh(t);var n=Uh.current;Uh.current=ef;try{return Id(e,t)}finally{Uh.current=n}},useReducer:function(e,t,n){Xh="useReducer",$h();var r=Uh.current;Uh.current=ef;try{return ld(e,t,n)}finally{Uh.current=r}},useRef:function(e){return Xh="useRef",$h(),bd(e)},useState:function(e){Xh="useState",$h();var t=Uh.current;Uh.current=ef;try{return md(e)}finally{Uh.current=t}},useDebugValue:function(e,t){Xh="useDebugValue",$h()},useDeferredValue:function(e){return Xh="useDeferredValue",$h(),Dd(e)},useTransition:function(){return Xh="useTransition",$h(),Bd()},useMutableSource:function(e,t,n){return Xh="useMutableSource",$h(),fd(e,t,n)},useOpaqueIdentifier:function(){return Xh="useOpaqueIdentifier",$h(),Wd()},unstable_isNewReconciler:S},$d={readContext:function(e,t){return iu(e,t)},useCallback:function(e,t){return Xh="useCallback",Kh(),Ld(e,t)},useContext:function(e,t){return Xh="useContext",Kh(),iu(e,t)},useEffect:function(e,t){return Xh="useEffect",Kh(),Sd(e,t)},useImperativeHandle:function(e,t,n){return Xh="useImperativeHandle",Kh(),Rd(e,t,n)},useLayoutEffect:function(e,t){return Xh="useLayoutEffect",Kh(),Md(e,t)},useMemo:function(e,t){Xh="useMemo",Kh();var n=Uh.current;Uh.current=ef;try{return Id(e,t)}finally{Uh.current=n}},useReducer:function(e,t,n){Xh="useReducer",Kh();var r=Uh.current;Uh.current=ef;try{return ld(e,t,n)}finally{Uh.current=r}},useRef:function(e){return Xh="useRef",Kh(),bd(e)},useState:function(e){Xh="useState",Kh();var t=Uh.current;Uh.current=ef;try{return md(e)}finally{Uh.current=t}},useDebugValue:function(e,t){Xh="useDebugValue",Kh()},useDeferredValue:function(e){return Xh="useDeferredValue",Kh(),Dd(e)},useTransition:function(){return Xh="useTransition",Kh(),Bd()},useMutableSource:function(e,t,n){return Xh="useMutableSource",Kh(),fd(e,t,n)},useOpaqueIdentifier:function(){return Xh="useOpaqueIdentifier",Kh(),Wd()},unstable_isNewReconciler:S},Kd={readContext:function(e,t){return iu(e,t)},useCallback:function(e,t){return Xh="useCallback",Kh(),Od(e,t)},useContext:function(e,t){return Xh="useContext",Kh(),iu(e,t)},useEffect:function(e,t){return Xh="useEffect",Kh(),Ed(e,t)},useImperativeHandle:function(e,t,n){return Xh="useImperativeHandle",Kh(),Cd(e,t,n)},useLayoutEffect:function(e,t){return Xh="useLayoutEffect",Kh(),Td(e,t)},useMemo:function(e,t){Xh="useMemo",Kh();var n=Uh.current;Uh.current=tf;try{return Nd(e,t)}finally{Uh.current=n}},useReducer:function(e,t,n){Xh="useReducer",Kh();var r=Uh.current;Uh.current=tf;try{return cd(e)}finally{Uh.current=r}},useRef:function(e){return Xh="useRef",Kh(),xd()},useState:function(e){Xh="useState",Kh();var t=Uh.current;Uh.current=tf;try{return gd()}finally{Uh.current=t}},useDebugValue:function(e,t){return Xh="useDebugValue",Kh(),Ad()},useDeferredValue:function(e){return Xh="useDeferredValue",Kh(),zd(e)},useTransition:function(){return Xh="useTransition",Kh(),jd()},useMutableSource:function(e,t,n){return Xh="useMutableSource",Kh(),pd(e,t,n)},useOpaqueIdentifier:function(){return Xh="useOpaqueIdentifier",Kh(),qd()},unstable_isNewReconciler:S},Jd={readContext:function(e,t){return iu(e,t)},useCallback:function(e,t){return Xh="useCallback",Kh(),Od(e,t)},useContext:function(e,t){return Xh="useContext",Kh(),iu(e,t)},useEffect:function(e,t){return Xh="useEffect",Kh(),Ed(e,t)},useImperativeHandle:function(e,t,n){return Xh="useImperativeHandle",Kh(),Cd(e,t,n)},useLayoutEffect:function(e,t){return Xh="useLayoutEffect",Kh(),Td(e,t)},useMemo:function(e,t){Xh="useMemo",Kh();var n=Uh.current;Uh.current=nf;try{return Nd(e,t)}finally{Uh.current=n}},useReducer:function(e,t,n){Xh="useReducer",Kh();var r=Uh.current;Uh.current=nf;try{return ud(e)}finally{Uh.current=r}},useRef:function(e){return Xh="useRef",Kh(),xd()},useState:function(e){Xh="useState",Kh();var t=Uh.current;Uh.current=nf;try{return vd()}finally{Uh.current=t}},useDebugValue:function(e,t){return Xh="useDebugValue",Kh(),Ad()},useDeferredValue:function(e){return Xh="useDeferredValue",Kh(),Fd(e)},useTransition:function(){return Xh="useTransition",Kh(),Hd()},useMutableSource:function(e,t,n){return Xh="useMutableSource",Kh(),pd(e,t,n)},useOpaqueIdentifier:function(){return Xh="useOpaqueIdentifier",Kh(),Xd()},unstable_isNewReconciler:S},ef={readContext:function(e,t){return rf(),iu(e,t)},useCallback:function(e,t){return Xh="useCallback",of(),$h(),Ld(e,t)},useContext:function(e,t){return Xh="useContext",of(),$h(),iu(e,t)},useEffect:function(e,t){return Xh="useEffect",of(),$h(),Sd(e,t)},useImperativeHandle:function(e,t,n){return Xh="useImperativeHandle",of(),$h(),Rd(e,t,n)},useLayoutEffect:function(e,t){return Xh="useLayoutEffect",of(),$h(),Md(e,t)},useMemo:function(e,t){Xh="useMemo",of(),$h();var n=Uh.current;Uh.current=ef;try{return Id(e,t)}finally{Uh.current=n}},useReducer:function(e,t,n){Xh="useReducer",of(),$h();var r=Uh.current;Uh.current=ef;try{return ld(e,t,n)}finally{Uh.current=r}},useRef:function(e){return Xh="useRef",of(),$h(),bd(e)},useState:function(e){Xh="useState",of(),$h();var t=Uh.current;Uh.current=ef;try{return md(e)}finally{Uh.current=t}},useDebugValue:function(e,t){Xh="useDebugValue",of(),$h()},useDeferredValue:function(e){return Xh="useDeferredValue",of(),$h(),Dd(e)},useTransition:function(){return Xh="useTransition",of(),$h(),Bd()},useMutableSource:function(e,t,n){return Xh="useMutableSource",of(),$h(),fd(e,t,n)},useOpaqueIdentifier:function(){return Xh="useOpaqueIdentifier",of(),$h(),Wd()},unstable_isNewReconciler:S},tf={readContext:function(e,t){return rf(),iu(e,t)},useCallback:function(e,t){return Xh="useCallback",of(),Kh(),Od(e,t)},useContext:function(e,t){return Xh="useContext",of(),Kh(),iu(e,t)},useEffect:function(e,t){return Xh="useEffect",of(),Kh(),Ed(e,t)},useImperativeHandle:function(e,t,n){return Xh="useImperativeHandle",of(),Kh(),Cd(e,t,n)},useLayoutEffect:function(e,t){return Xh="useLayoutEffect",of(),Kh(),Td(e,t)},useMemo:function(e,t){Xh="useMemo",of(),Kh();var n=Uh.current;Uh.current=tf;try{return Nd(e,t)}finally{Uh.current=n}},useReducer:function(e,t,n){Xh="useReducer",of(),Kh();var r=Uh.current;Uh.current=tf;try{return cd(e)}finally{Uh.current=r}},useRef:function(e){return Xh="useRef",of(),Kh(),xd()},useState:function(e){Xh="useState",of(),Kh();var t=Uh.current;Uh.current=tf;try{return gd()}finally{Uh.current=t}},useDebugValue:function(e,t){return Xh="useDebugValue",of(),Kh(),Ad()},useDeferredValue:function(e){return Xh="useDeferredValue",of(),Kh(),zd(e)},useTransition:function(){return Xh="useTransition",of(),Kh(),jd()},useMutableSource:function(e,t,n){return Xh="useMutableSource",of(),Kh(),pd(e,t,n)},useOpaqueIdentifier:function(){return Xh="useOpaqueIdentifier",of(),Kh(),qd()},unstable_isNewReconciler:S},nf={readContext:function(e,t){return rf(),iu(e,t)},useCallback:function(e,t){return Xh="useCallback",of(),Kh(),Od(e,t)},useContext:function(e,t){return Xh="useContext",of(),Kh(),iu(e,t)},useEffect:function(e,t){return Xh="useEffect",of(),Kh(),Ed(e,t)},useImperativeHandle:function(e,t,n){return Xh="useImperativeHandle",of(),Kh(),Cd(e,t,n)},useLayoutEffect:function(e,t){return Xh="useLayoutEffect",of(),Kh(),Td(e,t)},useMemo:function(e,t){Xh="useMemo",of(),Kh();var n=Uh.current;Uh.current=tf;try{return Nd(e,t)}finally{Uh.current=n}},useReducer:function(e,t,n){Xh="useReducer",of(),Kh();var r=Uh.current;Uh.current=tf;try{return ud(e)}finally{Uh.current=r}},useRef:function(e){return Xh="useRef",of(),Kh(),xd()},useState:function(e){Xh="useState",of(),Kh();var t=Uh.current;Uh.current=tf;try{return vd()}finally{Uh.current=t}},useDebugValue:function(e,t){return Xh="useDebugValue",of(),Kh(),Ad()},useDeferredValue:function(e){return Xh="useDeferredValue",of(),Kh(),Fd(e)},useTransition:function(){return Xh="useTransition",of(),Kh(),Hd()},useMutableSource:function(e,t,n){return Xh="useMutableSource",of(),Kh(),pd(e,t,n)},useOpaqueIdentifier:function(){return Xh="useOpaqueIdentifier",of(),Kh(),Xd()},unstable_isNewReconciler:S};var af=r.unstable_now,sf=0,lf=-1;function cf(){return sf}function uf(){sf=af()}function hf(e){lf=af(),e.actualStartTime<0&&(e.actualStartTime=af())}function df(e){lf=-1}function ff(e,t){if(lf>=0){var n=af()-lf;e.actualDuration+=n,t&&(e.selfBaseDuration=n),lf=-1}}function pf(e){for(var t=e.child;t;)e.actualDuration+=t.actualDuration,t=t.sibling}var mf,gf,vf,yf,bf,xf,_f,wf,Sf=o.ReactCurrentOwner,Ef=!1;function Mf(e,t,n,r){t.child=null===e?Ju(t,null,n,r):Ku(t,e.child,n,r)}function Tf(e,t,n,r,i){if(t.type!==t.elementType){var o=n.propTypes;o&&Ml(o,r,"prop",He(n))}var a,s=n.render,l=t.ref;if(ru(t,i),Sf.current=t,Qe(!0),a=nd(e,t,s,r,l,i),1&t.mode){Re();try{a=nd(e,t,s,r,l,i)}finally{Ce()}}return Qe(!1),null===e||Ef?(t.flags|=1,Mf(e,t,a,i),t.child):(rd(e,t,i),op(e,t,i))}function kf(e,t,n,r,i,o){if(null===e){var a=n.type;if(function(e){return"function"==typeof e&&!uv(e)&&void 0===e.defaultProps}(a)&&null===n.compare&&void 0===n.defaultProps){var s;return s=Xg(a),t.tag=g,t.type=s,Ff(t,a),Rf(e,t,s,r,i,o)}var l=a.propTypes;l&&Ml(l,r,"prop",He(a));var c=fv(n.type,null,r,t,t.mode,o);return c.ref=t.ref,c.return=t,t.child=c,c}var u=n.type,h=u.propTypes;h&&Ml(h,r,"prop",He(u));var d=e.child;if(!Oi(i,o)){var f=d.memoizedProps,p=n.compare;if((p=null!==p?p:pa)(f,r)&&e.ref===t.ref)return op(e,t,o)}t.flags|=1;var m=hv(d,r);return m.ref=t.ref,m.return=t,t.child=m,m}function Rf(e,t,n,r,i,o){if(t.type!==t.elementType){var a=t.elementType;if(a.$$typeof===ce){var s=a,l=s._payload,c=s._init;try{a=c(l)}catch(e){a=null}var u=a&&a.propTypes;u&&Ml(u,r,"prop",He(a))}}if(null!==e&&(pa(e.memoizedProps,r)&&e.ref===t.ref&&t.type===e.type)){if(Ef=!1,!Oi(o,i))return t.lanes=e.lanes,op(e,t,o);0!=(e.flags&br)&&(Ef=!0)}return Lf(e,t,n,r,o)}function Cf(e,t,n){var r,i=t.pendingProps,o=i.children,a=null!==e?e.memoizedState:null;if("hidden"===i.mode||"unstable-defer-without-hiding"===i.mode)if(0==(4&t.mode)){var s={baseLanes:0};t.memoizedState=s,Xm(t,n)}else{if(!Oi(n,_i)){var l;if(null!==a)l=Ni(a.baseLanes,n);else l=n;zg(_i),t.lanes=t.childLanes=_i;var c={baseLanes:l};return t.memoizedState=c,Xm(t,l),null}var u={baseLanes:0};t.memoizedState=u,Xm(t,null!==a?a.baseLanes:n)}else null!==a?(r=Ni(a.baseLanes,n),t.memoizedState=null):r=n,Xm(t,r);return Mf(e,t,o,n),t.child}mf={},gf={},vf={},yf={},bf={},xf=!1,_f={},wf={};var Pf=Cf;function Af(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=dr)}function Lf(e,t,n,r,i){if(t.type!==t.elementType){var o=n.propTypes;o&&Ml(o,r,"prop",He(n))}var a,s;if(a=Ul(t,zl(0,n,!0)),ru(t,i),Sf.current=t,Qe(!0),s=nd(e,t,n,r,a,i),1&t.mode){Re();try{s=nd(e,t,n,r,a,i)}finally{Ce()}}return Qe(!1),null===e||Ef?(t.flags|=1,Mf(e,t,s,i),t.child):(rd(e,t,i),op(e,t,i))}function Of(e,t,n,r,i){if(t.type!==t.elementType){var o=n.propTypes;o&&Ml(o,r,"prop",He(n))}var a,l;jl(n)?(a=!0,ql(t)):a=!1,ru(t,i),null===t.stateNode?(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),Vu(t,n,r),Wu(t,n,r,i),l=!0):l=null===e?function(e,t,n,r){var i=e.stateNode,o=e.memoizedProps;i.props=o;var a=i.context,s=t.contextType,l=Ol;l="object"==typeof s&&null!==s?iu(s):Ul(e,zl(0,t,!0));var c=t.getDerivedStateFromProps,u="function"==typeof c||"function"==typeof i.getSnapshotBeforeUpdate;u||"function"!=typeof i.UNSAFE_componentWillReceiveProps&&"function"!=typeof i.componentWillReceiveProps||o===n&&a===l||Gu(e,i,n,l),vu();var h=e.memoizedState,d=i.state=h;if(mu(e,n,i,r),d=e.memoizedState,o===n&&h===d&&!Bl()&&!yu())return"function"==typeof i.componentDidMount&&(e.flags|=4),!1;"function"==typeof c&&(Iu(e,t,c,n),d=e.memoizedState);var f=yu()||ju(e,t,o,n,h,d,l);return f?(u||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||("function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"==typeof i.componentDidMount&&(e.flags|=4)):("function"==typeof i.componentDidMount&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=d),i.props=n,i.state=d,i.context=l,f}(t,n,r,i):function(e,t,n,r,i){var o=t.stateNode;uu(e,t);var a=t.memoizedProps,s=t.type===t.elementType?a:Vc(t.type,a);o.props=s;var l=t.pendingProps,c=o.context,u=n.contextType,h=Ol;h="object"==typeof u&&null!==u?iu(u):Ul(t,zl(0,n,!0));var d=n.getDerivedStateFromProps,f="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate;f||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||a===l&&c===h||Gu(t,o,r,h),vu();var p=t.memoizedState,m=o.state=p;if(mu(t,r,o,i),m=t.memoizedState,a===l&&p===m&&!Bl()&&!yu())return"function"==typeof o.componentDidUpdate&&(a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4)),"function"==typeof o.getSnapshotBeforeUpdate&&(a===e.memoizedProps&&p===e.memoizedState||(t.flags|=fr)),!1;"function"==typeof d&&(Iu(t,n,d,r),m=t.memoizedState);var g=yu()||ju(t,n,s,r,p,m,h);return g?(f||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,m,h),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,m,h)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=fr)):("function"==typeof o.componentDidUpdate&&(a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4)),"function"==typeof o.getSnapshotBeforeUpdate&&(a===e.memoizedProps&&p===e.memoizedState||(t.flags|=fr)),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=h,g}(e,t,n,r,i);var c=If(e,t,n,l,a,i),u=t.stateNode;return l&&u.props!==r&&(xf||s("It looks like %s is reassigning its own `this.props` while rendering. This is not supported and can lead to confusing bugs.",He(t.type)||"a component"),xf=!0),c}function If(e,t,n,r,i,o){Af(e,t);var a=0!=(t.flags&hr);if(!r&&!a)return i&&Xl(t,n,!1),op(e,t,o);var s,l=t.stateNode;if(Sf.current=t,a&&"function"!=typeof n.getDerivedStateFromError)s=null,df();else{if(Qe(!0),s=l.render(),1&t.mode){Re();try{l.render()}finally{Ce()}}Qe(!1)}return t.flags|=1,null!==e&&a?function(e,t,n,r){t.child=Ku(t,e.child,null,r),t.child=Ku(t,null,n,r)}(e,t,s,o):Mf(e,t,s,o),t.memoizedState=l.state,i&&Xl(t,n,!0),t.child}function Nf(e){var t=e.stateNode;t.pendingContext?Gl(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Gl(e,t.context,!1),sh(e,t.containerInfo)}function Df(e,t,n){Nf(t);var r=t.updateQueue;if(null===e||null===r)throw Error("If the root does not have an updateQueue, we should have already bailed out. This error is likely caused by a bug in React. Please file an issue.");var i=t.pendingProps,o=t.memoizedState,a=null!==o?o.element:null;uu(e,t),mu(t,i,null,n);var s=t.memoizedState.element;if(s===a)return Ah(),op(e,t,n);var l,c,u=t.stateNode;if(u.hydrate&&(c=(l=t).stateNode.containerInfo,_h=rl(c),xh=l,wh=!0,1)){var h=u.mutableSourceEagerHydrationData;if(null!=h)for(var d=0;d<h.length;d+=2){Dh(h[d],h[d+1])}var f=Ju(t,null,s,n);t.child=f;for(var p=f;p;)p.flags=-3&p.flags|gr,p=p.sibling}else Mf(e,t,s,n),Ah();return t.child}function zf(e,t,n,r,i){null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2);var o=t.pendingProps,a=n,s=a._payload,l=(0,a._init)(s);t.type=l;var c=t.tag=function(e){if("function"==typeof e)return uv(e)?1:0;if(null!=e){var t=e.$$typeof;if(t===oe)return u;if(t===le)return p}return 2}(l),h=Vc(l,o);switch(c){case 0:return Ff(t,l),t.type=l=Xg(l),Lf(null,t,l,h,i);case 1:return t.type=l=Yg(l),Of(null,t,l,h,i);case u:return t.type=l=Zg(l),Tf(null,t,l,h,i);case p:if(t.type!==t.elementType){var d=l.propTypes;d&&Ml(d,h,"prop",He(l))}return kf(null,t,l,Vc(l.type,h),r,i)}var f="";throw null!==l&&"object"==typeof l&&l.$$typeof===ce&&(f=" Did you wrap a component in React.lazy() more than once?"),Error("Element type is invalid. Received a promise that resolves to: "+l+". Lazy element type must resolve to a class or function."+f)}function Ff(e,t){if(t&&t.childContextTypes&&s("%s(...): childContextTypes cannot be defined on a function component.",t.displayName||t.name||"Component"),null!==e.ref){var n="",r=qe();r&&(n+="\n\nCheck the render method of `"+r+"`.");var i=r||e._debugID||"",o=e._debugSource;o&&(i=o.fileName+":"+o.lineNumber),bf[i]||(bf[i]=!0,s("Function components cannot be given refs. Attempts to access this ref will fail. Did you mean to use React.forwardRef()?%s",n))}if("function"==typeof t.getDerivedStateFromProps){var a=He(t)||"Unknown";yf[a]||(s("%s: Function components do not support getDerivedStateFromProps.",a),yf[a]=!0)}if("object"==typeof t.contextType&&null!==t.contextType){var l=He(t)||"Unknown";vf[l]||(s("%s: Function components do not support contextType.",l),vf[l]=!0)}}var Uf={dehydrated:null,retryLane:0};function Bf(e){return{baseLanes:e}}function jf(e,t){return{baseLanes:Ni(e.baseLanes,t)}}function Hf(e,t){return Di(e.childLanes,t)}function Vf(e,t,n){var r=t.pendingProps;Cv(t)&&(t.flags|=hr);var i=dh.current,o=!1;if(0!=(t.flags&hr)||function(e,t,n,r){return(null===t||null!==t.memoizedState)&&fh(e,2)}(i,e)?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0!==r.fallback&&!0!==r.unstable_avoidThisFallback&&(i=i|1),gh(t,i=ph(i)),null===e){void 0!==r.fallback&&Th(t);var a=r.children,s=r.fallback;if(o){var l=Gf(t,a,s,n);return t.child.memoizedState=Bf(n),t.memoizedState=Uf,l}if("number"==typeof r.unstable_expectedLoadTime){var c=Gf(t,a,s,n);return t.child.memoizedState=Bf(n),t.memoizedState=Uf,t.lanes=gi,zg(gi),c}return function(e,t,n){var r=e.mode,i=gv({mode:"visible",children:t},r,n,null);return i.return=e,e.child=i,i}(t,a,n)}if(null!==e.memoizedState){if(o){var u=r.fallback,h=Xf(e,t,r.children,u,n),d=t.child,f=e.child.memoizedState;return d.memoizedState=null===f?Bf(n):jf(f,n),d.childLanes=Hf(e,n),t.memoizedState=Uf,h}var p=qf(e,t,r.children,n);return t.memoizedState=null,p}if(o){var m=r.fallback,g=Xf(e,t,r.children,m,n),v=t.child,y=e.child.memoizedState;return v.memoizedState=null===y?Bf(n):jf(y,n),v.childLanes=Hf(e,n),t.memoizedState=Uf,g}var b=qf(e,t,r.children,n);return t.memoizedState=null,b}function Gf(e,t,n,r){var i,o,a=e.mode,s=e.child,l={mode:"hidden",children:t};return 0==(2&a)&&null!==s?((i=s).childLanes=0,i.pendingProps=l,8&e.mode&&(i.actualDuration=0,i.actualStartTime=-1,i.selfBaseDuration=0,i.treeBaseDuration=0),o=mv(n,a,r,null)):(i=gv(l,a,0,null),o=mv(n,a,r,null)),i.return=e,o.return=e,i.sibling=o,e.child=i,o}function Wf(e,t){return hv(e,t)}function qf(e,t,n,r){var i=e.child,o=i.sibling,a=Wf(i,{mode:"visible",children:n});return 0==(2&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==o&&(o.nextEffect=null,o.flags=8,t.firstEffect=t.lastEffect=o),t.child=a,a}function Xf(e,t,n,r,i){var o,a,s=t.mode,l=e.child,c=l.sibling,u={mode:"hidden",children:n};if(0==(2&s)&&t.child!==l){(o=t.child).childLanes=0,o.pendingProps=u,8&t.mode&&(o.actualDuration=0,o.actualStartTime=-1,o.selfBaseDuration=l.selfBaseDuration,o.treeBaseDuration=l.treeBaseDuration);var h=o.lastEffect;null!==h?(t.firstEffect=o.firstEffect,t.lastEffect=h,h.nextEffect=null):t.firstEffect=t.lastEffect=null}else o=Wf(l,u);return null!==c?a=hv(c,r):(a=mv(r,s,i,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,a}function Yf(e,t){e.lanes=Ni(e.lanes,t);var n=e.alternate;null!==n&&(n.lanes=Ni(n.lanes,t)),nu(e.return,t)}function Zf(e,t){var n=Array.isArray(e),r=!n&&"function"==typeof ye(e);if(n||r){var i=n?"array":"iterable";return s("A nested %s was passed to row #%s in <SuspenseList />. Wrap it in an additional SuspenseList to configure its revealOrder: <SuspenseList revealOrder=...> ... <SuspenseList revealOrder=...>{%s}</SuspenseList> ... </SuspenseList>",i,t,i),!1}return!0}function Qf(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function $f(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail,a=r.children;!function(e){if(void 0!==e&&"forwards"!==e&&"backwards"!==e&&"together"!==e&&!_f[e])if(_f[e]=!0,"string"==typeof e)switch(e.toLowerCase()){case"together":case"forwards":case"backwards":s('"%s" is not a valid value for revealOrder on <SuspenseList />. Use lowercase "%s" instead.',e,e.toLowerCase());break;case"forward":case"backward":s('"%s" is not a valid value for revealOrder on <SuspenseList />. React uses the -s suffix in the spelling. Use "%ss" instead.',e,e.toLowerCase());break;default:s('"%s" is not a supported revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}else s('%s is not a supported value for revealOrder on <SuspenseList />. Did you mean "together", "forwards" or "backwards"?',e)}(i),function(e,t){void 0===e||wf[e]||("collapsed"!==e&&"hidden"!==e?(wf[e]=!0,s('"%s" is not a supported value for tail on <SuspenseList />. Did you mean "collapsed" or "hidden"?',e)):"forwards"!==t&&"backwards"!==t&&(wf[e]=!0,s('<SuspenseList tail="%s" /> is only valid if revealOrder is "forwards" or "backwards". Did you mean to specify revealOrder="forwards"?',e)))}(o,i),function(e,t){if(("forwards"===t||"backwards"===t)&&null!=e&&!1!==e)if(Array.isArray(e)){for(var n=0;n<e.length;n++)if(!Zf(e[n],n))return}else{var r=ye(e);if("function"==typeof r){var i=r.call(e);if(i)for(var o=i.next(),a=0;!o.done;o=i.next()){if(!Zf(o.value,a))return;a++}}else s('A single row was passed to a <SuspenseList revealOrder="%s" />. This is not useful since it needs multiple rows. Did you mean to pass multiple children or an array?',t)}}(a,i),Mf(e,t,a,n);var l=dh.current;fh(l,2)?(l=mh(l,2),t.flags|=hr):(null!==e&&0!=(e.flags&hr)&&function(e,t,n){for(var r=t;null!==r;){if(r.tag===f)null!==r.memoizedState&&Yf(r,n);else if(r.tag===y)Yf(r,n);else if(null!==r.child){r.child.return=r,r=r.child;continue}if(r===e)return;for(;null===r.sibling;){if(null===r.return||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}(t,t.child,n),l=ph(l));if(gh(t,l),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":var c,u=function(e){for(var t=e,n=null;null!==t;){var r=t.alternate;null!==r&&null===bh(r)&&(n=t),t=t.sibling}return n}(t.child);null===u?(c=t.child,t.child=null):(c=u.sibling,u.sibling=null),Qf(t,!1,c,u,o,t.lastEffect);break;case"backwards":var h=null,d=t.child;for(t.child=null;null!==d;){var p=d.alternate;if(null!==p&&null===bh(p)){t.child=d;break}var m=d.sibling;d.sibling=h,h=d,d=m}Qf(t,!0,h,null,o,t.lastEffect);break;case"together":Qf(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}var Kf=!1;function Jf(e,t,n){var r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value;"value"in i||Kf||(Kf=!0,s("The `value` prop is required for the `<Context.Provider>`. Did you misspell it or forget to pass it?"));var l=t.type.propTypes;if(l&&Ml(l,i,"prop","Context.Provider"),eu(t,a),null!==o){var u=function(e,t,n){if(da(n,t))return 0;var r="function"==typeof e._calculateChangedBits?e._calculateChangedBits(n,t):Wc;return(r&Wc)!==r&&s("calculateChangedBits: Expected the return value to be a 31-bit integer. Instead received: %s",r),0|r}(r,a,o.value);if(0===u){if(o.children===i.children&&!Bl())return op(e,t,n)}else!function(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=void 0,a=i.dependencies;if(null!==a){o=i.child;for(var s=a.firstContext;null!==s;){if(s.context===t&&0!=(s.observedBits&n)){if(1===i.tag){var l=hu(wi,Ai(r));l.tag=su,du(i,l)}i.lanes=Ni(i.lanes,r);var u=i.alternate;null!==u&&(u.lanes=Ni(u.lanes,r)),nu(i.return,r),a.lanes=Ni(a.lanes,r);break}s=s.next}}else o=i.tag===c&&i.type===e.type?null:i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}var h=o.sibling;if(null!==h){h.return=o.return,o=h;break}o=o.return}i=o}}(t,r,u,n)}return Mf(e,t,i.children,n),t.child}var ep,tp,np,rp=!1;function ip(){Ef=!0}function op(e,t,n){return null!==e&&(t.dependencies=e.dependencies),df(),tg(t.lanes),Oi(n,t.childLanes)?(function(e,t){if(null!==e&&t.child!==e.child)throw Error("Resuming work not yet implemented.");if(null!==t.child){var n=t.child,r=hv(n,n.pendingProps);for(t.child=r,r.return=t;null!==n.sibling;)n=n.sibling,(r=r.sibling=hv(n,n.pendingProps)).return=t;r.sibling=null}}(e,t),t.child):null}function ap(e,t,n){var r=t.lanes;if(t._debugNeedsRemount&&null!==e)return function(e,t,n){var r=t.return;if(null===r)throw new Error("Cannot swap the root fiber.");if(e.alternate=null,t.alternate=null,n.index=t.index,n.sibling=t.sibling,n.return=t.return,n.ref=t.ref,t===r.child)r.child=n;else{var i=r.child;if(null===i)throw new Error("Expected parent to have a child.");for(;i.sibling!==t;)if(null===(i=i.sibling))throw new Error("Expected to find the previous sibling.");i.sibling=n}var o=r.lastEffect;return null!==o?(o.nextEffect=e,r.lastEffect=e):r.firstEffect=r.lastEffect=e,e.nextEffect=null,e.flags=8,n.flags|=2,n}(e,t,fv(t.type,t.key,t.pendingProps,t._debugOwner||null,t.mode,t.lanes));if(null!==e)if(e.memoizedProps!==t.pendingProps||Bl()||t.type!==e.type)Ef=!0;else{if(!Oi(n,r)){switch(Ef=!1,t.tag){case 3:Nf(t),Ah();break;case 5:uh(t);break;case 1:jl(t.type)&&ql(t);break;case 4:sh(t,t.stateNode.containerInfo);break;case c:eu(t,t.memoizedProps.value);break;case h:Oi(n,t.childLanes)&&(t.flags|=4);var i=t.stateNode;i.effectDuration=0,i.passiveEffectDuration=0;break;case f:if(null!==t.memoizedState){if(Oi(n,t.child.childLanes))return Vf(e,t,n);gh(t,ph(dh.current));var o=op(e,t,n);return null!==o?o.sibling:null}gh(t,ph(dh.current));break;case y:var a=0!=(e.flags&hr),l=Oi(n,t.childLanes);if(a){if(l)return $f(e,t,n);t.flags|=hr}var d=t.memoizedState;if(null!==d&&(d.rendering=null,d.tail=null,d.lastEffect=null),gh(t,dh.current),l)break;return null;case _:case w:return t.lanes=0,Cf(e,t,n)}return op(e,t,n)}Ef=0!=(e.flags&br)}else Ef=!1;switch(t.lanes=0,t.tag){case 2:return function(e,t,n,r){null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2);var i,o,a=t.pendingProps;if(i=Ul(t,zl(0,n,!1)),ru(t,r),n.prototype&&"function"==typeof n.prototype.render){var l=He(n)||"Unknown";mf[l]||(s("The <%s /> component appears to have a render method, but doesn't extend React.Component. This is likely to cause errors. Change %s to extend React.Component instead.",l,l),mf[l]=!0)}if(1&t.mode&&Lc.recordLegacyContextWarning(t,null),Qe(!0),Sf.current=t,o=nd(null,t,n,a,i,r),Qe(!1),t.flags|=1,"object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){var c=He(n)||"Unknown";gf[c]||(s("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",c,c,c),gf[c]=!0)}if("object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof){var u=He(n)||"Unknown";gf[u]||(s("The <%s /> component appears to be a function component that returns a class instance. Change %s to a class that extends React.Component instead. If you can't use a class try assigning the prototype on the function as a workaround. `%s.prototype = React.Component.prototype`. Don't use an arrow function since it cannot be called with `new` by React.",u,u,u),gf[u]=!0),t.tag=1,t.memoizedState=null,t.updateQueue=null;var h=!1;jl(n)?(h=!0,ql(t)):h=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,cu(t);var d=n.getDerivedStateFromProps;return"function"==typeof d&&Iu(t,n,d,a),Hu(t,o),Wu(t,n,a,r),If(null,t,n,!0,h,r)}if(t.tag=0,1&t.mode){Re();try{o=nd(null,t,n,a,i,r)}finally{Ce()}}return Mf(null,t,o,r),Ff(t,n),t.child}(e,t,t.type,n);case 16:return zf(e,t,t.elementType,r,n);case 0:var m=t.type,S=t.pendingProps;return Lf(e,t,m,t.elementType===m?S:Vc(m,S),n);case 1:var E=t.type,M=t.pendingProps;return Of(e,t,E,t.elementType===E?M:Vc(E,M),n);case 3:return Df(e,t,n);case 5:return function(e,t,n){uh(t),null===e&&Th(t);var r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children;return Gs(r,i)?a=null:null!==o&&Gs(r,o)&&(t.flags|=16),Af(e,t),Mf(e,t,a,n),t.child}(e,t,n);case 6:return function(e,t){return null===e&&Th(t),null}(e,t);case f:return Vf(e,t,n);case 4:return function(e,t,n){sh(t,t.stateNode.containerInfo);var r=t.pendingProps;return null===e?t.child=Ku(t,null,r,n):Mf(e,t,r,n),t.child}(e,t,n);case u:var T=t.type,k=t.pendingProps;return Tf(e,t,T,t.elementType===T?k:Vc(T,k),n);case 7:return function(e,t,n){return Mf(e,t,t.pendingProps,n),t.child}(e,t,n);case 8:return function(e,t,n){return Mf(e,t,t.pendingProps.children,n),t.child}(e,t,n);case h:return function(e,t,n){t.flags|=4;var r=t.stateNode;return r.effectDuration=0,r.passiveEffectDuration=0,Mf(e,t,t.pendingProps.children,n),t.child}(e,t,n);case c:return Jf(e,t,n);case 9:return function(e,t,n){var r=t.type;void 0===r._context?r!==r.Consumer&&(rp||(rp=!0,s("Rendering <Context> directly is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?"))):r=r._context;var i=t.pendingProps,o=i.children;"function"!=typeof o&&s("A context consumer was rendered with multiple children, or a child that isn't a function. A context consumer expects a single child that is a function. If you did pass a function, make sure there is no trailing or leading whitespace around it."),ru(t,n);var a,l=iu(r,i.unstable_observedBits);return Sf.current=t,Qe(!0),a=o(l),Qe(!1),t.flags|=1,Mf(e,t,a,n),t.child}(e,t,n);case p:var R=t.type,C=Vc(R,t.pendingProps);if(t.type!==t.elementType){var P=R.propTypes;P&&Ml(P,C,"prop",He(R))}return kf(e,t,R,C=Vc(R.type,C),r,n);case g:return Rf(e,t,t.type,t.pendingProps,r,n);case v:var A=t.type,L=t.pendingProps;return function(e,t,n,r,i){var o;return null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,jl(n)?(o=!0,ql(t)):o=!1,ru(t,i),Vu(t,n,r),Wu(t,n,r,i),If(null,t,n,!0,o,i)}(e,t,A,t.elementType===A?L:Vc(A,L),n);case y:return $f(e,t,n);case b:case 21:case x:break;case _:return Cf(e,t,n);case w:return Pf(e,t,n)}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function sp(e){e.flags|=4}function lp(e){e.flags|=dr}function cp(e,t){if(!Lh())switch(e.tailMode){case"hidden":for(var n=e.tail,r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":for(var i=e.tail,o=null;null!==i;)null!==i.alternate&&(o=i),i=i.sibling;null===o?t||null===e.tail?e.tail=null:e.tail.sibling=null:o.sibling=null}}function up(e,t,n){var r,i,o,a=t.pendingProps;switch(t.tag){case 2:case 16:case g:case 0:case u:case 7:case 8:case h:case 9:case p:return null;case 1:return jl(t.type)&&Hl(t),null;case 3:lh(t),Vl(t),Nh();var s=t.stateNode;if(s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null===e||null===e.child)Ph(t)?sp(t):s.hydrate||(t.flags|=fr);return null;case 5:hh(t);var l=ah(),d=t.type;if(null!==e&&null!=t.stateNode)tp(e,t,d,a),e.ref!==t.ref&&lp(t);else{if(!a){if(null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");return null}var m=ch();if(Ph(t))i=m,o=il((r=t).stateNode,r.type,r.memoizedProps,0,i,r),r.updateQueue=o,null!==o&&sp(t);else{var S=Vs(d,a,l,m,t);ep(S,t),t.stateNode=S,function(e,t,n,r,i){return _s(e,t,n),js(t,n)}(S,d,a)&&sp(t)}null!==t.ref&&lp(t)}return null;case 6:var E=a;if(e&&null!=t.stateNode){var M=e.memoizedProps;np(0,t,M,E)}else{if("string"!=typeof E&&null===t.stateNode)throw Error("We must have new props for new mounts. This error is likely caused by a bug in React. Please file an issue.");var T=ah(),k=ch();Ph(t)?kh(t)&&sp(t):t.stateNode=Ws(E,T,k,t)}return null;case f:vh(t);var R=t.memoizedState;if(0!=(t.flags&hr))return t.lanes=n,0!=(8&t.mode)&&pf(t),t;var C=null!==R,P=!1;if(null===e)void 0!==t.memoizedProps.fallback&&Ph(t);else P=null!==e.memoizedState;if(C&&!P)if(0!=(2&t.mode))null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||fh(dh.current,1)?0===rm&&(rm=3):function(){0!==rm&&3!==rm||(rm=4);null!==Kp&&(Ri(am)||Ri(sm))&&Hm(Kp,em)}();return(C||P)&&(t.flags|=4),null;case 4:return lh(t),null===e&&Ha(t.stateNode.containerInfo),null;case c:return tu(t),null;case v:return jl(t.type)&&Hl(t),null;case y:vh(t);var A=t.memoizedState;if(null===A)return null;var L=0!=(t.flags&hr),O=A.rendering;if(null===O)if(L)cp(A,!1);else{if(!(0===rm&&(null===e||0==(e.flags&hr))))for(var I=t.child;null!==I;){var N=bh(I);if(null!==N){L=!0,t.flags|=hr,cp(A,!1);var D=N.updateQueue;return null!==D&&(t.updateQueue=D,t.flags|=4),null===A.lastEffect&&(t.firstEffect=null),t.lastEffect=A.lastEffect,eh(t,n),gh(t,mh(dh.current,2)),t.child}I=I.sibling}null!==A.tail&&wc()>fm()&&(t.flags|=hr,L=!0,cp(A,!1),t.lanes=gi,zg(gi))}else{if(!L){var z=bh(O);if(null!==z){t.flags|=hr,L=!0;var F=z.updateQueue;if(null!==F&&(t.updateQueue=F,t.flags|=4),cp(A,!0),null===A.tail&&"hidden"===A.tailMode&&!O.alternate&&!Lh()){var U=t.lastEffect=A.lastEffect;return null!==U&&(U.nextEffect=null),null}}else 2*wc()-A.renderingStartTime>fm()&&n!==_i&&(t.flags|=hr,L=!0,cp(A,!1),t.lanes=gi,zg(gi))}if(A.isBackwards)O.sibling=t.child,t.child=O;else{var B=A.last;null!==B?B.sibling=O:t.child=O,A.last=O}}if(null!==A.tail){var j=A.tail;A.rendering=j,A.tail=j.sibling,A.lastEffect=t.lastEffect,A.renderingStartTime=wc(),j.sibling=null;var H=dh.current;return gh(t,H=L?mh(H,2):ph(H)),j}return null;case b:case 21:case x:break;case _:case w:if(Ym(t),null!==e){var V=t.memoizedState;null!==e.memoizedState!==(null!==V)&&"unstable-defer-without-hiding"!==a.mode&&(t.flags|=4)}return null}throw Error("Unknown unit of work tag ("+t.tag+"). This error is likely caused by a bug in React. Please file an issue.")}function hp(e,t){switch(e.tag){case 1:jl(e.type)&&Hl(e);var n=e.flags;return n&yr?(e.flags=-4097&n|hr,0!=(8&e.mode)&&pf(e),e):null;case 3:lh(e),Vl(e),Nh();var r=e.flags;if(0!=(r&hr))throw Error("The root failed to unmount after an error. This is likely a bug in React. Please file an issue.");return e.flags=-4097&r|hr,e;case 5:return hh(e),null;case f:vh(e);var i=e.flags;return i&yr?(e.flags=-4097&i|hr,0!=(8&e.mode)&&pf(e),e):null;case y:return vh(e),null;case 4:return lh(e),null;case c:return tu(e),null;case _:case w:return Ym(e),null;default:return null}}function dp(e){switch(e.tag){case 1:var t=e.type.childContextTypes;null!=t&&Hl(e);break;case 3:lh(e),Vl(e),Nh();break;case 5:hh(e);break;case 4:lh(e);break;case f:case y:vh(e);break;case c:tu(e);break;case _:case w:Ym(e)}}function fp(e,t){return{value:e,source:t,stack:Be(t)}}function pp(e,t){try{0;var n=t.value,r=t.source,i=t.stack,o=null!==i?i:"";if(null!=n&&n._suppressLogging){if(1===e.tag)return;console.error(n)}var a=r?He(r.type):null,s=a?"The above error occurred in the <"+a+"> component:":"The above error occurred in one of your React components:",l=He(e.type),c=s+"\n"+o+"\n\n"+(l?"React will try to recreate this component tree from scratch using the error boundary you provided, "+l+".":"Consider adding an error boundary to your tree to customize error handling behavior.\nVisit https://reactjs.org/link/error-boundaries to learn more about error boundaries.");console.error(c)}catch(e){setTimeout((function(){throw e}))}}ep=function(e,t,n,r){for(var i,o,a=t.child;null!==a;){if(5===a.tag||6===a.tag)i=e,o=a.stateNode,i.appendChild(o);else if(4===a.tag);else if(null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)return;for(;null===a.sibling;){if(null===a.return||a.return===t)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},tp=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var a=function(e,t,n,r,i,o){var a=o;if(typeof r.children!=typeof n.children&&("string"==typeof r.children||"number"==typeof r.children)){var s=""+r.children,l=Ps(a.ancestorInfo,t);Cs(null,s,l)}return ws(e,t,n,r)}(t.stateNode,n,o,r,0,ch());t.updateQueue=a,a&&sp(t)}},np=function(e,t,n,r){n!==r&&sp(t)};var mp="function"==typeof WeakMap?WeakMap:Map;function gp(e,t,n){var r=hu(wi,n);r.tag=3,r.payload={element:null};var i=t.value;return r.callback=function(){xg(i),pp(e,t)},r}function vp(e,t,n){var r=hu(wi,n);r.tag=3;var i=e.type.getDerivedStateFromError;if("function"==typeof i){var o=t.value;r.payload=function(){return pp(e,t),i(o)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch?r.callback=function(){var n;$g(e),"function"!=typeof i&&(n=this,null===vm?vm=new Set([n]):vm.add(n),pp(e,t));var r=t.value,o=t.stack;this.componentDidCatch(r,{componentStack:null!==o?o:""}),"function"!=typeof i&&(Oi(e.lanes,1)||s("%s: Error boundaries should implement getDerivedStateFromError(). In that method, return a state update to display an error message or fallback UI.",He(e.type)||"Unknown"))}:r.callback=function(){$g(e)},r}function yp(e,t,n){var r,i=e.pingCache;if(null===i?(i=e.pingCache=new mp,r=new Set,i.set(t,r)):void 0===(r=i.get(t))&&(r=new Set,i.set(t,r)),!r.has(n)){r.add(n);var o=Sg.bind(null,e,t,n);t.then(o,o)}}function bp(e,t,n,r,i){if(n.flags|=vr,n.firstEffect=n.lastEffect=null,null!==r&&"object"==typeof r&&"function"==typeof r.then){var o=r;if(0==(2&n.mode)){var a=n.alternate;a?(n.updateQueue=a.updateQueue,n.memoizedState=a.memoizedState,n.lanes=a.lanes):(n.updateQueue=null,n.memoizedState=null)}var s=fh(dh.current,1),l=t;do{if(l.tag===f&&yh(l,s)){var c=l.updateQueue;if(null===c){var u=new Set;u.add(o),l.updateQueue=u}else c.add(o);if(0==(2&l.mode)){if(l.flags|=hr,n.flags|=br,n.flags&=-2981,1===n.tag)if(null===n.alternate)n.tag=v;else{var h=hu(wi,1);h.tag=su,du(n,h)}return void(n.lanes=Ni(n.lanes,1))}return yp(e,o,i),l.flags|=yr,void(l.lanes=i)}l=l.return}while(null!==l);r=new Error((He(n.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==rm&&(rm=2),r=fp(r,n);var d=t;do{switch(d.tag){case 3:var p=r;d.flags|=yr;var m=Ai(i);return d.lanes=Ni(d.lanes,m),void fu(d,gp(d,p,m));case 1:var g=r,y=d.type,b=d.stateNode;if(0==(d.flags&hr)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&!bg(b))){d.flags|=yr;var x=Ai(i);return d.lanes=Ni(d.lanes,x),void fu(d,vp(d,g,x))}}d=d.return}while(null!==d)}var xp;xp=new Set;var _p="function"==typeof WeakSet?WeakSet:Set,wp=function(e,t){t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()};function Sp(e){var t=e.ref;null!==t&&("function"==typeof t?(rr(null,t,null,null),ir()&&wg(e,or())):t.current=null)}function Ep(e,t){(rr(null,t,null),ir())&&wg(e,or())}function Mp(e,t){switch(t.tag){case 0:case u:case g:case x:return;case 1:if(t.flags&fr&&null!==e){var n=e.memoizedProps,r=e.memoizedState,i=t.stateNode;t.type!==t.elementType||xf||(i.props!==t.memoizedProps&&s("Expected %s props to match memoized props before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",He(t.type)||"instance"),i.state!==t.memoizedState&&s("Expected %s state to match memoized state before getSnapshotBeforeUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",He(t.type)||"instance"));var o=i.getSnapshotBeforeUpdate(t.elementType===t.type?n:Vc(t.type,n),r),a=xp;void 0!==o||a.has(t.type)||(a.add(t.type),s("%s.getSnapshotBeforeUpdate(): A snapshot value (or null) must be returned. You have returned undefined.",He(t.type))),i.__reactInternalSnapshotBeforeUpdate=o}return;case 3:if(t.flags&fr)Js(t.stateNode.containerInfo);return;case 5:case 6:case 4:case v:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function Tp(e,t,n,r){switch(n.tag){case 0:case u:case g:case x:return function(e,t){var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next,o=i;do{if((o.tag&e)===e){var a=o.create;o.destroy=a();var l=o.destroy;void 0!==l&&"function"!=typeof l&&s("An effect function must not return anything besides a function, which is used for clean-up.%s",null===l?" You returned null. If your effect does not require clean up, return undefined (or nothing).":"function"==typeof l.then?"\n\nIt looks like you wrote useEffect(async () => ...) or returned a Promise. Instead, write the async function inside your effect and call it immediately:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching":" You returned: "+l)}o=o.next}while(o!==i)}}(3,n),void function(e){var t=e.updateQueue,n=null!==t?t.lastEffect:null;if(null!==n){var r=n.next,i=r;do{var o=i,a=o.next,s=o.tag;0!=(4&s)&&0!=(1&s)&&(mg(e,i),pg(e,i)),i=a}while(i!==r)}}(n);case 1:var i=n.stateNode;if(4&n.flags)if(null===t)n.type!==n.elementType||xf||(i.props!==n.memoizedProps&&s("Expected %s props to match memoized props before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",He(n.type)||"instance"),i.state!==n.memoizedState&&s("Expected %s state to match memoized state before componentDidMount. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",He(n.type)||"instance")),i.componentDidMount();else{var o=n.elementType===n.type?t.memoizedProps:Vc(n.type,t.memoizedProps),a=t.memoizedState;n.type!==n.elementType||xf||(i.props!==n.memoizedProps&&s("Expected %s props to match memoized props before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",He(n.type)||"instance"),i.state!==n.memoizedState&&s("Expected %s state to match memoized state before componentDidUpdate. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",He(n.type)||"instance")),i.componentDidUpdate(o,a,i.__reactInternalSnapshotBeforeUpdate)}var l=n.updateQueue;return void(null!==l&&(n.type!==n.elementType||xf||(i.props!==n.memoizedProps&&s("Expected %s props to match memoized props before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.props`. Please file an issue.",He(n.type)||"instance"),i.state!==n.memoizedState&&s("Expected %s state to match memoized state before processing the update queue. This might either be because of a bug in React, or because a component reassigns its own `this.state`. Please file an issue.",He(n.type)||"instance")),bu(0,l,i)));case 3:var c=n.updateQueue;if(null!==c){var d=null;if(null!==n.child)switch(n.child.tag){case 5:case 1:d=n.child.stateNode}bu(0,c,d)}return;case 5:var p=n.stateNode;if(null===t&&4&n.flags)!function(e,t,n,r){js(t,n)&&e.focus()}(p,n.type,n.memoizedProps);return;case 6:case 4:return;case h:var m=n.memoizedProps;m.onCommit;var S=m.onRender;n.stateNode.effectDuration;var E=cf();return void("function"==typeof S&&S(n.memoizedProps.id,null===t?"mount":"update",n.actualDuration,n.treeBaseDuration,n.actualStartTime,E,e.memoizedInteractions));case f:return void function(e,t){if(null===t.memoizedState){var n=t.alternate;if(null!==n){var r=n.memoizedState;if(null!==r){var i=r.dehydrated;null!==i&&function(e){Xr(e)}(i)}}}}(0,n);case y:case v:case b:case 21:case _:case w:return}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function kp(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;t?Qs(r):$s(n.stateNode,n.memoizedProps)}else if(6===n.tag){var i=n.stateNode;t?i.nodeValue="":Ks(i,n.memoizedProps)}else if(n.tag!==_&&n.tag!==w||null===n.memoizedState||n===e){if(null!==n.child){n.child.return=n,n=n.child;continue}}else;if(n===e)return;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Rp(e){var t=e.ref;if(null!==t){var n,r=e.stateNode;switch(e.tag){case 5:n=r;break;default:n=r}"function"==typeof t?t(n):(t.hasOwnProperty("current")||s("Unexpected ref object provided for %s. Use either a ref-setter function or React.createRef().",He(e.type)),t.current=n)}}function Cp(e){var t=e.ref;null!==t&&("function"==typeof t?t(null):t.current=null)}function Pp(e,t,n){switch(function(e){if(Ql&&"function"==typeof Ql.onCommitFiberUnmount)try{Ql.onCommitFiberUnmount(Zl,e)}catch(e){$l||($l=!0,s("React instrumentation encountered an error: %s",e))}}(t),t.tag){case 0:case u:case p:case g:case x:var r=t.updateQueue;if(null!==r){var i=r.lastEffect;if(null!==i){var o=i.next,a=o;do{var l=a,c=l.destroy,h=l.tag;void 0!==c&&(0!=(4&h)?mg(t,a):Ep(t,c)),a=a.next}while(a!==o)}}return;case 1:Sp(t);var d=t.stateNode;return void("function"==typeof d.componentWillUnmount&&function(e,t){rr(null,wp,null,e,t),ir()&&wg(e,or())}(t,d));case 5:return void Sp(t);case 4:return void zp(e,t);case b:case 18:case 21:return}}function Ap(e,t,n){for(var r=t;;)if(Pp(e,r),null===r.child||4===r.tag){if(r===t)return;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function Lp(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null,e._debugOwner=null}function Op(e){return 5===e.tag||3===e.tag||4===e.tag}function Ip(e){var t,n,r=function(e){for(var t=e.return;null!==t;){if(Op(t))return t;t=t.return}throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.")}(e),i=r.stateNode;switch(r.tag){case 5:t=i,n=!1;break;case 3:case 4:t=i.containerInfo,n=!0;break;case b:default:throw Error("Invalid host parent fiber. This error is likely caused by a bug in React. Please file an issue.")}16&r.flags&&(Ys(t),r.flags&=-17);var o=function(e){var t=e;e:for(;;){for(;null===t.sibling;){if(null===t.return||Op(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue e;if(null===t.child||4===t.tag)continue e;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}(e);n?Np(e,o,t):Dp(e,o,t)}function Np(e,t,n){var r=e.tag,i=5===r||6===r;if(i){var o=i?e.stateNode:e.stateNode.instance;t?function(e,t,n){8===e.nodeType?e.parentNode.insertBefore(t,n):e.insertBefore(t,n)}(n,o,t):function(e,t){var n;8===e.nodeType?(n=e.parentNode).insertBefore(t,e):(n=e).appendChild(t),null==e._reactRootContainer&&null===n.onclick&&xs(n)}(n,o)}else if(4===r);else{var a=e.child;if(null!==a){Np(a,t,n);for(var s=a.sibling;null!==s;)Np(s,t,n),s=s.sibling}}}function Dp(e,t,n){var r=e.tag,i=5===r||6===r;if(i){var o=i?e.stateNode:e.stateNode.instance;t?function(e,t,n){e.insertBefore(t,n)}(n,o,t):function(e,t){e.appendChild(t)}(n,o)}else if(4===r);else{var a=e.child;if(null!==a){Dp(a,t,n);for(var s=a.sibling;null!==s;)Dp(s,t,n),s=s.sibling}}}function zp(e,t,n){for(var r,i,o,a,s=t,l=!1;;){if(!l){var c=s.return;e:for(;;){if(null===c)throw Error("Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.");var u=c.stateNode;switch(c.tag){case 5:r=u,i=!1;break e;case 3:case 4:r=u.containerInfo,i=!0;break e}c=c.return}l=!0}if(5===s.tag||6===s.tag)Ap(e,s),i?(o=r,a=s.stateNode,8===o.nodeType?o.parentNode.removeChild(a):o.removeChild(a)):Zs(r,s.stateNode);else if(4===s.tag){if(null!==s.child){r=s.stateNode.containerInfo,i=!0,s.child.return=s,s=s.child;continue}}else if(Pp(e,s),null!==s.child){s.child.return=s,s=s.child;continue}if(s===t)return;for(;null===s.sibling;){if(null===s.return||s.return===t)return;4===(s=s.return).tag&&(l=!1)}s.sibling.return=s.return,s=s.sibling}}function Fp(e,t,n){zp(e,t);var r=t.alternate;Lp(t),null!==r&&Lp(r)}function Up(e,t){switch(t.tag){case 0:case u:case p:case g:case x:return void function(e,t){var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next,o=i;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,void 0!==a&&a()}o=o.next}while(o!==i)}}(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r,o=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&function(e,t,n,r,i,o){xl(e,i),Ss(e,t,n,r,i)}(n,a,o,i,r)}return;case 6:if(null===t.stateNode)throw Error("This should have a text node initialized. This error is likely caused by a bug in React. Please file an issue.");var s=t.stateNode,l=t.memoizedProps;null!==e&&e.memoizedProps;return void function(e,t,n){e.nodeValue=n}(s,0,l);case 3:var c=t.stateNode;return void(c.hydrate&&(c.hydrate=!1,Xr(c.containerInfo)));case h:return;case f:return function(e){if(null!==e.memoizedState){um=wc(),kp(e.child,!0)}}(t),void Bp(t);case y:return void Bp(t);case v:return;case b:case 21:break;case _:case w:return void kp(t,null!==t.memoizedState)}throw Error("This unit of work tag should not have side-effects. This error is likely caused by a bug in React. Please file an issue.")}function Bp(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new _p),t.forEach((function(t){var r=Eg.bind(null,e,t);n.has(t)||(!0!==t.__reactDoNotTraceInteractions&&(r=i.unstable_wrap(r)),n.add(t),t.then(r,r))}))}}function jp(e,t){if(null!==e){var n=e.memoizedState;if(null===n||null!==n.dehydrated){var r=t.memoizedState;return null!==r&&null===r.dehydrated}}return!1}function Hp(e){Ys(e.stateNode)}if("function"==typeof Symbol&&Symbol.for){var Vp=Symbol.for;Vp("selector.component"),Vp("selector.has_pseudo_class"),Vp("selector.role"),Vp("selector.test_id"),Vp("selector.text")}var Gp=[];var Wp=Math.ceil,qp=o.ReactCurrentDispatcher,Xp=o.ReactCurrentOwner,Yp=o.IsSomeRendererActing,Zp=16,Qp=32,$p=0,Kp=null,Jp=null,em=0,tm=0,nm=Pl(0),rm=0,im=null,om=0,am=0,sm=0,lm=0,cm=null,um=0,hm=1/0;function dm(){hm=wc()+500}function fm(){return hm}var pm=null,mm=!1,gm=null,vm=null,ym=!1,bm=null,xm=90,_m=0,wm=[],Sm=[],Em=null,Mm=0,Tm=null,km=0,Rm=null,Cm=wi,Pm=0,Am=0,Lm=!1,Om=null,Im=!1;function Nm(){return 0!=(48&$p)?wc():Cm!==wi?Cm:Cm=wc()}function Dm(e){var t=e.mode;if(0==(2&t))return 1;if(0==(4&t))return Sc()===fc?1:2;if(0===Pm&&(Pm=om),0!==Ac.transition)return 0!==Am&&(Am=null!==cm?cm.pendingLanes:0),function(e,t){var n=Ai(pi&~t);return 0===n&&0===(n=Ai(pi&~e))&&(n=Ai(pi)),n}(Pm,Am);var n,r=Sc();0!=(4&$p)&&r===pc?n=Pi(12,Pm):n=Pi(function(e){switch(e){case 99:return hi;case 98:return di;case 97:case 96:return 8;case 95:return 2;default:return 0}}(r),Pm);return n}function zm(e){var t,n=e.mode;return 0==(2&n)?1:0==(4&n)?Sc()===fc?1:2:(0===Pm&&(Pm=om),0===(t=Ai(mi&~Pm))&&(t=Ai(mi)),t)}function Fm(e,t,n){!function(){if(Mm>50)throw Mm=0,Tm=null,Error("Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.");km>50&&(km=0,s("Maximum update depth exceeded. This can happen when a component calls setState inside useEffect, but useEffect either doesn't have a dependency array, or one of the dependencies changes on every render."))}(),function(e){if(We&&0!=($p&Zp)&&!Vd)switch(e.tag){case 0:case u:case g:var t=Jp&&He(Jp.type)||"Unknown",n=t;if(!Cg.has(n))Cg.add(n),s("Cannot update a component (`%s`) while rendering a different component (`%s`). To locate the bad setState() call inside `%s`, follow the stack trace as described in https://reactjs.org/link/setstate-in-render",He(e.type)||"Unknown",t,t);break;case 1:Pg||(s("Cannot update during an existing state transition (such as within `render`). Render methods should be a pure function of props and state."),Pg=!0)}}(e);var r=Um(e,t);if(null===r)return function(e){var t=e.tag;if(3!==t&&1!==t&&0!==t&&t!==u&&t!==p&&t!==g&&t!==x)return;if(0!=(e.flags&mr))return;var n=He(e.type)||"ReactComponent";if(null!==Rg){if(Rg.has(n))return;Rg.add(n)}else Rg=new Set([n]);if(Lm);else{var r=Ge;try{Ze(e),s("Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in %s.",1===t?"the componentWillUnmount method":"a useEffect cleanup function")}finally{r?Ze(e):Ye()}}}(e),null;Fi(r,t,n),r===Kp&&(sm=Ni(sm,t),4===rm&&Hm(r,em));var i=Sc();1===t?0!=(8&$p)&&0==(48&$p)?(Ug(r,t),Vm(r)):(Bm(r,n),Ug(r,t),0===$p&&(dm(),Rc())):(0==(4&$p)||i!==pc&&i!==fc||(null===Em?Em=new Set([r]):Em.add(r)),Bm(r,n),Ug(r,t)),cm=r}function Um(e,t){e.lanes=Ni(e.lanes,t);var n=e.alternate;null!==n&&(n.lanes=Ni(n.lanes,t)),null===n&&0!=(1026&e.flags)&&Tg(e);for(var r=e,i=e.return;null!==i;)i.childLanes=Ni(i.childLanes,t),null!==(n=i.alternate)?n.childLanes=Ni(n.childLanes,t):0!=(1026&i.flags)&&Tg(e),r=i,i=i.return;return 3===r.tag?r.stateNode:null}function Bm(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.pendingLanes,r=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=n;a>0;){var s=Li(a),l=1<<s,c=o[s];c===wi?0!=(l&r)&&0==(l&i)||(o[s]=Ti(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}(e,t);var r=Mi(e,e===Kp?em:0),i=Si;if(0!==r){if(null!==n){if(e.callbackPriority===i)return;kc(n)}var o,a;if(i===hi)a=Vm.bind(null,e),null===yc?(yc=[a],bc=tc(sc,Cc)):yc.push(a),o=dc;else if(14===i)o=Tc(fc,Vm.bind(null,e));else{o=Tc(function(e){switch(e){case hi:case 14:return 99;case 13:case 12:case 11:case di:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error("Invalid update priority: "+e+". This is a bug in React.")}}(i),jm.bind(null,e))}e.callbackPriority=i,e.callbackNode=o}else null!==n&&(kc(n),e.callbackNode=null,e.callbackPriority=0)}function jm(e){if(Cm=wi,Pm=0,Am=0,0!=(48&$p))throw Error("Should not already be working.");var t=e.callbackNode;if(fg()&&e.callbackNode!==t)return null;var n=Mi(e,e===Kp?em:0);if(0===n)return null;var r=function(e,t){var n=$p;$p|=Zp;var r=$m();Kp===e&&em===t||(dm(),Zm(e,t),Bg(e,t));var i=Jm(e);for(;;)try{ig();break}catch(t){Qm(e,t)}return $c(),eg(i),Km(r),$p=n,null!==Jp?0:(Kp=null,em=0,rm)}(e,n);if(Oi(om,sm))Zm(e,0);else if(0!==r){if(2===r&&($p|=64,e.hydrate&&(e.hydrate=!1,Js(e.containerInfo)),0!==(n=ki(e))&&(r=ng(e,n))),1===r){var i=im;throw Zm(e,0),Hm(e,n),Bm(e,wc()),i}var o=e.current.alternate;e.finishedWork=o,e.finishedLanes=n,function(e,t,n){switch(t){case 0:case 1:throw Error("Root did not complete. This is a bug in React.");case 2:lg(e);break;case 3:if(Hm(e,n),Ci(n)&&!(Hg>0)){var r=um+500-wc();if(r>10){if(0!==Mi(e,0))break;var i=e.suspendedLanes;if(!Ii(i,n)){Nm(),Ui(e,i);break}e.timeoutHandle=qs(lg.bind(null,e),r);break}}lg(e);break;case 4:if(Hm(e,n),function(e){return(e&pi)===e}(n))break;var o=function(e,t){for(var n=e.eventTimes,r=wi;t>0;){var i=Li(t),o=1<<i,a=n[i];a>r&&(r=a),t&=~o}return r}(e,n),a=wc()-o,s=((l=a)<120?120:l<480?480:l<1080?1080:l<1920?1920:l<3e3?3e3:l<4320?4320:1960*Wp(l/1960))-a;if(s>10){e.timeoutHandle=qs(lg.bind(null,e),s);break}lg(e);break;case 5:lg(e);break;default:throw Error("Unknown root exit status.")}var l}(e,r,n)}return Bm(e,wc()),e.callbackNode===t?jm.bind(null,e):null}function Hm(e,t){t=Di(t,lm),function(e,t){e.suspendedLanes|=t,e.pingedLanes&=~t;for(var n=e.expirationTimes,r=t;r>0;){var i=Li(r),o=1<<i;n[i]=wi,r&=~o}}(e,t=Di(t,sm))}function Vm(e){if(0!=(48&$p))throw Error("Should not already be working.");var t,n;if(fg(),e===Kp&&Oi(e.expiredLanes,em)?(n=ng(e,t=em),Oi(om,sm)&&(n=ng(e,t=Mi(e,t)))):n=ng(e,t=Mi(e,0)),0!==e.tag&&2===n&&($p|=64,e.hydrate&&(e.hydrate=!1,Js(e.containerInfo)),0!==(t=ki(e))&&(n=ng(e,t))),1===n){var r=im;throw Zm(e,0),Hm(e,t),Bm(e,wc()),r}var i=e.current.alternate;return e.finishedWork=i,e.finishedLanes=t,lg(e),Bm(e,wc()),null}function Gm(e,t){var n=$p;$p|=1;try{return e(t)}finally{0===($p=n)&&(dm(),Rc())}}function Wm(e,t){var n=$p;$p&=-2,$p|=8;try{return e(t)}finally{0===($p=n)&&(dm(),Rc())}}function qm(e,t){var n=$p;if(0!=(48&n))return s("flushSync was called from inside a lifecycle method. React cannot flush when React is already rendering. Consider moving this call to a scheduler task or micro task."),e(t);$p|=1;try{return e?Mc(fc,e.bind(null,t)):void 0}finally{$p=n,Rc()}}function Xm(e,t){Ll(nm,tm,e),tm=Ni(tm,t),om=Ni(om,t)}function Ym(e){tm=nm.current,Al(nm,e)}function Zm(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Xs(n)),null!==Jp)for(var r=Jp.return;null!==r;)dp(r),r=r.return;Kp=e,Jp=hv(e.current,null),em=tm=om=t,rm=0,im=null,am=0,sm=0,lm=0,Rm=null,Lc.discardPendingWarnings()}function Qm(e,t){for(;;){var n=Jp;try{if($c(),id(),Ye(),Xp.current=null,null===n||null===n.return)return rm=1,im=t,void(Jp=null);8&n.mode&&ff(n,!0),bp(e,n.return,n,t,em),ag(n)}catch(e){t=e,Jp===n&&null!==n?(n=n.return,Jp=n):n=Jp;continue}return}}function $m(){var e=qp.current;return qp.current=Zd,null===e?Zd:e}function Km(e){qp.current=e}function Jm(e){var t=i.__interactionsRef.current;return i.__interactionsRef.current=e.memoizedInteractions,t}function eg(e){i.__interactionsRef.current=e}function tg(e){am=Ni(e,am)}function ng(e,t){var n=$p;$p|=Zp;var r=$m();Kp===e&&em===t||(Zm(e,t),Bg(e,t));for(var i=Jm(e);;)try{rg();break}catch(t){Qm(e,t)}if($c(),eg(i),$p=n,Km(r),null!==Jp)throw Error("Cannot commit an incomplete root. This error is likely caused by a bug in React. Please file an issue.");return Kp=null,em=0,rm}function rg(){for(;null!==Jp;)og(Jp)}function ig(){for(;null!==Jp&&!gc();)og(Jp)}function og(e){var t,n=e.alternate;Ze(e),0!=(8&e.mode)?(hf(e),t=kg(n,e,tm),ff(e,!0)):t=kg(n,e,tm),Ye(),e.memoizedProps=e.pendingProps,null===t?ag(e):Jp=t,Xp.current=null}function ag(e){var t=e;do{var n=t.alternate,r=t.return;if(0==(t.flags&vr)){Ze(t);var i=void 0;if(0==(8&t.mode)?i=up(n,t,tm):(hf(t),i=up(n,t,tm),ff(t,!1)),Ye(),null!==i)return void(Jp=i);if(sg(t),null!==r&&0==(r.flags&vr))null===r.firstEffect&&(r.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==r.lastEffect&&(r.lastEffect.nextEffect=t.firstEffect),r.lastEffect=t.lastEffect),t.flags>1&&(null!==r.lastEffect?r.lastEffect.nextEffect=t:r.firstEffect=t,r.lastEffect=t)}else{var o=hp(t);if(null!==o)return o.flags&=2047,void(Jp=o);if(0!=(8&t.mode)){ff(t,!1);for(var a=t.actualDuration,s=t.child;null!==s;)a+=s.actualDuration,s=s.sibling;t.actualDuration=a}null!==r&&(r.firstEffect=r.lastEffect=null,r.flags|=vr)}var l=t.sibling;if(null!==l)return void(Jp=l);Jp=t=r}while(null!==t);0===rm&&(rm=5)}function sg(e){if(e.tag!==w&&e.tag!==_||null===e.memoizedState||Oi(tm,_i)||0==(4&e.mode)){var t=0;if(0!=(8&e.mode)){for(var n=e.actualDuration,r=e.selfBaseDuration,i=null===e.alternate||e.child!==e.alternate.child,o=e.child;null!==o;)t=Ni(t,Ni(o.lanes,o.childLanes)),i&&(n+=o.actualDuration),r+=o.treeBaseDuration,o=o.sibling;if(e.tag===f&&null!==e.memoizedState){var a=e.child;null!==a&&(r-=a.treeBaseDuration)}e.actualDuration=n,e.treeBaseDuration=r}else for(var s=e.child;null!==s;)t=Ni(t,Ni(s.lanes,s.childLanes)),s=s.sibling;e.childLanes=t}}function lg(e){var t=Sc();return Mc(fc,cg.bind(null,e,t)),null}function cg(e,t){do{fg()}while(null!==bm);if(Lc.flushLegacyContextWarning(),Lc.flushPendingUnsafeLifecycleWarnings(),0!=(48&$p))throw Error("Should not already be working.");var n=e.finishedWork,r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error("Cannot commit the same tree as before. This error is likely caused by a bug in React. Please file an issue.");e.callbackNode=null;var i,o=Ni(n.lanes,n.childLanes);if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t;for(var r=e.entanglements,i=e.eventTimes,o=e.expirationTimes,a=n;a>0;){var s=Li(a),l=1<<s;r[s]=0,i[s]=wi,o[s]=wi,a&=~l}}(e,o),null!==Em&&!function(e){return 0!=(24&e)}(o)&&Em.has(e)&&Em.delete(e),e===Kp&&(Kp=null,Jp=null,em=0),n.flags>1?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var a=$p;$p|=Qp;var s=Jm(e);Xp.current=null,Om=Hs(e.containerInfo),Im=!1,pm=i;do{if(rr(null,ug,null),ir()){if(null===pm)throw Error("Should be working on an effect.");var l=or();wg(pm,l),pm=pm.nextEffect}}while(null!==pm);Om=null,uf(),pm=i;do{if(rr(null,hg,null,e,t),ir()){if(null===pm)throw Error("Should be working on an effect.");var c=or();wg(pm,c),pm=pm.nextEffect}}while(null!==pm);e.containerInfo,Ma(Bs),Xi(Us),Us=null,Bs=null,e.current=n,pm=i;do{if(rr(null,dg,null,e,r),ir()){if(null===pm)throw Error("Should be working on an effect.");var u=or();wg(pm,u),pm=pm.nextEffect}}while(null!==pm);pm=null,vc(),eg(s),$p=a}else e.current=n,uf();var h=ym;if(ym)ym=!1,bm=e,_m=r,xm=t;else for(pm=i;null!==pm;){var d=pm.nextEffect;pm.nextEffect=null,8&pm.flags&&Vg(pm),pm=d}if(0!==(o=e.pendingLanes)){if(null!==Rm){var f=Rm;Rm=null;for(var p=0;p<f.length;p++)Fg(e,f[p],e.memoizedInteractions)}Ug(e,o)}else vm=null;if(h||jg(e,r),1===o?e===Tm?Mm++:(Mm=0,Tm=e):Mm=0,Jl(n.stateNode,t),Gp.forEach((function(e){return e()})),Bm(e,wc()),mm){mm=!1;var m=gm;throw gm=null,m}return 0!=(8&$p)||Rc(),null}function ug(){for(;null!==pm;){var e=pm.alternate;Im||null===Om||(0!=(8&pm.flags)?kr(pm,Om)&&(Im=!0):pm.tag===f&&jp(e,pm)&&kr(pm,Om)&&(Im=!0));var t=pm.flags;0!=(t&fr)&&(Ze(pm),Mp(e,pm),Ye()),0!=(t&pr)&&(ym||(ym=!0,Tc(mc,(function(){return fg(),null})))),pm=pm.nextEffect}}function hg(e,t){for(;null!==pm;){Ze(pm);var n=pm.flags;if(16&n&&Hp(pm),n&dr){var r=pm.alternate;null!==r&&Cp(r)}switch(1038&n){case 2:Ip(pm),pm.flags&=-3;break;case 6:Ip(pm),pm.flags&=-3,Up(pm.alternate,pm);break;case gr:pm.flags&=-1025;break;case 1028:pm.flags&=-1025,Up(pm.alternate,pm);break;case 4:Up(pm.alternate,pm);break;case 8:Fp(e,pm)}Ye(),pm=pm.nextEffect}}function dg(e,t){for(;null!==pm;){Ze(pm);var n=pm.flags;if(36&n)Tp(e,pm.alternate,pm);n&dr&&Rp(pm),Ye(),pm=pm.nextEffect}}function fg(){if(90!==xm){var e=xm>mc?mc:xm;return xm=90,Mc(e,yg)}return!1}function pg(e,t){wm.push(t,e),ym||(ym=!0,Tc(mc,(function(){return fg(),null})))}function mg(e,t){Sm.push(t,e),e.flags|=mr;var n=e.alternate;null!==n&&(n.flags|=mr),ym||(ym=!0,Tc(mc,(function(){return fg(),null})))}function gg(e){var t=e.create;e.destroy=t()}function yg(){if(null===bm)return!1;var e=bm,t=_m;if(bm=null,_m=0,0!=(48&$p))throw Error("Cannot flush passive effects while already rendering.");Lm=!0;var n=$p;$p|=Qp;var r=Jm(e),i=Sm;Sm=[];for(var o=0;o<i.length;o+=2){var a=i[o],s=i[o+1],l=a.destroy;a.destroy=void 0,s.flags&=-8193;var c=s.alternate;if(null!==c&&(c.flags&=-8193),"function"==typeof l){if(Ze(s),rr(null,l,null),ir()){if(null===s)throw Error("Should be working on an effect.");wg(s,or())}Ye()}}var u=wm;wm=[];for(var h=0;h<u.length;h+=2){var d=u[h],f=u[h+1];if(Ze(f),rr(null,gg,null,d),ir()){if(null===f)throw Error("Should be working on an effect.");wg(f,or())}Ye()}for(var p=e.current.firstEffect;null!==p;){var m=p.nextEffect;p.nextEffect=null,8&p.flags&&Vg(p),p=m}return eg(r),jg(e,t),Lm=!1,$p=n,Rc(),km=null===bm?0:km+1,!0}function bg(e){return null!==vm&&vm.has(e)}var xg=function(e){mm||(mm=!0,gm=e)};function _g(e,t,n){du(e,gp(e,fp(n,t),1));var r=Nm(),i=Um(e,1);null!==i&&(Fi(i,1,r),Bm(i,r),Ug(i,1))}function wg(e,t){if(3!==e.tag)for(var n=e.return;null!==n;){if(3===n.tag)return void _g(n,e,t);if(1===n.tag){var r=n.type,i=n.stateNode;if("function"==typeof r.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&!bg(i)){var o=fp(t,e);du(n,vp(n,o,1));var a=Nm(),s=Um(n,1);if(null!==s)Fi(s,1,a),Bm(s,a),Ug(s,1);else if("function"==typeof i.componentDidCatch&&!bg(i))try{i.componentDidCatch(t,o)}catch(e){}return}}n=n.return}else _g(e,e,t)}function Sg(e,t,n){var r=e.pingCache;null!==r&&r.delete(t);var i=Nm();Ui(e,n),Kp===e&&Ii(em,n)&&(4===rm||3===rm&&Ci(em)&&wc()-um<500?Zm(e,0):lm=Ni(lm,n)),Bm(e,i),Ug(e,n)}function Eg(e,t){var n;null!==(n=e.stateNode)&&n.delete(t),function(e,t){0===t&&(t=zm(e));var n=Nm(),r=Um(e,t);null!==r&&(Fi(r,t,n),Bm(r,n),Ug(r,t))}(e,0)}var Mg=null;function Tg(e){if(0==($p&Zp)&&6&e.mode){var t=e.tag;if(2===t||3===t||1===t||0===t||t===u||t===p||t===g||t===x){var n=He(e.type)||"ReactComponent";if(null!==Mg){if(Mg.has(n))return;Mg.add(n)}else Mg=new Set([n]);var r=Ge;try{Ze(e),s("Can't perform a React state update on a component that hasn't mounted yet. This indicates that you have a side-effect in your render function that asynchronously later calls tries to update the component. Move this work to useEffect instead.")}finally{r?Ze(e):Ye()}}}}var kg,Rg=null;kg=function(e,t,n){var r=bv(null,t);try{return ap(e,t,n)}catch(i){if(null!==i&&"object"==typeof i&&"function"==typeof i.then)throw i;if($c(),id(),dp(t),bv(t,r),8&t.mode&&hf(t),rr(null,ap,null,e,t,n),ir())throw or();throw i}};var Cg,Pg=!1;Cg=new Set;var Ag={current:!1};function Lg(e){if(!0===Yp.current&&!0!==Ag.current){var t=Ge;try{Ze(e),s("It looks like you're using the wrong act() around your test interactions.\nBe sure to use the matching version of act() corresponding to your renderer:\n\n// for react-dom:\nimport {act} from 'react-dom/test-utils';\n// ...\nact(() => ...);\n\n// for react-test-renderer:\nimport TestRenderer from react-test-renderer';\nconst {act} = TestRenderer;\n// ...\nact(() => ...);")}finally{t?Ze(e):Ye()}}}function Og(e){0!=(1&e.mode)&&!1===Yp.current&&!1===Ag.current&&s("An update to %s ran an effect, but was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act",He(e.type))}var Ig=function(e){if(0===$p&&!1===Yp.current&&!1===Ag.current){var t=Ge;try{Ze(e),s("An update to %s inside a test was not wrapped in act(...).\n\nWhen testing, code that causes React state updates should be wrapped into act(...):\n\nact(() => {\n  /* fire events that update state */\n});\n/* assert on the output */\n\nThis ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act",He(e.type))}finally{t?Ze(e):Ye()}}},Ng=!1;function Dg(e,t){return 1e3*t+e.interactionThreadID}function zg(e){null===Rm?Rm=[e]:Rm.push(e)}function Fg(e,t,n){if(n.size>0){var r=e.pendingInteractionMap,o=r.get(t);null!=o?n.forEach((function(e){o.has(e)||e.__count++,o.add(e)})):(r.set(t,new Set(n)),n.forEach((function(e){e.__count++})));var a=i.__subscriberRef.current;if(null!==a){var s=Dg(e,t);a.onWorkScheduled(n,s)}}}function Ug(e,t){Fg(e,t,i.__interactionsRef.current)}function Bg(e,t){var n=new Set;if(e.pendingInteractionMap.forEach((function(e,r){Oi(t,r)&&e.forEach((function(e){return n.add(e)}))})),e.memoizedInteractions=n,n.size>0){var r=i.__subscriberRef.current;if(null!==r){var o=Dg(e,t);try{r.onWorkStarted(n,o)}catch(e){Tc(fc,(function(){throw e}))}}}}function jg(e,t){var n,r=e.pendingLanes;try{if(null!==(n=i.__subscriberRef.current)&&e.memoizedInteractions.size>0){var o=Dg(e,t);n.onWorkStopped(e.memoizedInteractions,o)}}catch(e){Tc(fc,(function(){throw e}))}finally{var a=e.pendingInteractionMap;a.forEach((function(e,t){Oi(r,t)||(a.delete(t),e.forEach((function(e){if(e.__count--,null!==n&&0===e.__count)try{n.onInteractionScheduledWorkCompleted(e)}catch(e){Tc(fc,(function(){throw e}))}})))}))}}var Hg=0;function Vg(e){e.sibling=null,e.stateNode=null}var Gg=null,Wg=null,qg=function(e){Gg=e};function Xg(e){if(null===Gg)return e;var t=Gg(e);return void 0===t?e:t.current}function Yg(e){return Xg(e)}function Zg(e){if(null===Gg)return e;var t=Gg(e);if(void 0===t){if(null!=e&&"function"==typeof e.render){var n=Xg(e.render);if(e.render!==n){var r={$$typeof:oe,render:n};return void 0!==e.displayName&&(r.displayName=e.displayName),r}}return e}return t.current}function Qg(e,t){if(null===Gg)return!1;var n=e.elementType,r=t.type,i=!1,o="object"==typeof r&&null!==r?r.$$typeof:null;switch(e.tag){case 1:"function"==typeof r&&(i=!0);break;case 0:("function"==typeof r||o===ce)&&(i=!0);break;case u:(o===oe||o===ce)&&(i=!0);break;case p:case g:(o===le||o===ce)&&(i=!0);break;default:return!1}if(i){var a=Gg(n);if(void 0!==a&&a===Gg(r))return!0}return!1}function $g(e){null!==Gg&&"function"==typeof WeakSet&&(null===Wg&&(Wg=new WeakSet),Wg.add(e))}var Kg=function(e,t){if(null!==Gg){var n=t.staleFamilies,r=t.updatedFamilies;fg(),qm((function(){ev(e.current,r,n)}))}},Jg=function(e,t){e.context===Ol&&(fg(),qm((function(){Ev(t,e,null,null)})))};function ev(e,t,n){var r=e.alternate,i=e.child,o=e.sibling,a=e.tag,s=e.type,l=null;switch(a){case 0:case g:case 1:l=s;break;case u:l=s.render}if(null===Gg)throw new Error("Expected resolveFamily to be set during hot reload.");var c=!1,h=!1;if(null!==l){var d=Gg(l);void 0!==d&&(n.has(d)?h=!0:t.has(d)&&(1===a?h=!0:c=!0))}null!==Wg&&(Wg.has(e)||null!==r&&Wg.has(r))&&(h=!0),h&&(e._debugNeedsRemount=!0),(h||c)&&Fm(e,1,wi),null===i||h||ev(i,t,n),null!==o&&ev(o,t,n)}var tv,nv=function(e,t){var n=new Set,r=new Set(t.map((function(e){return e.current})));return rv(e.current,r,n),n};function rv(e,t,n){var r=e.child,i=e.sibling,o=e.tag,a=e.type,s=null;switch(o){case 0:case g:case 1:s=a;break;case u:s=a.render}var l=!1;null!==s&&t.has(s)&&(l=!0),l?function(e,t){if(function(e,t){var n=e,r=!1;for(;;){if(5===n.tag)r=!0,t.add(n.stateNode);else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)return r;for(;null===n.sibling;){if(null===n.return||n.return===e)return r;n=n.return}n.sibling.return=n.return,n=n.sibling}return!1}(e,t))return;var n=e;for(;;){switch(n.tag){case 5:return void t.add(n.stateNode);case 4:case 3:return void t.add(n.stateNode.containerInfo)}if(null===n.return)throw new Error("Expected to reach root first.");n=n.return}}(e,n):null!==r&&rv(r,t,n),null!==i&&rv(i,t,n)}tv=!1;try{var iv=Object.preventExtensions({});new Map([[iv,null]]),new Set([iv])}catch(e){tv=!0}var ov=1;function av(e,t,n,r){this.tag=e,this.key=n,this.elementType=null,this.type=null,this.stateNode=null,this.return=null,this.child=null,this.sibling=null,this.index=0,this.ref=null,this.pendingProps=t,this.memoizedProps=null,this.updateQueue=null,this.memoizedState=null,this.dependencies=null,this.mode=r,this.flags=0,this.nextEffect=null,this.firstEffect=null,this.lastEffect=null,this.lanes=0,this.childLanes=0,this.alternate=null,this.actualDuration=Number.NaN,this.actualStartTime=Number.NaN,this.selfBaseDuration=Number.NaN,this.treeBaseDuration=Number.NaN,this.actualDuration=0,this.actualStartTime=-1,this.selfBaseDuration=0,this.treeBaseDuration=0,this._debugID=ov++,this._debugSource=null,this._debugOwner=null,this._debugNeedsRemount=!1,this._debugHookTypes=null,tv||"function"!=typeof Object.preventExtensions||Object.preventExtensions(this)}var sv,lv,cv=function(e,t,n,r){return new av(e,t,n,r)};function uv(e){var t=e.prototype;return!(!t||!t.isReactComponent)}function hv(e,t){var n=e.alternate;null===n?((n=cv(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n._debugID=e._debugID,n._debugSource=e._debugSource,n._debugOwner=e._debugOwner,n._debugHookTypes=e._debugHookTypes,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null,n.actualDuration=0,n.actualStartTime=-1),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue;var r=e.dependencies;switch(n.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.selfBaseDuration=e.selfBaseDuration,n.treeBaseDuration=e.treeBaseDuration,n._debugNeedsRemount=e._debugNeedsRemount,n.tag){case 2:case 0:case g:n.type=Xg(e.type);break;case 1:n.type=Yg(e.type);break;case u:n.type=Zg(e.type)}return n}function dv(e,t){e.flags&=2,e.nextEffect=null,e.firstEffect=null,e.lastEffect=null;var n=e.alternate;if(null===n)e.childLanes=0,e.lanes=t,e.child=null,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null,e.selfBaseDuration=0,e.treeBaseDuration=0;else{e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type;var r=n.dependencies;e.dependencies=null===r?null:{lanes:r.lanes,firstContext:r.firstContext},e.selfBaseDuration=n.selfBaseDuration,e.treeBaseDuration=n.treeBaseDuration}return e}function fv(e,t,n,r,i,o){var a=2,l=e;if("function"==typeof e)uv(e)?(a=1,l=Yg(l)):l=Xg(l);else if("string"==typeof e)a=5;else e:switch(e){case ee:return mv(n.children,i,o,t);case fe:a=8,i|=16;break;case te:a=8,i|=1;break;case ne:return function(e,t,n,r){"string"!=typeof e.id&&s('Profiler must specify an "id" as a prop');var i=cv(h,e,r,8|t);return i.elementType=ne,i.type=ne,i.lanes=n,i.stateNode={effectDuration:0,passiveEffectDuration:0},i}(n,i,o,t);case ae:return function(e,t,n,r){var i=cv(f,e,r,t);return i.type=ae,i.elementType=ae,i.lanes=n,i}(n,i,o,t);case se:return function(e,t,n,r){var i=cv(y,e,r,t);return i.type=se,i.elementType=se,i.lanes=n,i}(n,i,o,t);case pe:return gv(n,i,o,t);case me:return function(e,t,n,r){var i=cv(w,e,r,t);return i.type=me,i.elementType=me,i.lanes=n,i}(n,i,o,t);case he:default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case re:a=c;break e;case ie:a=9;break e;case oe:a=u,l=Zg(l);break e;case le:a=p;break e;case ce:a=16,l=null;break e;case ue:a=x;break e}var d="";(void 0===e||"object"==typeof e&&null!==e&&0===Object.keys(e).length)&&(d+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var m=r?He(r.type):null;throw m&&(d+="\n\nCheck the render method of `"+m+"`."),Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==e?e:typeof e)+"."+d)}var g=cv(a,n,t,i);return g.elementType=e,g.type=l,g.lanes=o,g._debugOwner=r,g}function pv(e,t,n){var r;r=e._owner;var i=fv(e.type,e.key,e.props,r,t,n);return i._debugSource=e._source,i._debugOwner=e._owner,i}function mv(e,t,n,r){var i=cv(7,e,r,t);return i.lanes=n,i}function gv(e,t,n,r){var i=cv(_,e,r,t);return i.type=pe,i.elementType=pe,i.lanes=n,i}function vv(e,t,n){var r=cv(6,e,null,t);return r.lanes=n,r}function yv(e,t,n){var r=null!==e.children?e.children:[],i=cv(4,r,e.key,t);return i.lanes=n,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function bv(e,t){return null===e&&(e=cv(2,null,null,0)),e.tag=t.tag,e.key=t.key,e.elementType=t.elementType,e.type=t.type,e.stateNode=t.stateNode,e.return=t.return,e.child=t.child,e.sibling=t.sibling,e.index=t.index,e.ref=t.ref,e.pendingProps=t.pendingProps,e.memoizedProps=t.memoizedProps,e.updateQueue=t.updateQueue,e.memoizedState=t.memoizedState,e.dependencies=t.dependencies,e.mode=t.mode,e.flags=t.flags,e.nextEffect=t.nextEffect,e.firstEffect=t.firstEffect,e.lastEffect=t.lastEffect,e.lanes=t.lanes,e.childLanes=t.childLanes,e.alternate=t.alternate,e.actualDuration=t.actualDuration,e.actualStartTime=t.actualStartTime,e.selfBaseDuration=t.selfBaseDuration,e.treeBaseDuration=t.treeBaseDuration,e._debugID=t._debugID,e._debugSource=t._debugSource,e._debugOwner=t._debugOwner,e._debugNeedsRemount=t._debugNeedsRemount,e._debugHookTypes=t._debugHookTypes,e}function xv(e,t,n){switch(this.tag=t,this.containerInfo=e,this.pendingChildren=null,this.current=null,this.pingCache=null,this.finishedWork=null,this.timeoutHandle=-1,this.context=null,this.pendingContext=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zi(0),this.expirationTimes=zi(wi),this.pendingLanes=0,this.suspendedLanes=0,this.pingedLanes=0,this.expiredLanes=0,this.mutableReadLanes=0,this.finishedLanes=0,this.entangledLanes=0,this.entanglements=zi(0),this.mutableSourceEagerHydrationData=null,this.interactionThreadID=i.unstable_getThreadID(),this.memoizedInteractions=new Set,this.pendingInteractionMap=new Map,t){case 1:this._debugRootType="createBlockingRoot()";break;case 2:this._debugRootType="createRoot()";break;case 0:this._debugRootType="createLegacyRoot()"}}function _v(e,t,n,r){var i=new xv(e,t,n),o=function(e){var t;return t=2===e?7:1===e?3:0,Kl&&(t|=8),cv(3,null,null,t)}(t);return i.current=o,o.stateNode=i,cu(o),i}function wv(e,t){var n=(0,t._getVersion)(t._source);null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[t,n]:e.mutableSourceEagerHydrationData.push(t,n)}function Sv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:J,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ev(e,t,n,i){!function(e,t){if(Ql&&"function"==typeof Ql.onScheduleFiberRoot)try{Ql.onScheduleFiberRoot(Zl,e,t)}catch(e){$l||($l=!0,s("React instrumentation encountered an error: %s",e))}}(t,e);var o,a=t.current,l=Nm();"undefined"!=typeof jest&&(o=a,!1===Ng&&void 0===r.unstable_flushAllWithoutAsserting&&(2&o.mode||4&o.mode)&&(Ng=!0,s("In Concurrent or Sync modes, the \"scheduler\" module needs to be mocked to guarantee consistent behaviour across tests and browsers. For example, with jest: \njest.mock('scheduler', () => require('scheduler/unstable_mock'));\n\nFor more info, visit https://reactjs.org/link/mock-scheduler")),Lg(a));var c=Dm(a),u=function(e){if(!e)return Ol;var t=ar(e),n=Yl(t);if(1===t.tag){var r=t.type;if(jl(r))return Wl(t,r,n)}return n}(n);null===t.context?t.context=u:t.pendingContext=u,We&&null!==Ge&&!sv&&(sv=!0,s("Render methods should be a pure function of props and state; triggering nested component updates from render is not allowed. If necessary, trigger nested updates in componentDidUpdate.\n\nCheck the render method of %s.",He(Ge.type)||"Unknown"));var h=hu(l,c);return h.payload={element:e},null!==(i=void 0===i?null:i)&&("function"!=typeof i&&s("render(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",i),h.callback=i),du(a,h),Fm(a,c,l),c}function Mv(e){var t=e.current;if(!t.child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Tv(e,t){var n=e.memoizedState;null!==n&&null!==n.dehydrated&&(n.retryLane=function(e,t){return 0!==e&&e<t?e:t}(n.retryLane,t))}function kv(e,t){Tv(e,t);var n=e.alternate;n&&Tv(n,t)}function Rv(e){var t=function(e){var t=Mr(e);if(!t)return null;for(var n=t;;){if(5===n.tag||6===n.tag)return n;if(n.child&&4!==n.tag)n.child.return=n,n=n.child;else{if(n===t)return null;for(;!n.sibling;){if(!n.return||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}}return null}(e);return null===t?null:t.tag===b?t.stateNode.instance:t.stateNode}sv=!1,lv={};var Cv=function(e){return!1};var Pv,Av,Lv,Ov,Iv,Nv,Dv,zv,Fv=function(e,t,r){var i=t[r],o=Array.isArray(e)?e.slice():n({},e);return r+1===t.length?(Array.isArray(o)?o.splice(i,1):delete o[i],o):(o[i]=Fv(e[i],t,r+1),o)},Uv=function(e,t){return Fv(e,t,0)},Bv=function(e,t,r,i){var o=t[i],a=Array.isArray(e)?e.slice():n({},e);i+1===t.length?(a[r[i]]=a[o],Array.isArray(a)?a.splice(o,1):delete a[o]):a[o]=Bv(e[o],t,r,i+1);return a},jv=function(e,t,n){if(t.length===n.length){for(var r=0;r<n.length-1;r++)if(t[r]!==n[r])return void a("copyWithRename() expects paths to be the same except for the deepest key");return Bv(e,t,n,0)}a("copyWithRename() expects paths of the same length")},Hv=function(e,t,r,i){if(r>=t.length)return i;var o=t[r],a=Array.isArray(e)?e.slice():n({},e);return a[o]=Hv(e[o],t,r+1,i),a},Vv=function(e,t,n){return Hv(e,t,0,n)},Gv=function(e,t){for(var n=e.memoizedState;null!==n&&t>0;)n=n.next,t--;return n};function Wv(e){var t=Tr(e);return null===t?null:t.stateNode}function qv(e){return null}function Xv(){return Ge}function Yv(e,t,n){this._internalRoot=function(e,t,n){var r=null!=n&&!0===n.hydrate;null!=n&&n.hydrationOptions;var i=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null,o=function(e,t,n,r){return _v(e,t,n)}(e,t,r);if(function(e,t){t[hl]=e}(o.current,e),e.nodeType,Ha(e.nodeType===Vt?e.parentNode:e),i)for(var a=0;a<i.length;a++){wv(o,i[a])}return o}(e,t,n)}function Zv(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}Pv=function(e,t,r,i){var o=Gv(e,t);if(null!==o){var a=Vv(o.memoizedState,r,i);o.memoizedState=a,o.baseState=a,e.memoizedProps=n({},e.memoizedProps),Fm(e,1,wi)}},Av=function(e,t,r){var i=Gv(e,t);if(null!==i){var o=Uv(i.memoizedState,r);i.memoizedState=o,i.baseState=o,e.memoizedProps=n({},e.memoizedProps),Fm(e,1,wi)}},Lv=function(e,t,r,i){var o=Gv(e,t);if(null!==o){var a=jv(o.memoizedState,r,i);o.memoizedState=a,o.baseState=a,e.memoizedProps=n({},e.memoizedProps),Fm(e,1,wi)}},Ov=function(e,t,n){e.pendingProps=Vv(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps),Fm(e,1,wi)},Iv=function(e,t){e.pendingProps=Uv(e.memoizedProps,t),e.alternate&&(e.alternate.pendingProps=e.pendingProps),Fm(e,1,wi)},Nv=function(e,t,n){e.pendingProps=jv(e.memoizedProps,t,n),e.alternate&&(e.alternate.pendingProps=e.pendingProps),Fm(e,1,wi)},Dv=function(e){Fm(e,1,wi)},zv=function(e){Cv=e},Yv.prototype.render=function(e){var t=this._internalRoot;"function"==typeof arguments[1]&&s("render(...): does not support the second callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var n=t.containerInfo;if(8!==n.nodeType){var r=Rv(t.current);r&&r.parentNode!==n&&s("render(...): It looks like the React-rendered content of the root container was removed without using React. This is not supported and will cause errors. Instead, call root.unmount() to empty a root's container.")}Ev(e,t,null,null)},Yv.prototype.unmount=function(){"function"==typeof arguments[0]&&s("unmount(...): does not support a callback argument. To execute a side effect after rendering, declare it in a component body with useEffect().");var e=this._internalRoot,t=e.containerInfo;Ev(null,e,null,(function(){pl(t)}))};var Qv,$v=o.ReactCurrentOwner,Kv=!1;function Jv(e){return e?9===e.nodeType?e.documentElement:e.firstChild:null}function ey(e,t){var n=t||function(e){var t=Jv(e);return!(!t||1!==t.nodeType||!t.hasAttribute(L))}(e);if(!n)for(var r,i=!1;r=e.lastChild;)!i&&1===r.nodeType&&r.hasAttribute(L)&&(i=!0,s("render(): Target node has markup rendered by React, but there are unrelated nodes as well. This is most commonly caused by white-space inserted around server-rendered markup.")),e.removeChild(r);return!n||t||Kv||(Kv=!0,a("render(): Calling ReactDOM.render() to hydrate server-rendered markup will stop working in React v18. Replace the ReactDOM.render() call with ReactDOM.hydrate() if you want React to attach to the server HTML.")),function(e,t){return new Yv(e,0,t)}(e,n?{hydrate:!0}:void 0)}function ty(e,t,n,r,i){Qv(n),function(e,t){null!==e&&"function"!=typeof e&&s("%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,e)}(void 0===i?null:i,"render");var o,a=n._reactRootContainer;if(a){if(o=a._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Mv(o);l.call(e)}}Ev(t,o,e,i)}else{if(a=n._reactRootContainer=ey(n,r),o=a._internalRoot,"function"==typeof i){var c=i;i=function(){var e=Mv(o);c.call(e)}}Wm((function(){Ev(t,o,e,i)}))}return Mv(o)}Qv=function(e){if(e._reactRootContainer&&8!==e.nodeType){var t=Rv(e._reactRootContainer._internalRoot.current);t&&t.parentNode!==e&&s("render(...): It looks like the React-rendered content of this container was removed without using React. This is not supported and will cause errors. Instead, call ReactDOM.unmountComponentAtNode to empty a container.")}var n=!!e._reactRootContainer,r=Jv(e);!(!r||!vl(r))&&!n&&s("render(...): Replacing React-rendered children with a new root component. If you intended to update the children of this node, you should instead have the existing children update their state and render the new components instead of calling ReactDOM.render."),1===e.nodeType&&e.tagName&&"BODY"===e.tagName.toUpperCase()&&s("render(): Rendering components directly into document.body is discouraged, since its children are often manipulated by third-party scripts and browser extensions. This may lead to subtle reconciliation issues. Try rendering into a container element created for your app.")},sr=function(e){e.tag===f&&(Fm(e,4,Nm()),kv(e,4))},function(e){lr=e}((function(e){if(e.tag===f){var t=Nm(),n=vi;Fm(e,n,t),kv(e,n)}})),function(e){cr=e}((function(e){if(e.tag===f){var t=Nm(),n=Dm(e);Fm(e,n,t),kv(e,n)}})),function(e){ur=e}((function(e,t){try{return t()}finally{}}));var ny=!1;function ry(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!Zv(t))throw Error("Target container is not a DOM element.");return Sv(e,t,null,n)}"function"==typeof Map&&null!=Map.prototype&&"function"==typeof Map.prototype.forEach&&"function"==typeof Set&&null!=Set.prototype&&"function"==typeof Set.prototype.clear&&"function"==typeof Set.prototype.forEach||s("React depends on Map and Set built-in types. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),Ln=function(e,t,n){switch(t){case"input":return void gt(e,n);case"textarea":return void function(e,t){At(e,t)}(e,n);case"select":return void function(e,t){var n=e,r=t.value;null!=r&&Mt(n,!!t.multiple,r,!1)}(e,n)}},Fn=Gm,Un=function(e,t,n,r,i){var o=$p;$p|=4;try{return Mc(pc,e.bind(null,t,n,r,i))}finally{0===($p=o)&&(dm(),Rc())}},Bn=function(){0==(49&$p)?(function(){if(null!==Em){var e=Em;Em=null,e.forEach((function(e){!function(e){e.expiredLanes|=24&e.pendingLanes}(e),Bm(e,wc())}))}Rc()}(),fg()):0!=($p&Zp)&&s("unstable_flushDiscreteUpdates: Cannot flush updates when React is already rendering.")},jn=function(e,t){var n=$p;$p|=2;try{return e(t)}finally{0===($p=n)&&(dm(),Rc())}};var iy={Events:[vl,yl,bl,Dn,zn,fg,Ag]};if(!function(e){var t=e.findFiberByHostInstance,n=o.ReactCurrentDispatcher;return function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled)return!0;if(!t.supportsFiber)return s("The installed version of React DevTools is too old and will not work with the current version of React. Please update React DevTools. https://reactjs.org/link/react-devtools"),!0;try{Zl=t.inject(e),Ql=t}catch(e){s("React instrumentation encountered an error: %s.",e)}return!0}({bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:Pv,overrideHookStateDeletePath:Av,overrideHookStateRenamePath:Lv,overrideProps:Ov,overridePropsDeletePath:Iv,overridePropsRenamePath:Nv,setSuspenseHandler:zv,scheduleUpdate:Dv,currentDispatcherRef:n,findHostInstanceByFiber:Wv,findFiberByHostInstance:t||qv,findHostInstancesForRefresh:nv,scheduleRefresh:Kg,scheduleRoot:Jg,setRefreshHandler:qg,getCurrentFiber:Xv})}({findFiberByHostInstance:gl,bundleType:1,version:Pc,rendererPackageName:"react-dom"})&&C&&window.top===window.self&&(navigator.userAgent.indexOf("Chrome")>-1&&-1===navigator.userAgent.indexOf("Edge")||navigator.userAgent.indexOf("Firefox")>-1)){var oy=window.location.protocol;/^(https?|file):$/.test(oy)&&console.info("%cDownload the React DevTools for a better development experience: https://reactjs.org/link/react-devtools"+("file:"===oy?"\nYou might need to use a local HTTP server (instead of file://): https://reactjs.org/link/react-devtools-faq":""),"font-weight:bold")}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iy,t.createPortal=ry,t.findDOMNode=function(e){var t=$v.current;return null!==t&&null!==t.stateNode&&(t.stateNode._warnedAboutRefsInRender||s("%s is accessing findDOMNode inside its render(). render() should be a pure function of props and state. It should never access something that requires stale data from the previous render, such as refs. Move this logic to componentDidMount and componentDidUpdate instead.",He(t.type)||"A component"),t.stateNode._warnedAboutRefsInRender=!0),null==e?null:1===e.nodeType?e:function(e,t){var n=ar(e);if(void 0===n)throw"function"==typeof e.render?Error("Unable to find node on an unmounted component."):Error("Argument appears to not be a ReactComponent. Keys: "+Object.keys(e));var r=Tr(n);if(null===r)return null;if(1&r.mode){var i=He(n.type)||"Component";if(!lv[i]){lv[i]=!0;var o=Ge;try{Ze(r),1&n.mode?s("%s is deprecated in StrictMode. %s was passed an instance of %s which is inside StrictMode. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,i):s("%s is deprecated in StrictMode. %s was passed an instance of %s which renders StrictMode children. Instead, add a ref directly to the element you want to reference. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-find-node",t,t,i)}finally{o?Ze(o):Ye()}}}return r.stateNode}(e,"findDOMNode")},t.flushSync=qm,t.hydrate=function(e,t,n){if(!Zv(t))throw Error("Target container is not a DOM element.");return ml(t)&&void 0===t._reactRootContainer&&s("You are calling ReactDOM.hydrate() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call createRoot(container, {hydrate: true}).render(element)?"),ty(null,e,t,!0,n)},t.render=function(e,t,n){if(!Zv(t))throw Error("Target container is not a DOM element.");return ml(t)&&void 0===t._reactRootContainer&&s("You are calling ReactDOM.render() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call root.render(element)?"),ty(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zv(e))throw Error("unmountComponentAtNode(...): Target container is not a DOM element.");if(ml(e)&&void 0===e._reactRootContainer&&s("You are calling ReactDOM.unmountComponentAtNode() on a container that was previously passed to ReactDOM.createRoot(). This is not supported. Did you mean to call root.unmount()?"),e._reactRootContainer){var t=Jv(e);return t&&!vl(t)&&s("unmountComponentAtNode(): The node you're attempting to unmount was rendered by another copy of React."),Wm((function(){ty(null,null,e,!1,(function(){e._reactRootContainer=null,pl(e)}))})),!0}var n=Jv(e),r=!(!n||!vl(n)),i=1===e.nodeType&&Zv(e.parentNode)&&!!e.parentNode._reactRootContainer;return r&&s("unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. %s",i?"You may have accidentally passed in a React root node instead of its container.":"Instead, have the parent component update its state and rerender in order to remove this component."),!1},t.unstable_batchedUpdates=Gm,t.unstable_createPortal=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return ny||(ny=!0,a('The ReactDOM.unstable_createPortal() alias has been deprecated, and will be removed in React 18+. Update your code to use ReactDOM.createPortal() instead. It has the exact same API, but without the "unstable_" prefix.')),ry(e,t,n)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){return function(e,t,n,r){if(!Zv(n))throw Error("Target container is not a DOM element.");if(null==e||void 0===e._reactInternals)throw Error("parentComponent must be a valid React Component");return ty(e,t,n,!1,r)}(e,t,n,r)},t.version=Pc}()})),MT=s((function(e){"production"===process.env.NODE_ENV?(!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){if("production"!==process.env.NODE_ENV)throw new Error("^_^");try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=bT):e.exports=ET})),TT={},kT=void 0,RT=TT;function CT(e,t){var n,r=e.split("."),i=RT;!(r[0]in i)&&i.execScript&&i.execScript("var "+r[0]);for(;r.length&&(n=r.shift());)r.length||t===kT?i=i[n]?i[n]:i[n]={}:i[n]=t}var PT="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function AT(e){var t,n,r,i,o,a,s,l,c,u,h=e.length,d=0,f=Number.POSITIVE_INFINITY;for(l=0;l<h;++l)e[l]>d&&(d=e[l]),e[l]<f&&(f=e[l]);for(t=1<<d,n=new(PT?Uint32Array:Array)(t),r=1,i=0,o=2;r<=d;){for(l=0;l<h;++l)if(e[l]===r){for(a=0,s=i,c=0;c<r;++c)a=a<<1|1&s,s>>=1;for(u=r<<16|l,c=a;c<t;c+=o)n[c]=u;++i}++r,i<<=1,o<<=1}return[n,d,f]}function LT(e,t){switch(this.g=[],this.h=32768,this.d=this.f=this.a=this.l=0,this.input=PT?new Uint8Array(e):e,this.m=!1,this.i=IT,this.r=!1,!t&&(t={})||(t.index&&(this.a=t.index),t.bufferSize&&(this.h=t.bufferSize),t.bufferType&&(this.i=t.bufferType),t.resize&&(this.r=t.resize)),this.i){case OT:this.b=32768,this.c=new(PT?Uint8Array:Array)(32768+this.h+258);break;case IT:this.b=0,this.c=new(PT?Uint8Array:Array)(this.h),this.e=this.z,this.n=this.v,this.j=this.w;break;default:throw Error("invalid inflate mode")}}var OT=0,IT=1,NT={t:OT,s:IT};LT.prototype.k=function(){for(;!this.m;){var e=ek(this,3);switch(1&e&&(this.m=!0),e>>>=1){case 0:var t=this.input,n=this.a,r=this.c,i=this.b,o=t.length,a=kT,s=r.length,l=kT;if(this.d=this.f=0,n+1>=o)throw Error("invalid uncompressed block header: LEN");if(a=t[n++]|t[n++]<<8,n+1>=o)throw Error("invalid uncompressed block header: NLEN");if(a===~(t[n++]|t[n++]<<8))throw Error("invalid uncompressed block header: length verify");if(n+a>t.length)throw Error("input buffer is broken");switch(this.i){case OT:for(;i+a>r.length;){if(a-=l=s-i,PT)r.set(t.subarray(n,n+l),i),i+=l,n+=l;else for(;l--;)r[i++]=t[n++];this.b=i,r=this.e(),i=this.b}break;case IT:for(;i+a>r.length;)r=this.e({p:2});break;default:throw Error("invalid inflate mode")}if(PT)r.set(t.subarray(n,n+a),i),i+=a,n+=a;else for(;a--;)r[i++]=t[n++];this.a=n,this.b=i,this.c=r;break;case 1:this.j($T,JT);break;case 2:var c,u,h,d,f=ek(this,5)+257,p=ek(this,5)+1,m=ek(this,4)+4,g=new(PT?Uint8Array:Array)(UT.length),v=kT,y=kT,b=kT,x=kT,_=kT;for(_=0;_<m;++_)g[UT[_]]=ek(this,3);if(!PT)for(_=m,m=g.length;_<m;++_)g[UT[_]]=0;for(c=AT(g),v=new(PT?Uint8Array:Array)(f+p),_=0,d=f+p;_<d;)switch(y=tk(this,c),y){case 16:for(x=3+ek(this,2);x--;)v[_++]=b;break;case 17:for(x=3+ek(this,3);x--;)v[_++]=0;b=0;break;case 18:for(x=11+ek(this,7);x--;)v[_++]=0;b=0;break;default:b=v[_++]=y}u=AT(PT?v.subarray(0,f):v.slice(0,f)),h=AT(PT?v.subarray(f):v.slice(f)),this.j(u,h);break;default:throw Error("unknown BTYPE: "+e)}}return this.n()};var DT,zT,FT=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],UT=PT?new Uint16Array(FT):FT,BT=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],jT=PT?new Uint16Array(BT):BT,HT=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],VT=PT?new Uint8Array(HT):HT,GT=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],WT=PT?new Uint16Array(GT):GT,qT=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],XT=PT?new Uint8Array(qT):qT,YT=new(PT?Uint8Array:Array)(288);for(DT=0,zT=YT.length;DT<zT;++DT)YT[DT]=143>=DT?8:255>=DT?9:279>=DT?7:8;var ZT,QT,$T=AT(YT),KT=new(PT?Uint8Array:Array)(30);for(ZT=0,QT=KT.length;ZT<QT;++ZT)KT[ZT]=5;var JT=AT(KT);function ek(e,t){for(var n,r=e.f,i=e.d,o=e.input,a=e.a,s=o.length;i<t;){if(a>=s)throw Error("input buffer is broken");r|=o[a++]<<i,i+=8}return n=r&(1<<t)-1,e.f=r>>>t,e.d=i-t,e.a=a,n}function tk(e,t){for(var n,r,i=e.f,o=e.d,a=e.input,s=e.a,l=a.length,c=t[0],u=t[1];o<u&&!(s>=l);)i|=a[s++]<<o,o+=8;if((r=(n=c[i&(1<<u)-1])>>>16)>o)throw Error("invalid code length: "+r);return e.f=i>>r,e.d=o-r,e.a=s,65535&n}function nk(e,t){var n,r;switch(this.input=e,this.a=0,!t&&(t={})||(t.index&&(this.a=t.index),t.verify&&(this.A=t.verify)),n=e[this.a++],r=e[this.a++],15&n){case rk:this.method=rk;break;default:throw Error("unsupported compression method")}if(0!=((n<<8)+r)%31)throw Error("invalid fcheck flag:"+((n<<8)+r)%31);if(32&r)throw Error("fdict flag is not supported");this.q=new LT(e,{index:this.a,bufferSize:t.bufferSize,bufferType:t.bufferType,resize:t.resize})}LT.prototype.j=function(e,t){var n=this.c,r=this.b;this.o=e;for(var i,o,a,s,l=n.length-258;256!==(i=tk(this,e));)if(256>i)r>=l&&(this.b=r,n=this.e(),r=this.b),n[r++]=i;else for(s=jT[o=i-257],0<VT[o]&&(s+=ek(this,VT[o])),i=tk(this,t),a=WT[i],0<XT[i]&&(a+=ek(this,XT[i])),r>=l&&(this.b=r,n=this.e(),r=this.b);s--;)n[r]=n[r++-a];for(;8<=this.d;)this.d-=8,this.a--;this.b=r},LT.prototype.w=function(e,t){var n=this.c,r=this.b;this.o=e;for(var i,o,a,s,l=n.length;256!==(i=tk(this,e));)if(256>i)r>=l&&(l=(n=this.e()).length),n[r++]=i;else for(s=jT[o=i-257],0<VT[o]&&(s+=ek(this,VT[o])),i=tk(this,t),a=WT[i],0<XT[i]&&(a+=ek(this,XT[i])),r+s>l&&(l=(n=this.e()).length);s--;)n[r]=n[r++-a];for(;8<=this.d;)this.d-=8,this.a--;this.b=r},LT.prototype.e=function(){var e,t,n=new(PT?Uint8Array:Array)(this.b-32768),r=this.b-32768,i=this.c;if(PT)n.set(i.subarray(32768,n.length));else for(e=0,t=n.length;e<t;++e)n[e]=i[e+32768];if(this.g.push(n),this.l+=n.length,PT)i.set(i.subarray(r,r+32768));else for(e=0;32768>e;++e)i[e]=i[r+e];return this.b=32768,i},LT.prototype.z=function(e){var t,n,r,i=this.input.length/this.a+1|0,o=this.input,a=this.c;return e&&("number"==typeof e.p&&(i=e.p),"number"==typeof e.u&&(i+=e.u)),2>i?n=(r=(o.length-this.a)/this.o[2]/2*258|0)<a.length?a.length+r:a.length<<1:n=a.length*i,PT?(t=new Uint8Array(n)).set(a):t=a,this.c=t},LT.prototype.n=function(){var e,t,n,r,i,o=0,a=this.c,s=this.g,l=new(PT?Uint8Array:Array)(this.l+(this.b-32768));if(0===s.length)return PT?this.c.subarray(32768,this.b):this.c.slice(32768,this.b);for(t=0,n=s.length;t<n;++t)for(r=0,i=(e=s[t]).length;r<i;++r)l[o++]=e[r];for(t=32768,n=this.b;t<n;++t)l[o++]=a[t];return this.g=[],this.buffer=l},LT.prototype.v=function(){var e,t=this.b;return PT?this.r?(e=new Uint8Array(t)).set(this.c.subarray(0,t)):e=this.c.subarray(0,t):(this.c.length>t&&(this.c.length=t),e=this.c),this.buffer=e},nk.prototype.k=function(){var e,t,n=this.input;if(e=this.q.k(),this.a=this.q.a,this.A){t=(n[this.a++]<<24|n[this.a++]<<16|n[this.a++]<<8|n[this.a++])>>>0;var r=e;if("string"==typeof r){var i,o,a=r.split("");for(i=0,o=a.length;i<o;i++)a[i]=(255&a[i].charCodeAt(0))>>>0;r=a}for(var s,l=1,c=0,u=r.length,h=0;0<u;){u-=s=1024<u?1024:u;do{c+=l+=r[h++]}while(--s);l%=65521,c%=65521}if(t!==(c<<16|l)>>>0)throw Error("invalid adler-32 checksum")}return e};var rk=8;CT("Zlib.Inflate",nk),CT("Zlib.Inflate.prototype.decompress",nk.prototype.k);var ik,ok,ak,sk,lk={ADAPTIVE:NT.s,BLOCK:NT.t};if(Object.keys)ik=Object.keys(lk);else for(ok in ik=[],ak=0,lk)ik[ak++]=ok;for(ak=0,sk=ik.length;ak<sk;++ak)CT("Zlib.Inflate.BufferType."+(ok=ik[ak]),lk[ok]);var ck=TT.Zlib.Inflate,uk={findSpan:function(e,t,n){var r=n.length-e-1;if(t>=n[r])return r-1;if(t<=n[e])return e;for(var i=e,o=r,a=Math.floor((i+o)/2);t<n[a]||t>=n[a+1];)t<n[a]?o=a:i=a,a=Math.floor((i+o)/2);return a},calcBasisFunctions:function(e,t,n,r){var i=[],o=[],a=[];i[0]=1;for(var s=1;s<=n;++s){o[s]=t-r[e+1-s],a[s]=r[e+s]-t;for(var l=0,c=0;c<s;++c){var u=a[c+1],h=o[s-c],d=i[c]/(u+h);i[c]=l+u*d,l=h*d}i[s]=l}return i},calcBSplinePoint:function(e,t,n,r){for(var i=this.findSpan(e,r,t),o=this.calcBasisFunctions(i,r,e,t),a=new de(0,0,0,0),s=0;s<=e;++s){var l=n[i-e+s],c=o[s],u=l.w*c;a.x+=l.x*u,a.y+=l.y*u,a.z+=l.z*u,a.w+=l.w*c}return a},calcBasisFunctionDerivatives:function(e,t,n,r,i){for(var o=[],a=0;a<=n;++a)o[a]=0;var s=[];for(a=0;a<=r;++a)s[a]=o.slice(0);var l=[];for(a=0;a<=n;++a)l[a]=o.slice(0);l[0][0]=1;for(var c=o.slice(0),u=o.slice(0),h=1;h<=n;++h){c[h]=t-i[e+1-h],u[h]=i[e+h]-t;for(var d=0,f=0;f<h;++f){var p=u[f+1],m=c[h-f];l[h][f]=p+m;var g=l[f][h-1]/l[h][f];l[f][h]=d+p*g,d=m*g}l[h][h]=d}for(h=0;h<=n;++h)s[0][h]=l[h][n];for(f=0;f<=n;++f){var v=0,y=1,b=[];for(a=0;a<=n;++a)b[a]=o.slice(0);b[0][0]=1;for(var x=1;x<=r;++x){var _=0,w=f-x,S=n-x;f>=x&&(b[y][0]=b[v][0]/l[S+1][w],_=b[y][0]*l[w][S]);var E=f-1<=S?x-1:n-f;for(h=w>=-1?1:-w;h<=E;++h)b[y][h]=(b[v][h]-b[v][h-1])/l[S+1][w+h],_+=b[y][h]*l[w+h][S];f<=S&&(b[y][x]=-b[v][x-1]/l[S+1][f],_+=b[y][x]*l[f][S]),s[x][f]=_;h=v;v=y,y=h}}for(f=n,x=1;x<=r;++x){for(h=0;h<=n;++h)s[x][h]*=f;f*=n-x}return s},calcBSplineDerivatives:function(e,t,n,r,i){for(var o=i<e?i:e,a=[],s=this.findSpan(e,r,t),l=this.calcBasisFunctionDerivatives(s,r,e,o,t),c=[],u=0;u<n.length;++u){var h=(f=n[u].clone()).w;f.x*=h,f.y*=h,f.z*=h,c[u]=f}for(var d=0;d<=o;++d){for(var f=c[s-e].clone().multiplyScalar(l[d][0]),p=1;p<=e;++p)f.add(c[s-e+p].clone().multiplyScalar(l[d][p]));a[d]=f}for(d=o+1;d<=i+1;++d)a[d]=new de(0,0,0);return a},calcKoverI:function(e,t){for(var n=1,r=2;r<=e;++r)n*=r;var i=1;for(r=2;r<=t;++r)i*=r;for(r=2;r<=e-t;++r)i*=r;return n/i},calcRationalCurveDerivatives:function(e){for(var t=e.length,n=[],r=[],i=0;i<t;++i){var o=e[i];n[i]=new ge(o.x,o.y,o.z),r[i]=o.w}for(var a=[],s=0;s<t;++s){var l=n[s].clone();for(i=1;i<=s;++i)l.sub(a[s-i].clone().multiplyScalar(this.calcKoverI(s,i)*r[i]));a[s]=l.divideScalar(r[0])}return a},calcNURBSDerivatives:function(e,t,n,r,i){var o=this.calcBSplineDerivatives(e,t,n,r,i);return this.calcRationalCurveDerivatives(o)},calcSurfacePoint:function(e,t,n,r,i,o,a,s){for(var l=this.findSpan(e,o,n),c=this.findSpan(t,a,r),u=this.calcBasisFunctions(l,o,e,n),h=this.calcBasisFunctions(c,a,t,r),d=[],f=0;f<=t;++f){d[f]=new de(0,0,0,0);for(var p=0;p<=e;++p){var m=i[l-e+p][c-t+f].clone(),g=m.w;m.x*=g,m.y*=g,m.z*=g,d[f].add(m.multiplyScalar(u[p]))}}var v=new de(0,0,0,0);for(f=0;f<=t;++f)v.add(d[f].multiplyScalar(h[f]));v.divideScalar(v.w),s.set(v.x,v.y,v.z)}},hk=function(e,t,n,r,i){dl.call(this),this.degree=e,this.knots=t,this.controlPoints=[],this.startKnot=r||0,this.endKnot=i||this.knots.length-1;for(var o=0;o<n.length;++o){var a=n[o];this.controlPoints[o]=new de(a.x,a.y,a.z,a.w)}};(hk.prototype=Object.create(dl.prototype)).constructor=hk,hk.prototype.getPoint=function(e,t){var n=t||new ge,r=this.knots[this.startKnot]+e*(this.knots[this.endKnot]-this.knots[this.startKnot]),i=uk.calcBSplinePoint(this.degree,this.knots,this.controlPoints,r);return 1!=i.w&&i.divideScalar(i.w),n.set(i.x,i.y,i.z)},hk.prototype.getTangent=function(e,t){var n=t||new ge,r=this.knots[0]+e*(this.knots[this.knots.length-1]-this.knots[0]),i=uk.calcNURBSDerivatives(this.degree,this.knots,this.controlPoints,r,1);return n.copy(i[1]).normalize(),n},function(){var e,t,n;function r(e){rl.call(this,e)}function i(e,t){this.textureLoader=e,this.manager=t}function o(){}function a(){}function s(){}function l(){}function c(e,t){this.dv=new DataView(e),this.offset=0,this.littleEndian=void 0===t||t}function u(){}function h(e){var t=e.match(/FBXVersion: (\d+)/);if(t)return parseInt(t[1]);throw new Error("THREE.FBXLoader: Cannot find the version number for the file given.")}function d(e){return e/46186158e3}r.prototype=Object.assign(Object.create(rl.prototype),{constructor:r,load:function(e,t,n,r){var i=this,o=""===i.path?Ql.extractUrlBase(e):i.path,a=new ol(this.manager);a.setPath(i.path),a.setResponseType("arraybuffer"),a.setRequestHeader(i.requestHeader),a.setWithCredentials(i.withCredentials),a.load(e,(function(n){try{t(i.parse(n,o))}catch(t){r?r(t):console.error(t),i.manager.itemError(e)}}),n,r)},parse:function(t,n){if(a="Kaydara FBX Binary  \0",(o=t).byteLength>=a.length&&a===x(o,0,a.length))e=(new l).parse(t);else{var r=x(t);if(!function(e){var t=["K","a","y","d","a","r","a","\\","F","B","X","\\","B","i","n","a","r","y","\\","\\"],n=0;function r(t){var r=e[t-1];return e=e.slice(n+t),n++,r}for(var i=0;i<t.length;++i){if(r(1)===t[i])return!1}return!0}(r))throw new Error("THREE.FBXLoader: Unknown format.");if(h(r)<7e3)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+h(r));e=(new s).parse(r)}var o,a;return new i(new hl(this.manager).setPath(this.resourcePath||n).setCrossOrigin(this.crossOrigin),this.manager).parse(e)}}),i.prototype={constructor:i,parse:function(){t=this.parseConnections();var e=this.parseImages(),r=this.parseTextures(e),i=this.parseMaterials(r),a=this.parseDeformers(),s=(new o).parse(a);return this.parseScene(a,s,i),n},parseConnections:function(){var t=new Map;"Connections"in e&&e.Connections.connections.forEach((function(e){var n=e[0],r=e[1],i=e[2];t.has(n)||t.set(n,{parents:[],children:[]});var o={ID:r,relationship:i};t.get(n).parents.push(o),t.has(r)||t.set(r,{parents:[],children:[]});var a={ID:n,relationship:i};t.get(r).children.push(a)}));return t},parseImages:function(){var t={},n={};if("Video"in e.Objects){var r=e.Objects.Video;for(var i in r){var o=r[i];if(t[c=parseInt(i)]=o.RelativeFilename||o.Filename,"Content"in o){var a=o.Content instanceof ArrayBuffer&&o.Content.byteLength>0,s="string"==typeof o.Content&&""!==o.Content;if(a||s){var l=this.parseImage(r[i]);n[o.RelativeFilename||o.Filename]=l}}}}for(var c in t){var u=t[c];void 0!==n[u]?t[c]=n[u]:t[c]=t[c].split("\\").pop()}return t},parseImage:function(e){var t,n=e.Content,r=e.RelativeFilename||e.Filename,i=r.slice(r.lastIndexOf(".")+1).toLowerCase();switch(i){case"bmp":t="image/bmp";break;case"jpg":case"jpeg":t="image/jpeg";break;case"png":t="image/png";break;case"tif":t="image/tiff";break;case"tga":null===this.manager.getHandler(".tga")&&console.warn("FBXLoader: TGA loader not found, skipping ",r),t="image/tga";break;default:return void console.warn('FBXLoader: Image type "'+i+'" is not supported.')}if("string"==typeof n)return"data:"+t+";base64,"+n;var o=new Uint8Array(n);return window.URL.createObjectURL(new Blob([o],{type:t}))},parseTextures:function(t){var n=new Map;if("Texture"in e.Objects){var r=e.Objects.Texture;for(var i in r){var o=this.parseTexture(r[i],t);n.set(parseInt(i),o)}}return n},parseTexture:function(e,t){var n=this.loadTexture(e,t);n.ID=e.id,n.name=e.attrName;var r=e.WrapModeU,i=e.WrapModeV,o=void 0!==r?r.value:0,a=void 0!==i?i.value:0;if(n.wrapS=0===o?1e3:1001,n.wrapT=0===a?1e3:1001,"Scaling"in e){var s=e.Scaling.value;n.repeat.x=s[0],n.repeat.y=s[1]}return n},loadTexture:function(e,n){var r,i,o=this.textureLoader.path,a=t.get(e.id).children;void 0!==a&&a.length>0&&void 0!==n[a[0].ID]&&(0!==(r=n[a[0].ID]).indexOf("blob:")&&0!==r.indexOf("data:")||this.textureLoader.setPath(void 0));var s=e.FileName.slice(-3).toLowerCase();if("tga"===s){var l=this.manager.getHandler(".tga");null===l?(console.warn("FBXLoader: TGA loader not found, creating placeholder texture for",e.RelativeFilename),i=new he):i=l.load(r)}else"psd"===s?(console.warn("FBXLoader: PSD textures are not supported, creating placeholder texture for",e.RelativeFilename),i=new he):i=this.textureLoader.load(r);return this.textureLoader.setPath(o),i},parseMaterials:function(t){var n=new Map;if("Material"in e.Objects){var r=e.Objects.Material;for(var i in r){var o=this.parseMaterial(r[i],t);null!==o&&n.set(parseInt(i),o)}}return n},parseMaterial:function(e,n){var r=e.id,i=e.attrName,o=e.ShadingModel;if("object"==typeof o&&(o=o.value),!t.has(r))return null;var a,s=this.parseParameters(e,n,r);switch(o.toLowerCase()){case"phong":a=new Ls;break;case"lambert":a=new Ns;break;default:console.warn('THREE.FBXLoader: unknown material type "%s". Defaulting to MeshPhongMaterial.',o),a=new Ls}return a.setValues(s),a.name=i,a},parseParameters:function(e,n,r){var i={};e.BumpFactor&&(i.bumpScale=e.BumpFactor.value),e.Diffuse?i.color=(new zt).fromArray(e.Diffuse.value):e.DiffuseColor&&"Color"===e.DiffuseColor.type&&(i.color=(new zt).fromArray(e.DiffuseColor.value)),e.DisplacementFactor&&(i.displacementScale=e.DisplacementFactor.value),e.Emissive?i.emissive=(new zt).fromArray(e.Emissive.value):e.EmissiveColor&&"Color"===e.EmissiveColor.type&&(i.emissive=(new zt).fromArray(e.EmissiveColor.value)),e.EmissiveFactor&&(i.emissiveIntensity=parseFloat(e.EmissiveFactor.value)),e.Opacity&&(i.opacity=parseFloat(e.Opacity.value)),i.opacity<1&&(i.transparent=!0),e.ReflectionFactor&&(i.reflectivity=e.ReflectionFactor.value),e.Shininess&&(i.shininess=e.Shininess.value),e.Specular?i.specular=(new zt).fromArray(e.Specular.value):e.SpecularColor&&"Color"===e.SpecularColor.type&&(i.specular=(new zt).fromArray(e.SpecularColor.value));var o=this;return t.get(r).children.forEach((function(e){var t=e.relationship;switch(t){case"Bump":i.bumpMap=o.getTexture(n,e.ID);break;case"Maya|TEX_ao_map":i.aoMap=o.getTexture(n,e.ID);break;case"DiffuseColor":case"Maya|TEX_color_map":i.map=o.getTexture(n,e.ID),i.map.encoding=3001;break;case"DisplacementColor":i.displacementMap=o.getTexture(n,e.ID);break;case"EmissiveColor":i.emissiveMap=o.getTexture(n,e.ID),i.emissiveMap.encoding=3001;break;case"NormalMap":case"Maya|TEX_normal_map":i.normalMap=o.getTexture(n,e.ID);break;case"ReflectionColor":i.envMap=o.getTexture(n,e.ID),i.envMap.mapping=303,i.envMap.encoding=3001;break;case"SpecularColor":i.specularMap=o.getTexture(n,e.ID),i.specularMap.encoding=3001;break;case"TransparentColor":case"TransparencyFactor":i.alphaMap=o.getTexture(n,e.ID),i.transparent=!0;break;case"AmbientColor":case"ShininessExponent":case"SpecularFactor":case"VectorDisplacementColor":default:console.warn("THREE.FBXLoader: %s map is not supported in three.js, skipping texture.",t)}})),i},getTexture:function(n,r){return"LayeredTexture"in e.Objects&&r in e.Objects.LayeredTexture&&(console.warn("THREE.FBXLoader: layered textures are not supported in three.js. Discarding all but first layer."),r=t.get(r).children[0].ID),n.get(r)},parseDeformers:function(){var n={},r={};if("Deformer"in e.Objects){var i=e.Objects.Deformer;for(var o in i){var a=i[o],s=t.get(parseInt(o));if("Skin"===a.attrType){var l=this.parseSkeleton(s,i);l.ID=o,s.parents.length>1&&console.warn("THREE.FBXLoader: skeleton attached to more than one geometry is not supported."),l.geometryID=s.parents[0].ID,n[o]=l}else if("BlendShape"===a.attrType){var c={id:o};c.rawTargets=this.parseMorphTargets(s,i),c.id=o,s.parents.length>1&&console.warn("THREE.FBXLoader: morph target attached to more than one geometry is not supported."),r[o]=c}}}return{skeletons:n,morphTargets:r}},parseSkeleton:function(e,t){var n=[];return e.children.forEach((function(e){var r=t[e.ID];if("Cluster"===r.attrType){var i={ID:e.ID,indices:[],weights:[],transformLink:(new Ge).fromArray(r.TransformLink.a)};"Indexes"in r&&(i.indices=r.Indexes.a,i.weights=r.Weights.a),n.push(i)}})),{rawBones:n,bones:[]}},parseMorphTargets:function(e,n){for(var r=[],i=0;i<e.children.length;i++){var o=e.children[i],a=n[o.ID],s={name:a.attrName,initialWeight:a.DeformPercent,id:a.id,fullWeights:a.FullWeights.a};if("BlendShapeChannel"!==a.attrType)return;s.geoID=t.get(parseInt(o.ID)).children.filter((function(e){return void 0===e.relationship}))[0].ID,r.push(s)}return r},parseScene:function(r,i,o){n=new Xi;var s=this.parseModels(r.skeletons,i,o),l=e.Objects.Model,c=this;s.forEach((function(e){var r=l[e.ID];c.setLookAtProperties(e,r),t.get(e.ID).parents.forEach((function(t){var n=s.get(t.ID);void 0!==n&&n.add(e)})),null===e.parent&&n.add(e)})),this.bindSkeleton(r.skeletons,i,s),this.createAmbientLight(),this.setupMorphMaterials(),n.traverse((function(e){if(e.userData.transformData){e.parent&&(e.userData.transformData.parentMatrixWorld=e.parent.matrix);var t=v(e.userData.transformData);e.applyMatrix4(t)}}));var u=(new a).parse();1===n.children.length&&n.children[0].isGroup&&(n.children[0].animations=u,n=n.children[0]),n.animations=u},parseModels:function(n,r,i){var o=new Map,a=e.Objects.Model;for(var s in a){var l=parseInt(s),c=a[s],u=t.get(l),h=this.buildSkeleton(u,n,l,c.attrName);if(!h){switch(c.attrType){case"Camera":h=this.createCamera(u);break;case"Light":h=this.createLight(u);break;case"Mesh":h=this.createMesh(u,r,i);break;case"NurbsCurve":h=this.createCurve(u,r);break;case"LimbNode":case"Root":h=new Co;break;case"Null":default:h=new Xi}h.name=c.attrName?Fc.sanitizeNodeName(c.attrName):"",h.ID=l}this.getTransformData(h,c),o.set(l,h)}return o},buildSkeleton:function(e,t,n,r){var i=null;return e.parents.forEach((function(e){for(var o in t){var a=t[o];a.rawBones.forEach((function(t,o){if(t.ID===e.ID){var s=i;(i=new Co).matrixWorld.copy(t.transformLink),i.name=r?Fc.sanitizeNodeName(r):"",i.ID=n,a.bones[o]=i,null!==s&&i.add(s)}}))}})),i},createCamera:function(t){var n,r;if(t.children.forEach((function(t){var n=e.Objects.NodeAttribute[t.ID];void 0!==n&&(r=n)})),void 0===r)n=new mt;else{var i=0;void 0!==r.CameraProjectionType&&1===r.CameraProjectionType.value&&(i=1);var o=1;void 0!==r.NearPlane&&(o=r.NearPlane.value/1e3);var a=1e3;void 0!==r.FarPlane&&(a=r.FarPlane.value/1e3);var s=window.innerWidth,l=window.innerHeight;void 0!==r.AspectWidth&&void 0!==r.AspectHeight&&(s=r.AspectWidth.value,l=r.AspectHeight.value);var c=s/l,u=45;void 0!==r.FieldOfView&&(u=r.FieldOfView.value);var h=r.FocalLength?r.FocalLength.value:null;switch(i){case 0:n=new zn(u,c,o,a),null!==h&&n.setFocalLength(h);break;case 1:n=new Hl(-s/2,s/2,l/2,-l/2,o,a);break;default:console.warn("THREE.FBXLoader: Unknown camera type "+i+"."),n=new mt}}return n},createLight:function(t){var n,r;if(t.children.forEach((function(t){var n=e.Objects.NodeAttribute[t.ID];void 0!==n&&(r=n)})),void 0===r)n=new mt;else{var i;i=void 0===r.LightType?0:r.LightType.value;var o=16777215;void 0!==r.Color&&(o=(new zt).fromArray(r.Color.value));var a=void 0===r.Intensity?1:r.Intensity.value/100;void 0!==r.CastLightOnObject&&0===r.CastLightOnObject.value&&(a=0);var s=0;void 0!==r.FarAttenuationEnd&&(s=void 0!==r.EnableFarAttenuation&&0===r.EnableFarAttenuation.value?0:r.FarAttenuationEnd.value);switch(i){case 0:n=new jl(o,a,s,1);break;case 1:n=new Gl(o,a);break;case 2:var l=Math.PI/3;void 0!==r.InnerAngle&&(l=oe.degToRad(r.InnerAngle.value));var c=0;void 0!==r.OuterAngle&&(c=oe.degToRad(r.OuterAngle.value),c=Math.max(c,1)),n=new Ul(o,a,s,l,c,1);break;default:console.warn("THREE.FBXLoader: Unknown light type "+r.LightType.value+", defaulting to a PointLight."),n=new jl(o,a)}void 0!==r.CastShadows&&1===r.CastShadows.value&&(n.castShadow=!0)}return n},createMesh:function(e,t,n){var r,i=null,o=null,a=[];return e.children.forEach((function(e){t.has(e.ID)&&(i=t.get(e.ID)),n.has(e.ID)&&a.push(n.get(e.ID))})),a.length>1?o=a:a.length>0?o=a[0]:(o=new Ls({color:13421772}),a.push(o)),"color"in i.attributes&&a.forEach((function(e){e.vertexColors=!0})),i.FBX_Deformer?(a.forEach((function(e){e.skinning=!0})),(r=new Mo(i,o)).normalizeSkinWeights()):r=new Rn(i,o),r},createCurve:function(e,t){return new jo(e.children.reduce((function(e,n){return t.has(n.ID)&&(e=t.get(n.ID)),e}),null),new No({color:3342591,linewidth:1}))},getTransformData:function(e,t){var n={};"InheritType"in t&&(n.inheritType=parseInt(t.InheritType.value)),n.eulerOrder="RotationOrder"in t?y(t.RotationOrder.value):"ZYX","Lcl_Translation"in t&&(n.translation=t.Lcl_Translation.value),"PreRotation"in t&&(n.preRotation=t.PreRotation.value),"Lcl_Rotation"in t&&(n.rotation=t.Lcl_Rotation.value),"PostRotation"in t&&(n.postRotation=t.PostRotation.value),"Lcl_Scaling"in t&&(n.scale=t.Lcl_Scaling.value),"ScalingOffset"in t&&(n.scalingOffset=t.ScalingOffset.value),"ScalingPivot"in t&&(n.scalingPivot=t.ScalingPivot.value),"RotationOffset"in t&&(n.rotationOffset=t.RotationOffset.value),"RotationPivot"in t&&(n.rotationPivot=t.RotationPivot.value),e.userData.transformData=n},setLookAtProperties:function(r,i){"LookAtProperty"in i&&t.get(r.ID).children.forEach((function(t){if("LookAtProperty"===t.relationship){var i=e.Objects.Model[t.ID];if("Lcl_Translation"in i){var o=i.Lcl_Translation.value;void 0!==r.target?(r.target.position.fromArray(o),n.add(r.target)):r.lookAt((new ge).fromArray(o))}}}))},bindSkeleton:function(e,n,r){var i=this.parsePoseNodes();for(var o in e){var a=e[o];t.get(parseInt(a.ID)).parents.forEach((function(e){if(n.has(e.ID)){var o=e.ID;t.get(o).parents.forEach((function(e){r.has(e.ID)&&r.get(e.ID).bind(new Ro(a.bones),i[e.ID])}))}}))}},parsePoseNodes:function(){var t={};if("Pose"in e.Objects){var n=e.Objects.Pose;for(var r in n)if("BindPose"===n[r].attrType){var i=n[r].PoseNode;Array.isArray(i)?i.forEach((function(e){t[e.Node]=(new Ge).fromArray(e.Matrix.a)})):t[i.Node]=(new Ge).fromArray(i.Matrix.a)}}return t},createAmbientLight:function(){if("GlobalSettings"in e&&"AmbientColor"in e.GlobalSettings){var t=e.GlobalSettings.AmbientColor.value,r=t[0],i=t[1],o=t[2];if(0!==r||0!==i||0!==o){var a=new zt(r,i,o);n.add(new Wl(a,1))}}},setupMorphMaterials:function(){var e=this;n.traverse((function(t){t.isMesh&&t.geometry.morphAttributes.position&&t.geometry.morphAttributes.position.length&&(Array.isArray(t.material)?t.material.forEach((function(n,r){e.setupMorphMaterial(t,n,r)})):e.setupMorphMaterial(t,t.material))}))},setupMorphMaterial:function(e,t,r){var i=e.uuid,o=t.uuid,a=!1;if(n.traverse((function(e){e.isMesh&&(Array.isArray(e.material)?e.material.forEach((function(t){t.uuid===o&&e.uuid!==i&&(a=!0)})):e.material.uuid===o&&e.uuid!==i&&(a=!0))})),!0===a){var s=t.clone();s.morphTargets=!0,void 0===r?e.material=s:e.material[r]=s}else t.morphTargets=!0}},o.prototype={constructor:o,parse:function(n){var r=new Map;if("Geometry"in e.Objects){var i=e.Objects.Geometry;for(var o in i){var a=t.get(parseInt(o)),s=this.parseGeometry(a,i[o],n);r.set(parseInt(o),s)}}return r},parseGeometry:function(e,t,n){switch(t.attrType){case"Mesh":return this.parseMeshGeometry(e,t,n);case"NurbsCurve":return this.parseNurbsGeometry(t)}},parseMeshGeometry:function(t,n,r){var i=r.skeletons,o=[],a=t.parents.map((function(t){return e.Objects.Model[t.ID]}));if(0!==a.length){var s=t.children.reduce((function(e,t){return void 0!==i[t.ID]&&(e=i[t.ID]),e}),null);t.children.forEach((function(e){void 0!==r.morphTargets[e.ID]&&o.push(r.morphTargets[e.ID])}));var l=a[0],c={};"RotationOrder"in l&&(c.eulerOrder=y(l.RotationOrder.value)),"InheritType"in l&&(c.inheritType=parseInt(l.InheritType.value)),"GeometricTranslation"in l&&(c.translation=l.GeometricTranslation.value),"GeometricRotation"in l&&(c.rotation=l.GeometricRotation.value),"GeometricScaling"in l&&(c.scale=l.GeometricScaling.value);var u=v(c);return this.genGeometry(n,s,o,u)}},genGeometry:function(e,t,n,r){var i=new un;e.attrName&&(i.name=e.attrName);var o=this.parseGeoNode(e,t),a=this.genBuffers(o),s=new Kt(a.vertex,3);if(s.applyMatrix4(r),i.setAttribute("position",s),a.colors.length>0&&i.setAttribute("color",new Kt(a.colors,3)),t&&(i.setAttribute("skinIndex",new Zt(a.weightsIndices,4)),i.setAttribute("skinWeight",new Kt(a.vertexWeights,4)),i.FBX_Deformer=t),a.normal.length>0){var l=(new se).getNormalMatrix(r),c=new Kt(a.normal,3);c.applyNormalMatrix(l),i.setAttribute("normal",c)}if(a.uvs.forEach((function(e,t){var n="uv"+(t+1).toString();0===t&&(n="uv"),i.setAttribute(n,new Kt(a.uvs[t],2))})),o.material&&"AllSame"!==o.material.mappingType){var u=a.materialIndex[0],h=0;if(a.materialIndex.forEach((function(e,t){e!==u&&(i.addGroup(h,t-h,u),u=e,h=t)})),i.groups.length>0){var d=i.groups[i.groups.length-1],f=d.start+d.count;f!==a.materialIndex.length&&i.addGroup(f,a.materialIndex.length-f,u)}0===i.groups.length&&i.addGroup(0,a.materialIndex.length,a.materialIndex[0])}return this.addMorphTargets(i,e,n,r),i},parseGeoNode:function(e,t){var n={};if(n.vertexPositions=void 0!==e.Vertices?e.Vertices.a:[],n.vertexIndices=void 0!==e.PolygonVertexIndex?e.PolygonVertexIndex.a:[],e.LayerElementColor&&(n.color=this.parseVertexColors(e.LayerElementColor[0])),e.LayerElementMaterial&&(n.material=this.parseMaterialIndices(e.LayerElementMaterial[0])),e.LayerElementNormal&&(n.normal=this.parseNormals(e.LayerElementNormal[0])),e.LayerElementUV){n.uv=[];for(var r=0;e.LayerElementUV[r];)e.LayerElementUV[r].UV&&n.uv.push(this.parseUVs(e.LayerElementUV[r])),r++}return n.weightTable={},null!==t&&(n.skeleton=t,t.rawBones.forEach((function(e,t){e.indices.forEach((function(r,i){void 0===n.weightTable[r]&&(n.weightTable[r]=[]),n.weightTable[r].push({id:t,weight:e.weights[i]})}))}))),n},genBuffers:function(e){var t={vertex:[],normal:[],colors:[],uvs:[],materialIndex:[],vertexWeights:[],weightsIndices:[]},n=0,r=0,i=!1,o=[],a=[],s=[],l=[],c=[],u=[],h=this;return e.vertexIndices.forEach((function(d,f){var m=!1;d<0&&(d^=-1,m=!0);var g=[],v=[];if(o.push(3*d,3*d+1,3*d+2),e.color){var y=p(f,n,d,e.color);s.push(y[0],y[1],y[2])}if(e.skeleton){if(void 0!==e.weightTable[d]&&e.weightTable[d].forEach((function(e){v.push(e.weight),g.push(e.id)})),v.length>4){i||(console.warn("THREE.FBXLoader: Vertex has more than 4 skinning weights assigned to vertex. Deleting additional weights."),i=!0);var b=[0,0,0,0],x=[0,0,0,0];v.forEach((function(e,t){var n=e,r=g[t];x.forEach((function(e,t,i){if(n>e){i[t]=n,n=e;var o=b[t];b[t]=r,r=o}}))})),g=b,v=x}for(;v.length<4;)v.push(0),g.push(0);for(var _=0;_<4;++_)c.push(v[_]),u.push(g[_])}if(e.normal){y=p(f,n,d,e.normal);a.push(y[0],y[1],y[2])}if(e.material&&"AllSame"!==e.material.mappingType)var w=p(f,n,d,e.material)[0];e.uv&&e.uv.forEach((function(e,t){var r=p(f,n,d,e);void 0===l[t]&&(l[t]=[]),l[t].push(r[0]),l[t].push(r[1])})),r++,m&&(h.genFace(t,e,o,w,a,s,l,c,u,r),n++,r=0,o=[],a=[],s=[],l=[],c=[],u=[])})),t},genFace:function(e,t,n,r,i,o,a,s,l,c){for(var u=2;u<c;u++)e.vertex.push(t.vertexPositions[n[0]]),e.vertex.push(t.vertexPositions[n[1]]),e.vertex.push(t.vertexPositions[n[2]]),e.vertex.push(t.vertexPositions[n[3*(u-1)]]),e.vertex.push(t.vertexPositions[n[3*(u-1)+1]]),e.vertex.push(t.vertexPositions[n[3*(u-1)+2]]),e.vertex.push(t.vertexPositions[n[3*u]]),e.vertex.push(t.vertexPositions[n[3*u+1]]),e.vertex.push(t.vertexPositions[n[3*u+2]]),t.skeleton&&(e.vertexWeights.push(s[0]),e.vertexWeights.push(s[1]),e.vertexWeights.push(s[2]),e.vertexWeights.push(s[3]),e.vertexWeights.push(s[4*(u-1)]),e.vertexWeights.push(s[4*(u-1)+1]),e.vertexWeights.push(s[4*(u-1)+2]),e.vertexWeights.push(s[4*(u-1)+3]),e.vertexWeights.push(s[4*u]),e.vertexWeights.push(s[4*u+1]),e.vertexWeights.push(s[4*u+2]),e.vertexWeights.push(s[4*u+3]),e.weightsIndices.push(l[0]),e.weightsIndices.push(l[1]),e.weightsIndices.push(l[2]),e.weightsIndices.push(l[3]),e.weightsIndices.push(l[4*(u-1)]),e.weightsIndices.push(l[4*(u-1)+1]),e.weightsIndices.push(l[4*(u-1)+2]),e.weightsIndices.push(l[4*(u-1)+3]),e.weightsIndices.push(l[4*u]),e.weightsIndices.push(l[4*u+1]),e.weightsIndices.push(l[4*u+2]),e.weightsIndices.push(l[4*u+3])),t.color&&(e.colors.push(o[0]),e.colors.push(o[1]),e.colors.push(o[2]),e.colors.push(o[3*(u-1)]),e.colors.push(o[3*(u-1)+1]),e.colors.push(o[3*(u-1)+2]),e.colors.push(o[3*u]),e.colors.push(o[3*u+1]),e.colors.push(o[3*u+2])),t.material&&"AllSame"!==t.material.mappingType&&(e.materialIndex.push(r),e.materialIndex.push(r),e.materialIndex.push(r)),t.normal&&(e.normal.push(i[0]),e.normal.push(i[1]),e.normal.push(i[2]),e.normal.push(i[3*(u-1)]),e.normal.push(i[3*(u-1)+1]),e.normal.push(i[3*(u-1)+2]),e.normal.push(i[3*u]),e.normal.push(i[3*u+1]),e.normal.push(i[3*u+2])),t.uv&&t.uv.forEach((function(t,n){void 0===e.uvs[n]&&(e.uvs[n]=[]),e.uvs[n].push(a[n][0]),e.uvs[n].push(a[n][1]),e.uvs[n].push(a[n][2*(u-1)]),e.uvs[n].push(a[n][2*(u-1)+1]),e.uvs[n].push(a[n][2*u]),e.uvs[n].push(a[n][2*u+1])}))},addMorphTargets:function(t,n,r,i){if(0!==r.length){t.morphTargetsRelative=!0,t.morphAttributes.position=[];var o=this;r.forEach((function(r){r.rawTargets.forEach((function(r){var a=e.Objects.Geometry[r.geoID];void 0!==a&&o.genMorphGeometry(t,n,a,i,r.name)}))}))}},genMorphGeometry:function(e,t,n,r,i){for(var o=void 0!==t.PolygonVertexIndex?t.PolygonVertexIndex.a:[],a=void 0!==n.Vertices?n.Vertices.a:[],s=void 0!==n.Indexes?n.Indexes.a:[],l=3*e.attributes.position.count,c=new Float32Array(l),u=0;u<s.length;u++){var h=3*s[u];c[h]=a[3*u],c[h+1]=a[3*u+1],c[h+2]=a[3*u+2]}var d={vertexIndices:o,vertexPositions:c},f=new Kt(this.genBuffers(d).vertex,3);f.name=i||n.attrName,f.applyMatrix4(r),e.morphAttributes.position.push(f)},parseNormals:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Normals.a,i=[];return"IndexToDirect"===n&&("NormalIndex"in e?i=e.NormalIndex.a:"NormalsIndex"in e&&(i=e.NormalsIndex.a)),{dataSize:3,buffer:r,indices:i,mappingType:t,referenceType:n}},parseUVs:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.UV.a,i=[];return"IndexToDirect"===n&&(i=e.UVIndex.a),{dataSize:2,buffer:r,indices:i,mappingType:t,referenceType:n}},parseVertexColors:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType,r=e.Colors.a,i=[];return"IndexToDirect"===n&&(i=e.ColorIndex.a),{dataSize:4,buffer:r,indices:i,mappingType:t,referenceType:n}},parseMaterialIndices:function(e){var t=e.MappingInformationType,n=e.ReferenceInformationType;if("NoMappingInformation"===t)return{dataSize:1,buffer:[0],indices:[0],mappingType:"AllSame",referenceType:n};for(var r=e.Materials.a,i=[],o=0;o<r.length;++o)i.push(o);return{dataSize:1,buffer:r,indices:i,mappingType:t,referenceType:n}},parseNurbsGeometry:function(e){if(void 0===hk)return console.error("THREE.FBXLoader: The loader relies on NURBSCurve for any nurbs present in the model. Nurbs will show up as empty geometry."),new un;var t=parseInt(e.Order);if(isNaN(t))return console.error("THREE.FBXLoader: Invalid Order %s given for geometry ID: %s",e.Order,e.id),new un;for(var n,r,i=t-1,o=e.KnotVector.a,a=[],s=e.Points.a,l=0,c=s.length;l<c;l+=4)a.push((new de).fromArray(s,l));if("Closed"===e.Form)a.push(a[0]);else if("Periodic"===e.Form){n=i,r=o.length-1-n;for(l=0;l<i;++l)a.push(a[l])}var u=new hk(i,o,a,n,r).getPoints(7*a.length),h=new Float32Array(3*u.length);u.forEach((function(e,t){e.toArray(h,3*t)}));var d=new un;return d.setAttribute("position",new Gt(h,3)),d}},a.prototype={constructor:a,parse:function(){var e=[],t=this.parseClips();if(void 0!==t)for(var n in t){var r=t[n],i=this.addClip(r);e.push(i)}return e},parseClips:function(){if(void 0!==e.Objects.AnimationCurve){var t=this.parseAnimationCurveNodes();this.parseAnimationCurves(t);var n=this.parseAnimationLayers(t);return this.parseAnimStacks(n)}},parseAnimationCurveNodes:function(){var t=e.Objects.AnimationCurveNode,n=new Map;for(var r in t){var i=t[r];if(null!==i.attrName.match(/S|R|T|DeformPercent/)){var o={id:i.id,attr:i.attrName,curves:{}};n.set(o.id,o)}}return n},parseAnimationCurves:function(n){var r=e.Objects.AnimationCurve;for(var i in r){var o={id:r[i].id,times:r[i].KeyTime.a.map(d),values:r[i].KeyValueFloat.a},a=t.get(o.id);if(void 0!==a){var s=a.parents[0].ID,l=a.parents[0].relationship;l.match(/X/)?n.get(s).curves.x=o:l.match(/Y/)?n.get(s).curves.y=o:l.match(/Z/)?n.get(s).curves.z=o:l.match(/d|DeformPercent/)&&n.has(s)&&(n.get(s).curves.morph=o)}}},parseAnimationLayers:function(r){var i=e.Objects.AnimationLayer,o=new Map;for(var a in i){var s=[],l=t.get(parseInt(a));if(void 0!==l)l.children.forEach((function(i,o){if(r.has(i.ID)){var a=r.get(i.ID);if(void 0!==a.curves.x||void 0!==a.curves.y||void 0!==a.curves.z){if(void 0===s[o])if(void 0!==(f=t.get(i.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID)){if(void 0===(c=e.Objects.Model[f.toString()]))return void console.warn("THREE.FBXLoader: Encountered a unused curve.",i);var l={modelName:c.attrName?Fc.sanitizeNodeName(c.attrName):"",ID:c.id,initialPosition:[0,0,0],initialRotation:[0,0,0],initialScale:[1,1,1]};n.traverse((function(e){e.ID===c.id&&(l.transform=e.matrix,e.userData.transformData&&(l.eulerOrder=e.userData.transformData.eulerOrder))})),l.transform||(l.transform=new Ge),"PreRotation"in c&&(l.preRotation=c.PreRotation.value),"PostRotation"in c&&(l.postRotation=c.PostRotation.value),s[o]=l}s[o]&&(s[o][a.attr]=a)}else if(void 0!==a.curves.morph){if(void 0===s[o]){var c,u=t.get(i.ID).parents.filter((function(e){return void 0!==e.relationship}))[0].ID,h=t.get(u).parents[0].ID,d=t.get(h).parents[0].ID,f=t.get(d).parents[0].ID;l={modelName:(c=e.Objects.Model[f]).attrName?Fc.sanitizeNodeName(c.attrName):"",morphName:e.Objects.Deformer[u].attrName};s[o]=l}s[o][a.attr]=a}}})),o.set(parseInt(a),s)}return o},parseAnimStacks:function(n){var r=e.Objects.AnimationStack,i={};for(var o in r){var a=t.get(parseInt(o)).children;a.length>1&&console.warn("THREE.FBXLoader: Encountered an animation stack with multiple layers, this is currently not supported. Ignoring subsequent layers.");var s=n.get(a[0].ID);i[o]={name:r[o].attrName,layer:s}}return i},addClip:function(e){var t=[],n=this;return e.layer.forEach((function(e){t=t.concat(n.generateTracks(e))})),new Ks(e.name,-1,t)},generateTracks:function(e){var t=[],n=new ge,r=new me,i=new ge;if(e.transform&&e.transform.decompose(n,r,i),n=n.toArray(),r=(new Ke).setFromQuaternion(r,e.eulerOrder).toArray(),i=i.toArray(),void 0!==e.T&&Object.keys(e.T.curves).length>0){var o=this.generateVectorTrack(e.modelName,e.T.curves,n,"position");void 0!==o&&t.push(o)}if(void 0!==e.R&&Object.keys(e.R.curves).length>0){var a=this.generateRotationTrack(e.modelName,e.R.curves,r,e.preRotation,e.postRotation,e.eulerOrder);void 0!==a&&t.push(a)}if(void 0!==e.S&&Object.keys(e.S.curves).length>0){var s=this.generateVectorTrack(e.modelName,e.S.curves,i,"scale");void 0!==s&&t.push(s)}if(void 0!==e.DeformPercent){var l=this.generateMorphTrack(e);void 0!==l&&t.push(l)}return t},generateVectorTrack:function(e,t,n,r){var i=this.getTimesForAllAxes(t);return new $s(e+"."+r,i,this.getKeyframeTrackValues(i,t,n))},generateRotationTrack:function(e,t,n,r,i,o){void 0!==t.x&&(this.interpolateRotations(t.x),t.x.values=t.x.values.map(oe.degToRad)),void 0!==t.y&&(this.interpolateRotations(t.y),t.y.values=t.y.values.map(oe.degToRad)),void 0!==t.z&&(this.interpolateRotations(t.z),t.z.values=t.z.values.map(oe.degToRad));var a=this.getTimesForAllAxes(t),s=this.getKeyframeTrackValues(a,t,n);void 0!==r&&((r=r.map(oe.degToRad)).push(o),r=(new Ke).fromArray(r),r=(new me).setFromEuler(r)),void 0!==i&&((i=i.map(oe.degToRad)).push(o),i=(new Ke).fromArray(i),i=(new me).setFromEuler(i).inverse());for(var l=new me,c=new Ke,u=[],h=0;h<s.length;h+=3)c.set(s[h],s[h+1],s[h+2],o),l.setFromEuler(c),void 0!==r&&l.premultiply(r),void 0!==i&&l.multiply(i),l.toArray(u,h/3*4);return new Zs(e+".quaternion",a,u)},generateMorphTrack:function(e){var t=e.DeformPercent.curves.morph,r=t.values.map((function(e){return e/100})),i=n.getObjectByName(e.modelName).morphTargetDictionary[e.morphName];return new Xs(e.modelName+".morphTargetInfluences["+i+"]",t.times,r)},getTimesForAllAxes:function(e){var t=[];return void 0!==e.x&&(t=t.concat(e.x.times)),void 0!==e.y&&(t=t.concat(e.y.times)),void 0!==e.z&&(t=t.concat(e.z.times)),t=t.sort((function(e,t){return e-t})).filter((function(e,t,n){return n.indexOf(e)==t}))},getKeyframeTrackValues:function(e,t,n){var r=n,i=[],o=-1,a=-1,s=-1;return e.forEach((function(e){if(t.x&&(o=t.x.times.indexOf(e)),t.y&&(a=t.y.times.indexOf(e)),t.z&&(s=t.z.times.indexOf(e)),-1!==o){var n=t.x.values[o];i.push(n),r[0]=n}else i.push(r[0]);if(-1!==a){var l=t.y.values[a];i.push(l),r[1]=l}else i.push(r[1]);if(-1!==s){var c=t.z.values[s];i.push(c),r[2]=c}else i.push(r[2])})),i},interpolateRotations:function(e){for(var t=1;t<e.values.length;t++){var n=e.values[t-1],r=e.values[t]-n,i=Math.abs(r);if(i>=180){for(var o=i/180,a=r/o,s=n+a,l=e.times[t-1],c=(e.times[t]-l)/o,u=l+c,h=[],d=[];u<e.times[t];)h.push(u),u+=c,d.push(s),s+=a;e.times=_(e.times,t,h),e.values=_(e.values,t,d)}}}},s.prototype={constructor:s,getPrevNode:function(){return this.nodeStack[this.currentIndent-2]},getCurrentNode:function(){return this.nodeStack[this.currentIndent-1]},getCurrentProp:function(){return this.currentProp},pushStack:function(e){this.nodeStack.push(e),this.currentIndent+=1},popStack:function(){this.nodeStack.pop(),this.currentIndent-=1},setCurrentProp:function(e,t){this.currentProp=e,this.currentPropName=t},parse:function(e){this.currentIndent=0,this.allNodes=new u,this.nodeStack=[],this.currentProp=[],this.currentPropName="";var t=this,n=e.split(/[\r\n]+/);return n.forEach((function(e,r){var i=e.match(/^[\s\t]*;/),o=e.match(/^[\s\t]*$/);if(!i&&!o){var a=e.match("^\\t{"+t.currentIndent+"}(\\w+):(.*){",""),s=e.match("^\\t{"+t.currentIndent+"}(\\w+):[\\s\\t\\r\\n](.*)"),l=e.match("^\\t{"+(t.currentIndent-1)+"}}");a?t.parseNodeBegin(e,a):s?t.parseNodeProperty(e,s,n[++r]):l?t.popStack():e.match(/^[^\s\t}]/)&&t.parseNodePropertyContinued(e)}})),this.allNodes},parseNodeBegin:function(e,t){var n=t[1].trim().replace(/^"/,"").replace(/"$/,""),r=t[2].split(",").map((function(e){return e.trim().replace(/^"/,"").replace(/"$/,"")})),i={name:n},o=this.parseNodeAttr(r),a=this.getCurrentNode();0===this.currentIndent?this.allNodes.add(n,i):n in a?("PoseNode"===n?a.PoseNode.push(i):void 0!==a[n].id&&(a[n]={},a[n][a[n].id]=a[n]),""!==o.id&&(a[n][o.id]=i)):"number"==typeof o.id?(a[n]={},a[n][o.id]=i):"Properties70"!==n&&(a[n]="PoseNode"===n?[i]:i),"number"==typeof o.id&&(i.id=o.id),""!==o.name&&(i.attrName=o.name),""!==o.type&&(i.attrType=o.type),this.pushStack(i)},parseNodeAttr:function(e){var t=e[0];""!==e[0]&&(t=parseInt(e[0]),isNaN(t)&&(t=e[0]));var n="",r="";return e.length>1&&(n=e[1].replace(/^(\w+)::/,""),r=e[2]),{id:t,name:n,type:r}},parseNodeProperty:function(e,t,n){var r=t[1].replace(/^"/,"").replace(/"$/,"").trim(),i=t[2].replace(/^"/,"").replace(/"$/,"").trim();"Content"===r&&","===i&&(i=n.replace(/"/g,"").replace(/,$/,"").trim());var o=this.getCurrentNode();if("Properties70"!==o.name){if("C"===r){var a=i.split(",").slice(1),s=parseInt(a[0]),l=parseInt(a[1]),c=i.split(",").slice(3);r="connections",function(e,t){for(var n=0,r=e.length,i=t.length;n<i;n++,r++)e[r]=t[n]}(i=[s,l],c=c.map((function(e){return e.trim().replace(/^"/,"")}))),void 0===o[r]&&(o[r]=[])}"Node"===r&&(o.id=i),r in o&&Array.isArray(o[r])?o[r].push(i):"a"!==r?o[r]=i:o.a=i,this.setCurrentProp(o,r),"a"===r&&","!==i.slice(-1)&&(o.a=b(i))}else this.parseNodeSpecialProperty(e,r,i)},parseNodePropertyContinued:function(e){var t=this.getCurrentNode();t.a+=e,","!==e.slice(-1)&&(t.a=b(t.a))},parseNodeSpecialProperty:function(e,t,n){var r=n.split('",').map((function(e){return e.trim().replace(/^\"/,"").replace(/\s/,"_")})),i=r[0],o=r[1],a=r[2],s=r[3],l=r[4];switch(o){case"int":case"enum":case"bool":case"ULongLong":case"double":case"Number":case"FieldOfView":l=parseFloat(l);break;case"Color":case"ColorRGB":case"Vector3D":case"Lcl_Translation":case"Lcl_Rotation":case"Lcl_Scaling":l=b(l)}this.getPrevNode()[i]={type:o,type2:a,flag:s,value:l},this.setCurrentProp(this.getPrevNode(),i)}},l.prototype={constructor:l,parse:function(e){var t=new c(e);t.skip(23);var n=t.getUint32();if(n<6400)throw new Error("THREE.FBXLoader: FBX version not supported, FileVersion: "+n);for(var r=new u;!this.endOfContent(t);){var i=this.parseNode(t,n);null!==i&&r.add(i.name,i)}return r},endOfContent:function(e){return e.size()%16==0?(e.getOffset()+160+16&-16)>=e.size():e.getOffset()+160+16>=e.size()},parseNode:function(e,t){var n={},r=t>=7500?e.getUint64():e.getUint32(),i=t>=7500?e.getUint64():e.getUint32();t>=7500?e.getUint64():e.getUint32();var o=e.getUint8(),a=e.getString(o);if(0===r)return null;for(var s=[],l=0;l<i;l++)s.push(this.parseProperty(e));var c=s.length>0?s[0]:"",u=s.length>1?s[1]:"",h=s.length>2?s[2]:"";for(n.singleProperty=1===i&&e.getOffset()===r;r>e.getOffset();){var d=this.parseNode(e,t);null!==d&&this.parseSubNode(a,n,d)}return n.propertyList=s,"number"==typeof c&&(n.id=c),""!==u&&(n.attrName=u),""!==h&&(n.attrType=h),""!==a&&(n.name=a),n},parseSubNode:function(e,t,n){if(!0===n.singleProperty){var r=n.propertyList[0];Array.isArray(r)?(t[n.name]=n,n.a=r):t[n.name]=r}else if("Connections"===e&&"C"===n.name){var i=[];n.propertyList.forEach((function(e,t){0!==t&&i.push(e)})),void 0===t.connections&&(t.connections=[]),t.connections.push(i)}else if("Properties70"===n.name){Object.keys(n).forEach((function(e){t[e]=n[e]}))}else if("Properties70"===e&&"P"===n.name){var o,a=n.propertyList[0],s=n.propertyList[1],l=n.propertyList[2],c=n.propertyList[3];0===a.indexOf("Lcl ")&&(a=a.replace("Lcl ","Lcl_")),0===s.indexOf("Lcl ")&&(s=s.replace("Lcl ","Lcl_")),o="Color"===s||"ColorRGB"===s||"Vector"===s||"Vector3D"===s||0===s.indexOf("Lcl_")?[n.propertyList[4],n.propertyList[5],n.propertyList[6]]:n.propertyList[4],t[a]={type:s,type2:l,flag:c,value:o}}else void 0===t[n.name]?"number"==typeof n.id?(t[n.name]={},t[n.name][n.id]=n):t[n.name]=n:"PoseNode"===n.name?(Array.isArray(t[n.name])||(t[n.name]=[t[n.name]]),t[n.name].push(n)):void 0===t[n.name][n.id]&&(t[n.name][n.id]=n)},parseProperty:function(e){var t=e.getString(1);switch(t){case"C":return e.getBoolean();case"D":return e.getFloat64();case"F":return e.getFloat32();case"I":return e.getInt32();case"L":return e.getInt64();case"R":var n=e.getUint32();return e.getArrayBuffer(n);case"S":n=e.getUint32();return e.getString(n);case"Y":return e.getInt16();case"b":case"c":case"d":case"f":case"i":case"l":var r=e.getUint32(),i=e.getUint32(),o=e.getUint32();if(0===i)switch(t){case"b":case"c":return e.getBooleanArray(r);case"d":return e.getFloat64Array(r);case"f":return e.getFloat32Array(r);case"i":return e.getInt32Array(r);case"l":return e.getInt64Array(r)}void 0===ck&&console.error("THREE.FBXLoader: External library Inflate.min.js required, obtain or import from https://github.com/imaya/zlib.js");var a=new c(new ck(new Uint8Array(e.getArrayBuffer(o))).decompress().buffer);switch(t){case"b":case"c":return a.getBooleanArray(r);case"d":return a.getFloat64Array(r);case"f":return a.getFloat32Array(r);case"i":return a.getInt32Array(r);case"l":return a.getInt64Array(r)}default:throw new Error("THREE.FBXLoader: Unknown property type "+t)}}},c.prototype={constructor:c,getOffset:function(){return this.offset},size:function(){return this.dv.buffer.byteLength},skip:function(e){this.offset+=e},getBoolean:function(){return 1==(1&this.getUint8())},getBooleanArray:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getBoolean());return t},getUint8:function(){var e=this.dv.getUint8(this.offset);return this.offset+=1,e},getInt16:function(){var e=this.dv.getInt16(this.offset,this.littleEndian);return this.offset+=2,e},getInt32:function(){var e=this.dv.getInt32(this.offset,this.littleEndian);return this.offset+=4,e},getInt32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt32());return t},getUint32:function(){var e=this.dv.getUint32(this.offset,this.littleEndian);return this.offset+=4,e},getInt64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),2147483648&t?(t=4294967295&~t,4294967295===(e=4294967295&~e)&&(t=t+1&4294967295),-(4294967296*t+(e=e+1&4294967295))):4294967296*t+e},getInt64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getInt64());return t},getUint64:function(){var e,t;return this.littleEndian?(e=this.getUint32(),t=this.getUint32()):(t=this.getUint32(),e=this.getUint32()),4294967296*t+e},getFloat32:function(){var e=this.dv.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e},getFloat32Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat32());return t},getFloat64:function(){var e=this.dv.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e},getFloat64Array:function(e){for(var t=[],n=0;n<e;n++)t.push(this.getFloat64());return t},getArrayBuffer:function(e){var t=this.dv.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t},getString:function(e){for(var t=[],n=0;n<e;n++)t[n]=this.getUint8();var r=t.indexOf(0);return r>=0&&(t=t.slice(0,r)),Ql.decodeText(new Uint8Array(t))}},u.prototype={constructor:u,add:function(e,t){this[e]=t}};var f=[];function p(e,t,n,r){var i;switch(r.mappingType){case"ByPolygonVertex":i=e;break;case"ByPolygon":i=t;break;case"ByVertice":i=n;break;case"AllSame":i=r.indices[0];break;default:console.warn("THREE.FBXLoader: unknown attribute mapping type "+r.mappingType)}"IndexToDirect"===r.referenceType&&(i=r.indices[i]);var o=i*r.dataSize,a=o+r.dataSize;return function(e,t,n,r){for(var i=n,o=0;i<r;i++,o++)e[o]=t[i];return e}(f,r.buffer,o,a)}var m=new Ke,g=new ge;function v(e){var t,n=new Ge,r=new Ge,i=new Ge,o=new Ge,a=new Ge,s=new Ge,l=new Ge,c=new Ge,u=new Ge,h=new Ge,d=new Ge,f=e.inheritType?e.inheritType:0;(e.translation&&n.setPosition(g.fromArray(e.translation)),e.preRotation)&&((t=e.preRotation.map(oe.degToRad)).push(e.eulerOrder),r.makeRotationFromEuler(m.fromArray(t)));e.rotation&&((t=e.rotation.map(oe.degToRad)).push(e.eulerOrder),i.makeRotationFromEuler(m.fromArray(t)));e.postRotation&&((t=e.postRotation.map(oe.degToRad)).push(e.eulerOrder),o.makeRotationFromEuler(m.fromArray(t)));e.scale&&a.scale(g.fromArray(e.scale)),e.scalingOffset&&l.setPosition(g.fromArray(e.scalingOffset)),e.scalingPivot&&s.setPosition(g.fromArray(e.scalingPivot)),e.rotationOffset&&c.setPosition(g.fromArray(e.rotationOffset)),e.rotationPivot&&u.setPosition(g.fromArray(e.rotationPivot)),e.parentMatrixWorld&&(h=e.parentMatrixWorld);var p=r.multiply(i).multiply(o),v=new Ge;h.extractRotation(v),(new Ge).copyPosition(h);var y=new Ge;y.getInverse(v).multiply(h);var b=new Ge;if(0===f)b.copy(v).multiply(p).multiply(y).multiply(a);else if(1===f)b.copy(v).multiply(y).multiply(p).multiply(a);else{var x=(new Ge).getInverse(a),_=(new Ge).multiply(y).multiply(x);b.copy(v).multiply(p).multiply(_).multiply(a)}var w=(new Ge).getInverse(u),S=(new Ge).getInverse(s),E=new Ge;E.copy(n).multiply(c).multiply(u).multiply(r).multiply(i).multiply(o).multiply(w).multiply(l).multiply(s).multiply(a).multiply(S);var M=(new Ge).copyPosition(E),T=(new Ge).copy(h).multiply(M);return d.copyPosition(T),E=(new Ge).multiply(d).multiply(b)}function y(e){var t=["ZYX","YZX","XZY","ZXY","YXZ","XYZ"];return 6===(e=e||0)?(console.warn("THREE.FBXLoader: unsupported Euler Order: Spherical XYZ. Animations and rotations may be incorrect."),t[0]):t[e]}function b(e){return e.split(",").map((function(e){return parseFloat(e)}))}function x(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=e.byteLength),Ql.decodeText(new Uint8Array(e,t,n))}function _(e,t,n){return e.slice(0,t).concat(n).concat(e.slice(t))}}(),function(){function e(e){rl.call(this,e),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.pluginCallbacks=[],this.register((function(e){return new a(e)})),this.register((function(e){return new l(e)})),this.register((function(e){return new s(e)})),this.register((function(e){return new i(e)}))}function t(){var e={};return{get:function(t){return e[t]},add:function(t,n){e[t]=n},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(rl.prototype),{constructor:e,load:function(e,t,n,r){var i,o=this;i=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Ql.extractUrlBase(e),this.manager.itemStart(e);var a=function(t){r?r(t):console.error(t),o.manager.itemError(e),o.manager.itemEnd(e)},s=new ol(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(n){try{o.parse(n,i,(function(n){t(n),o.manager.itemEnd(e)}),a)}catch(e){a(e)}}),n,a)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(e){return this.ddsLoader=e,this},setKTX2Loader:function(e){return this.ktx2Loader=e,this},register:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this},unregister:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this},parse:function(e,t,i,a){var s,l={},u={};if("string"==typeof e)s=e;else if(Ql.decodeText(new Uint8Array(e,0,4))===c){try{l[n.KHR_BINARY_GLTF]=new d(e)}catch(e){return void(a&&a(e))}s=l[n.KHR_BINARY_GLTF].content}else s=Ql.decodeText(new Uint8Array(e));var h=JSON.parse(s);if(void 0===h.asset||h.asset.version[0]<2)a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var m=new H(h,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader});m.fileLoader.setRequestHeader(this.requestHeader);for(var y=0;y<this.pluginCallbacks.length;y++){var b=this.pluginCallbacks[y](m);u[b.name]=b,l[b.name]=!0}if(h.extensionsUsed)for(y=0;y<h.extensionsUsed.length;++y){var x=h.extensionsUsed[y],_=h.extensionsRequired||[];switch(x){case n.KHR_MATERIALS_UNLIT:l[x]=new o;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:l[x]=new g;break;case n.KHR_DRACO_MESH_COMPRESSION:l[x]=new f(h,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:l[x]=new r(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:l[x]=new p;break;case n.KHR_MESH_QUANTIZATION:l[x]=new v;break;default:_.indexOf(x)>=0&&void 0===u[x]&&console.warn('THREE.GLTFLoader: Unknown extension "'+x+'".')}}m.setExtensions(l),m.setPlugins(u),m.parse(i,a)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function r(e){if(!e)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=e}function i(e){this.parser=e,this.name=n.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}function o(){this.name=n.KHR_MATERIALS_UNLIT}function a(e){this.parser=e,this.name=n.KHR_MATERIALS_CLEARCOAT}function s(e){this.parser=e,this.name=n.KHR_MATERIALS_TRANSMISSION}function l(e){this.parser=e,this.name=n.KHR_TEXTURE_BASISU}i.prototype._markDefs=function(){for(var e=this.parser,t=this.parser.json.nodes||[],n=0,r=t.length;n<r;n++){var i=t[n];i.extensions&&i.extensions[this.name]&&void 0!==i.extensions[this.name].light&&e._addNodeRef(this.cache,i.extensions[this.name].light)}},i.prototype._loadLight=function(e){var t=this.parser,n="light:"+e,r=t.cache.get(n);if(r)return r;var i,o=t.json,a=((o.extensions&&o.extensions[this.name]||{}).lights||[])[e],s=new zt(16777215);void 0!==a.color&&s.fromArray(a.color);var l=void 0!==a.range?a.range:0;switch(a.type){case"directional":(i=new Gl(s)).target.position.set(0,0,-1),i.add(i.target);break;case"point":(i=new jl(s)).distance=l;break;case"spot":(i=new Ul(s)).distance=l,a.spot=a.spot||{},a.spot.innerConeAngle=void 0!==a.spot.innerConeAngle?a.spot.innerConeAngle:0,a.spot.outerConeAngle=void 0!==a.spot.outerConeAngle?a.spot.outerConeAngle:Math.PI/4,i.angle=a.spot.outerConeAngle,i.penumbra=1-a.spot.innerConeAngle/a.spot.outerConeAngle,i.target.position.set(0,0,-1),i.add(i.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+a.type+'".')}return i.position.set(0,0,0),i.decay=2,void 0!==a.intensity&&(i.intensity=a.intensity),i.name=t.createUniqueName(a.name||"light_"+e),r=Promise.resolve(i),t.cache.add(n,r),r},i.prototype.createNodeAttachment=function(e){var t=this,n=this.parser,r=n.json.nodes[e],i=(r.extensions&&r.extensions[this.name]||{}).light;return void 0===i?null:this._loadLight(i).then((function(e){return n._getNodeRef(t.cache,i,e)}))},o.prototype.getMaterialType=function(){return jt},o.prototype.extendParams=function(e,t,n){var r=[];e.color=new zt(1,1,1),e.opacity=1;var i=t.pbrMetallicRoughness;if(i){if(Array.isArray(i.baseColorFactor)){var o=i.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}void 0!==i.baseColorTexture&&r.push(n.assignTexture(e,"map",i.baseColorTexture))}return Promise.all(r)},a.prototype.getMaterialType=function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?As:null},a.prototype.extendMaterialParams=function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],o=r.extensions[this.name];if(void 0!==o.clearcoatFactor&&(t.clearcoat=o.clearcoatFactor),void 0!==o.clearcoatTexture&&i.push(n.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),void 0!==o.clearcoatRoughnessFactor&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),void 0!==o.clearcoatRoughnessTexture&&i.push(n.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),void 0!==o.clearcoatNormalTexture&&(i.push(n.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),void 0!==o.clearcoatNormalTexture.scale)){var a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new ae(a,a)}return Promise.all(i)},s.prototype.getMaterialType=function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?As:null},s.prototype.extendMaterialParams=function(e,t){var n=this.parser,r=n.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();var i=[],o=r.extensions[this.name];return void 0!==o.transmissionFactor&&(t.transmission=o.transmissionFactor),void 0!==o.transmissionTexture&&i.push(n.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(i)},l.prototype.loadTexture=function(e){var t=this.parser,n=t.json,r=n.textures[e];if(!r.extensions||!r.extensions[this.name])return null;var i=r.extensions[this.name],o=n.images[i.source],a=t.options.ktx2Loader;if(!a)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return t.loadTextureImage(e,o,a)};var c="glTF",u=1313821514,h=5130562;function d(e){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,12);if(this.header={magic:Ql.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==c)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var r=new DataView(e,12),i=0;i<r.byteLength;){var o=r.getUint32(i,!0);i+=4;var a=r.getUint32(i,!0);if(i+=4,a===u){var s=new Uint8Array(e,12+i,o);this.content=Ql.decodeText(s)}else if(a===h){var l=12+i;this.body=e.slice(l,l+o)}i+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function f(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function p(){this.name=n.KHR_TEXTURE_TRANSFORM}function m(e){Ps.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),n=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),r=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),i=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),o=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),a={specular:{value:(new zt).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=a,this.onBeforeCompile=function(e){for(var s in a)e.uniforms[s]=a[s];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",n).replace("#include <roughnessmap_fragment>",r).replace("#include <metalnessmap_fragment>",i).replace("#include <lights_physical_fragment>",o)},Object.defineProperties(this,{specular:{get:function(){return a.specular.value},set:function(e){a.specular.value=e}},specularMap:{get:function(){return a.specularMap.value},set:function(e){a.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return a.glossiness.value},set:function(e){a.glossiness.value=e}},glossinessMap:{get:function(){return a.glossinessMap.value},set:function(e){a.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function g(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return m},extendParams:function(e,t,n){var r=t.extensions[this.name];e.color=new zt(1,1,1),e.opacity=1;var i=[];if(Array.isArray(r.diffuseFactor)){var o=r.diffuseFactor;e.color.fromArray(o),e.opacity=o[3]}if(void 0!==r.diffuseTexture&&i.push(n.assignTexture(e,"map",r.diffuseTexture)),e.emissive=new zt(0,0,0),e.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,e.specular=new zt(1,1,1),Array.isArray(r.specularFactor)&&e.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var a=r.specularGlossinessTexture;i.push(n.assignTexture(e,"glossinessMap",a)),i.push(n.assignTexture(e,"specularMap",a))}return Promise.all(i)},createMaterial:function(e){var t=new m(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=0,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function v(){this.name=n.KHR_MESH_QUANTIZATION}function y(e,t,n,r){Bs.call(this,e,t,n,r)}f.prototype.decodePrimitive=function(e,t){var n=this.json,r=this.dracoLoader,i=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},s={},l={};for(var c in o){var u=P[c]||c.toLowerCase();a[u]=o[c]}for(c in e.attributes){u=P[c]||c.toLowerCase();if(void 0!==o[c]){var h=n.accessors[e.attributes[c]],d=T[h.componentType];l[u]=d,s[u]=!0===h.normalized}}return t.getDependency("bufferView",i).then((function(e){return new Promise((function(t){r.decodeDracoFile(e,(function(e){for(var n in e.attributes){var r=e.attributes[n],i=s[n];void 0!==i&&(r.normalized=i)}t(e)}),a,l)}))}))},p.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},m.prototype=Object.create(Ps.prototype),m.prototype.constructor=m,m.prototype.copy=function(e){return Ps.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},y.prototype=Object.create(Bs.prototype),y.prototype.constructor=y,y.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r*3+r,o=0;o!==r;o++)t[o]=n[i+o];return t},y.prototype.beforeStart_=y.prototype.copySampleValue_,y.prototype.afterEnd_=y.prototype.copySampleValue_,y.prototype.interpolate_=function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,l=3*a,c=r-t,u=(n-t)/c,h=u*u,d=h*u,f=e*l,p=f-l,m=-2*d+3*h,g=d-h,v=1-m,y=g-h+u,b=0;b!==a;b++){var x=o[p+b+a],_=o[p+b+s]*c,w=o[f+b+a],S=o[f+b]*c;i[b]=v*x+y*_+m*w+g*S}return i};var b=0,x=1,_=2,w=3,S=4,E=5,M=6,T={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},k={9728:1003,9729:1006,9984:1004,9985:1007,9986:1005,9987:1008},R={33071:1001,33648:1002,10497:1e3},C={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},P={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},A={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},L={CUBICSPLINE:void 0,LINEAR:2301,STEP:2300},O="OPAQUE",I="MASK",N="BLEND";function D(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function z(e){return void 0===e.DefaultMaterial&&(e.DefaultMaterial=new Ps({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),e.DefaultMaterial}function F(e,t,n){for(var r in n.extensions)void 0===e[r]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[r]=n.extensions[r])}function U(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function B(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var n=0,r=t.weights.length;n<r;n++)e.morphTargetInfluences[n]=t.weights[n];if(t.extras&&Array.isArray(t.extras.targetNames)){var i=t.extras.targetNames;if(e.morphTargetInfluences.length===i.length){e.morphTargetDictionary={};for(n=0,r=i.length;n<r;n++)e.morphTargetDictionary[i[n]]=n}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function j(e){for(var t="",n=Object.keys(e).sort(),r=0,i=n.length;r<i;r++)t+=n[r]+":"+e[n[r]]+";";return t}function H(e,n){this.json=e||{},this.extensions={},this.plugins={},this.options=n||{},this.cache=new t,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new ic(this.options.manager):this.textureLoader=new hl(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new ol(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function V(e,t,n){var r=t.attributes,i=[];function o(t,r){return n.getDependency("accessor",t).then((function(t){e.setAttribute(r,t)}))}for(var a in r){var s=P[a]||a.toLowerCase();s in e.attributes||i.push(o(r[a],s))}if(void 0!==t.indices&&!e.index){var l=n.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));i.push(l)}return U(e,t),function(e,t,n){var r=t.attributes,i=new be;if(void 0!==r.POSITION){var o=(d=n.json.accessors[r.POSITION]).min,a=d.max;if(void 0!==o&&void 0!==a){i.set(new ge(o[0],o[1],o[2]),new ge(a[0],a[1],a[2]));var s=t.targets;if(void 0!==s){for(var l=new ge,c=new ge,u=0,h=s.length;u<h;u++){var d,f=s[u];if(void 0!==f.POSITION)o=(d=n.json.accessors[f.POSITION]).min,a=d.max,void 0!==o&&void 0!==a?(c.setX(Math.max(Math.abs(o[0]),Math.abs(a[0]))),c.setY(Math.max(Math.abs(o[1]),Math.abs(a[1]))),c.setZ(Math.max(Math.abs(o[2]),Math.abs(a[2]))),l.max(c)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}i.expandByVector(l)}e.boundingBox=i;var p=new Ne;i.getCenter(p.center),p.radius=i.min.distanceTo(i.max)/2,e.boundingSphere=p}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,n),Promise.all(i).then((function(){return void 0!==t.targets?function(e,t,n){for(var r=!1,i=!1,o=0,a=t.length;o<a&&(void 0!==(c=t[o]).POSITION&&(r=!0),void 0!==c.NORMAL&&(i=!0),!r||!i);o++);if(!r&&!i)return Promise.resolve(e);var s=[],l=[];for(o=0,a=t.length;o<a;o++){var c=t[o];if(r){var u=void 0!==c.POSITION?n.getDependency("accessor",c.POSITION):e.attributes.position;s.push(u)}i&&(u=void 0!==c.NORMAL?n.getDependency("accessor",c.NORMAL):e.attributes.normal,l.push(u))}return Promise.all([Promise.all(s),Promise.all(l)]).then((function(t){var n=t[0],o=t[1];return r&&(e.morphAttributes.position=n),i&&(e.morphAttributes.normal=o),e.morphTargetsRelative=!0,e}))}(e,t.targets,n):e}))}function G(e,t){var n=e.getIndex();if(null===n){var r=[],i=e.getAttribute("position");if(void 0===i)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var o=0;o<i.count;o++)r.push(o);e.setIndex(r),n=e.getIndex()}var a=n.count-2,s=[];if(2===t)for(o=1;o<=a;o++)s.push(n.getX(0)),s.push(n.getX(o)),s.push(n.getX(o+1));else for(o=0;o<a;o++)o%2==0?(s.push(n.getX(o)),s.push(n.getX(o+1)),s.push(n.getX(o+2))):(s.push(n.getX(o+2)),s.push(n.getX(o+1)),s.push(n.getX(o)));s.length/3!==a&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var l=e.clone();return l.setIndex(s),l}H.prototype.setExtensions=function(e){this.extensions=e},H.prototype.setPlugins=function(e){this.plugins=e},H.prototype.parse=function(e,t){var n=this,r=this.json,i=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(t){var o={scene:t[0][r.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:r.asset,parser:n,userData:{}};F(i,o,r),U(o,r),e(o)})).catch(t)},H.prototype._markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],n=this.json.meshes||[],r=0,i=t.length;r<i;r++)for(var o=t[r].joints,a=0,s=o.length;a<s;a++)e[o[a]].isBone=!0;for(var l=0,c=e.length;l<c;l++){var u=e[l];void 0!==u.mesh&&(this._addNodeRef(this.meshCache,u.mesh),void 0!==u.skin&&(n[u.mesh].isSkinnedMesh=!0)),void 0!==u.camera&&this._addNodeRef(this.cameraCache,u.camera)}},H.prototype._addNodeRef=function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)},H.prototype._getNodeRef=function(e,t,n){if(e.refs[t]<=1)return n;var r=n.clone();return r.name+="_instance_"+e.uses[t]++,r},H.prototype._invokeOne=function(e){var t=Object.values(this.plugins);t.push(this);for(var n=0;n<t.length;n++){var r=e(t[n]);if(r)return r}},H.prototype._invokeAll=function(e){var t=Object.values(this.plugins);t.unshift(this);for(var n=[],r=0;r<t.length;r++){var i=e(t[r]);i&&n.push(i)}return n},H.prototype.getDependency=function(e,t){var n=e+":"+t,r=this.cache.get(n);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this.loadNode(t);break;case"mesh":r=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":r=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":r=this.loadSkin(t);break;case"animation":r=this.loadAnimation(t);break;case"camera":r=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(n,r)}return r},H.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var n=this,r=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(r.map((function(t,r){return n.getDependency(e,r)}))),this.cache.add(e,t)}return t},H.prototype.loadBuffer=function(e){var t=this.json.buffers[e],r=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var i=this.options;return new Promise((function(e,n){r.load(D(t.uri,i.path),e,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},H.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var n=t.byteLength||0,r=t.byteOffset||0;return e.slice(r,r+n)}))},H.prototype.loadAccessor=function(e){var t=this,n=this.json,r=this.json.accessors[e];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var i=[];return void 0!==r.bufferView?i.push(this.getDependency("bufferView",r.bufferView)):i.push(null),void 0!==r.sparse&&(i.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),i.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(i).then((function(e){var i,o=e[0],a=C[r.type],s=T[r.componentType],l=s.BYTES_PER_ELEMENT,c=l*a,u=r.byteOffset||0,h=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,d=!0===r.normalized;if(h&&h!==c){var f=Math.floor(u/h),p="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+f+":"+r.count,m=t.cache.get(p);m||(m=new no(new s(o,f*h,r.count*h/l),h/l),t.cache.add(p,m)),i=new io(m,a,u%h/l,d)}else i=new Gt(null===o?new s(r.count*a):new s(o,u,r.count*a),a,d);if(void 0!==r.sparse){var g=C.SCALAR,v=T[r.sparse.indices.componentType],y=r.sparse.indices.byteOffset||0,b=r.sparse.values.byteOffset||0,x=new v(e[1],y,r.sparse.count*g),_=new s(e[2],b,r.sparse.count*a);null!==o&&(i=new Gt(i.array.slice(),i.itemSize,i.normalized));for(var w=0,S=x.length;w<S;w++){var E=x[w];if(i.setX(E,_[w*a]),a>=2&&i.setY(E,_[w*a+1]),a>=3&&i.setZ(E,_[w*a+2]),a>=4&&i.setW(E,_[w*a+3]),a>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return i}))},H.prototype.loadTexture=function(e){var t,r,i=this.json,o=this.options,a=i.textures[e],s=a.extensions||{};return(t=s[n.MSFT_TEXTURE_DDS]?i.images[s[n.MSFT_TEXTURE_DDS].source]:i.images[a.source]).uri&&(r=o.manager.getHandler(t.uri)),r||(r=s[n.MSFT_TEXTURE_DDS]?this.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(e,t,r)},H.prototype.loadTextureImage=function(e,t,n){var r=this,i=this.json,o=this.options,a=i.textures[e],s=self.URL||self.webkitURL,l=t.uri,c=!1,u=!0;return"image/jpeg"===t.mimeType&&(u=!1),void 0!==t.bufferView&&(l=r.getDependency("bufferView",t.bufferView).then((function(e){if("image/png"===t.mimeType){var n=new DataView(e,25,1).getUint8(0,!1);u=6===n||4===n||3===n}c=!0;var r=new Blob([e],{type:t.mimeType});return l=s.createObjectURL(r)}))),Promise.resolve(l).then((function(e){return new Promise((function(t,r){var i=t;!0===n.isImageBitmapLoader&&(i=function(e){t(new ta(e))}),n.load(D(e,o.path),i,void 0,r)}))})).then((function(t){!0===c&&s.revokeObjectURL(l),t.flipY=!1,a.name&&(t.name=a.name),u||(t.format=1022);var n=(i.samplers||{})[a.sampler]||{};return t.magFilter=k[n.magFilter]||1006,t.minFilter=k[n.minFilter]||1008,t.wrapS=R[n.wrapS]||1e3,t.wrapT=R[n.wrapT]||1e3,r.associations.set(t,{type:"textures",index:e}),t}))},H.prototype.assignTexture=function(e,t,r){var i=this;return this.getDependency("texture",r.index).then((function(o){if(void 0===r.texCoord||0==r.texCoord||"aoMap"===t&&1==r.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+r.texCoord+" for texture "+t+" not yet supported."),i.extensions[n.KHR_TEXTURE_TRANSFORM]){var a=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;if(a){var s=i.associations.get(o);o=i.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),i.associations.set(o,s)}}e[t]=o}))},H.prototype.assignFinalMaterial=function(e){var t=e.geometry,n=e.material,r=void 0!==t.attributes.tangent,i=void 0!==t.attributes.color,o=void 0===t.attributes.normal,a=!0===e.isSkinnedMesh,s=Object.keys(t.morphAttributes).length>0,l=s&&void 0!==t.morphAttributes.normal;if(e.isPoints){var c="PointsMaterial:"+n.uuid,u=this.cache.get(c);u||(u=new qo,Bt.prototype.copy.call(u,n),u.color.copy(n.color),u.map=n.map,u.sizeAttenuation=!1,this.cache.add(c,u)),n=u}else if(e.isLine){c="LineBasicMaterial:"+n.uuid;var h=this.cache.get(c);h||(h=new No,Bt.prototype.copy.call(h,n),h.color.copy(n.color),this.cache.add(c,h)),n=h}if(r||i||o||a||s){c="ClonedMaterial:"+n.uuid+":";n.isGLTFSpecularGlossinessMaterial&&(c+="specular-glossiness:"),a&&(c+="skinning:"),r&&(c+="vertex-tangents:"),i&&(c+="vertex-colors:"),o&&(c+="flat-shading:"),s&&(c+="morph-targets:"),l&&(c+="morph-normals:");var d=this.cache.get(c);d||(d=n.clone(),a&&(d.skinning=!0),r&&(d.vertexTangents=!0),i&&(d.vertexColors=!0),o&&(d.flatShading=!0),s&&(d.morphTargets=!0),l&&(d.morphNormals=!0),this.cache.add(c,d),this.associations.set(d,this.associations.get(n))),n=d}n.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),n.normalScale&&!r&&(n.normalScale.y=-n.normalScale.y),n.clearcoatNormalScale&&!r&&(n.clearcoatNormalScale.y=-n.clearcoatNormalScale.y),e.material=n},H.prototype.getMaterialType=function(){return Ps},H.prototype.loadMaterial=function(e){var t,r=this,i=this.json,o=this.extensions,a=i.materials[e],s={},l=a.extensions||{},c=[];if(l[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=u.getMaterialType(),c.push(u.extendParams(s,a,r))}else if(l[n.KHR_MATERIALS_UNLIT]){var h=o[n.KHR_MATERIALS_UNLIT];t=h.getMaterialType(),c.push(h.extendParams(s,a,r))}else{var d=a.pbrMetallicRoughness||{};if(s.color=new zt(1,1,1),s.opacity=1,Array.isArray(d.baseColorFactor)){var f=d.baseColorFactor;s.color.fromArray(f),s.opacity=f[3]}void 0!==d.baseColorTexture&&c.push(r.assignTexture(s,"map",d.baseColorTexture)),s.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,s.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(c.push(r.assignTexture(s,"metalnessMap",d.metallicRoughnessTexture)),c.push(r.assignTexture(s,"roughnessMap",d.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),c.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,s)}))))}!0===a.doubleSided&&(s.side=2);var p=a.alphaMode||O;return p===N?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,p===I&&(s.alphaTest=void 0!==a.alphaCutoff?a.alphaCutoff:.5)),void 0!==a.normalTexture&&t!==jt&&(c.push(r.assignTexture(s,"normalMap",a.normalTexture)),s.normalScale=new ae(1,1),void 0!==a.normalTexture.scale&&s.normalScale.set(a.normalTexture.scale,a.normalTexture.scale)),void 0!==a.occlusionTexture&&t!==jt&&(c.push(r.assignTexture(s,"aoMap",a.occlusionTexture)),void 0!==a.occlusionTexture.strength&&(s.aoMapIntensity=a.occlusionTexture.strength)),void 0!==a.emissiveFactor&&t!==jt&&(s.emissive=(new zt).fromArray(a.emissiveFactor)),void 0!==a.emissiveTexture&&t!==jt&&c.push(r.assignTexture(s,"emissiveMap",a.emissiveTexture)),Promise.all(c).then((function(){var i;return i=t===m?o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s),a.name&&(i.name=a.name),i.map&&(i.map.encoding=3001),i.emissiveMap&&(i.emissiveMap.encoding=3001),U(i,a),r.associations.set(i,{type:"materials",index:e}),a.extensions&&F(o,i,a),i}))},H.prototype.createUniqueName=function(e){for(var t=Fc.sanitizeNodeName(e||""),n=1;this.nodeNamesUsed[t];++n)t=e+"_"+n;return this.nodeNamesUsed[t]=!0,t},H.prototype.loadGeometries=function(e){var t=this,r=this.extensions,i=this.primitiveCache;function o(e){return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(n){return V(n,e,t)}))}for(var a,s,l=[],c=0,u=e.length;c<u;c++){var h,d=e[c],f=(s=void 0,(s=(a=d).extensions&&a.extensions[n.KHR_DRACO_MESH_COMPRESSION])?"draco:"+s.bufferView+":"+s.indices+":"+j(s.attributes):a.indices+":"+j(a.attributes)+":"+a.mode),p=i[f];if(p)l.push(p.promise);else h=d.extensions&&d.extensions[n.KHR_DRACO_MESH_COMPRESSION]?o(d):V(new un,d,t),i[f]={primitive:d,promise:h},l.push(h)}return Promise.all(l)},H.prototype.loadMesh=function(e){for(var t=this,n=this.json.meshes[e],r=n.primitives,i=[],o=0,a=r.length;o<a;o++){var s=void 0===r[o].material?z(this.cache):this.getDependency("material",r[o].material);i.push(s)}return i.push(t.loadGeometries(r)),Promise.all(i).then((function(i){for(var o=i.slice(0,i.length-1),a=i[i.length-1],s=[],l=0,c=a.length;l<c;l++){var u,h=a[l],d=r[l],f=o[l];if(d.mode===S||d.mode===E||d.mode===M||void 0===d.mode)!0!==(u=!0===n.isSkinnedMesh?new Mo(h,f):new Rn(h,f)).isSkinnedMesh||u.geometry.attributes.skinWeight.normalized||u.normalizeSkinWeights(),d.mode===E?u.geometry=G(u.geometry,1):d.mode===M&&(u.geometry=G(u.geometry,2));else if(d.mode===x)u=new Go(h,f);else if(d.mode===w)u=new jo(h,f);else if(d.mode===_)u=new Wo(h,f);else{if(d.mode!==b)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+d.mode);u=new $o(h,f)}Object.keys(u.geometry.morphAttributes).length>0&&B(u,n),u.name=t.createUniqueName(n.name||"mesh_"+e),a.length>1&&(u.name+="_"+l),U(u,n),t.assignFinalMaterial(u),s.push(u)}if(1===s.length)return s[0];var p=new Xi;for(l=0,c=s.length;l<c;l++)p.add(s[l]);return p}))},H.prototype.loadCamera=function(e){var t,n=this.json.cameras[e],r=n[n.type];if(r)return"perspective"===n.type?t=new zn(oe.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(t=new Hl(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),n.name&&(t.name=this.createUniqueName(n.name)),U(t,n),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},H.prototype.loadSkin=function(e){var t=this.json.skins[e],n={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return n.inverseBindMatrices=e,n}))},H.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],n=[],r=[],i=[],o=[],a=[],s=0,l=t.channels.length;s<l;s++){var c=t.channels[s],u=t.samplers[c.sampler],h=c.target,d=void 0!==h.node?h.node:h.id,f=void 0!==t.parameters?t.parameters[u.input]:u.input,p=void 0!==t.parameters?t.parameters[u.output]:u.output;n.push(this.getDependency("node",d)),r.push(this.getDependency("accessor",f)),i.push(this.getDependency("accessor",p)),o.push(u),a.push(h)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(i),Promise.all(o),Promise.all(a)]).then((function(n){for(var r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],l=[],c=0,u=r.length;c<u;c++){var h=r[c],d=i[c],f=o[c],p=a[c],m=s[c];if(void 0!==h){var g;switch(h.updateMatrix(),h.matrixAutoUpdate=!0,A[m.path]){case A.weights:g=Xs;break;case A.rotation:g=Zs;break;case A.position:case A.scale:default:g=$s}var v=h.name?h.name:h.uuid,b=void 0!==p.interpolation?L[p.interpolation]:2301,x=[];A[m.path]===A.weights?h.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&x.push(e.name?e.name:e.uuid)})):x.push(v);var _=f.array;if(f.normalized){var w;if(_.constructor===Int8Array)w=1/127;else if(_.constructor===Uint8Array)w=1/255;else if(_.constructor==Int16Array)w=1/32767;else{if(_.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");w=1/65535}for(var S=new Float32Array(_.length),E=0,M=_.length;E<M;E++)S[E]=_[E]*w;_=S}for(E=0,M=x.length;E<M;E++){var T=new g(x[E]+"."+A[m.path],d.array,_,b);"CUBICSPLINE"===p.interpolation&&(T.createInterpolant=function(e){return new y(this.times,this.values,this.getValueSize()/3,e)},T.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(T)}}}return new Ks(t.name?t.name:"animation_"+e,void 0,l)}))},H.prototype.loadNode=function(e){var t,n=this.json,r=this.extensions,i=this,o=n.nodes[e],a=o.name?i.createUniqueName(o.name):"";return(t=[],void 0!==o.mesh&&t.push(i.getDependency("mesh",o.mesh).then((function(e){var t=i._getNodeRef(i.meshCache,o.mesh,e);return void 0!==o.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,n=o.weights.length;t<n;t++)e.morphTargetInfluences[t]=o.weights[t]})),t}))),void 0!==o.camera&&t.push(i.getDependency("camera",o.camera).then((function(e){return i._getNodeRef(i.cameraCache,o.camera,e)}))),i._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)).then((function(t){var n;if((n=!0===o.isBone?new Co:t.length>1?new Xi:1===t.length?t[0]:new mt)!==t[0])for(var s=0,l=t.length;s<l;s++)n.add(t[s]);if(o.name&&(n.userData.name=o.name,n.name=a),U(n,o),o.extensions&&F(r,n,o),void 0!==o.matrix){var c=new Ge;c.fromArray(o.matrix),n.applyMatrix4(c)}else void 0!==o.translation&&n.position.fromArray(o.translation),void 0!==o.rotation&&n.quaternion.fromArray(o.rotation),void 0!==o.scale&&n.scale.fromArray(o.scale);return i.associations.set(n,{type:"nodes",index:e}),n}))},H.prototype.loadScene=function(){function e(t,n,r,i){var o=r.nodes[t];return i.getDependency("node",t).then((function(e){return void 0===o.skin?e:i.getDependency("skin",o.skin).then((function(e){for(var n=[],r=0,o=(t=e).joints.length;r<o;r++)n.push(i.getDependency("node",t.joints[r]));return Promise.all(n)})).then((function(n){return e.traverse((function(e){if(e.isMesh){for(var r=[],i=[],o=0,a=n.length;o<a;o++){var s=n[o];if(s){r.push(s);var l=new Ge;void 0!==t.inverseBindMatrices&&l.fromArray(t.inverseBindMatrices.array,16*o),i.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[o])}e.bind(new Ro(r,i),e.matrixWorld)}})),e}));var t})).then((function(t){n.add(t);var a=[];if(o.children)for(var s=o.children,l=0,c=s.length;l<c;l++){var u=s[l];a.push(e(u,t,r,i))}return Promise.all(a)}))}return function(t){var n=this.json,r=this.extensions,i=this.json.scenes[t],o=new Xi;i.name&&(o.name=this.createUniqueName(i.name)),U(o,i),i.extensions&&F(r,o,i);for(var a=i.nodes||[],s=[],l=0,c=a.length;l<c;l++)s.push(e(a[l],o,n,this));return Promise.all(s).then((function(){return o}))}}()}();var dk=function(e){rl.call(this,e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}};dk.prototype=Object.assign(Object.create(rl.prototype),{constructor:dk,setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(e,t,n,r){var i=new ol(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,(e=>{var n={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(e,n).then(t).catch(r)}),n,r)},decodeDracoFile:function(e,t,n,r){var i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,i).then(t)},decodeGeometry:function(e,t){for(var n in t.attributeTypes){var r=t.attributeTypes[n];void 0!==r.BYTES_PER_ELEMENT&&(t.attributeTypes[n]=r.name)}var i,o=JSON.stringify(t);if(dk.taskCache.has(e)){var a=dk.taskCache.get(e);if(a.key===o)return a.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var s=this.workerNextTaskID++,l=e.byteLength,c=this._getWorker(s,l).then((n=>(i=n,new Promise(((n,r)=>{i._callbacks[s]={resolve:n,reject:r},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))))).then((e=>this._createGeometry(e.geometry)));return c.catch((()=>!0)).then((()=>{i&&s&&this._releaseTask(i,s)})),dk.taskCache.set(e,{key:o,promise:c}),c},_createGeometry:function(e){var t=new un;e.index&&t.setIndex(new Gt(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],i=r.name,o=r.array,a=r.itemSize;t.setAttribute(i,new Gt(o,a))}return t},_loadLibrary:function(e,t){var n=new ol(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),n.setWithCredentials(this.withCredentials),new Promise(((t,r)=>{n.load(e,t,void 0,r)}))},preload:function(){return this._initDecoder(),this},_initDecoder:function(){if(this.decoderPending)return this.decoderPending;var e="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then((t=>{var n=t[0];e||(this.decoderConfig.wasmBinary=t[1]);var r=dk.DRACOWorker.toString(),i=["/* draco decoder */",n,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([i]))})),this.decoderPending},_getWorker:function(e,t){return this._initDecoder().then((()=>{var n;this.workerPool.length<this.workerLimit?((n=new Worker(this.workerSourceURL))._callbacks={},n._taskCosts={},n._taskLoad=0,n.postMessage({type:"init",decoderConfig:this.decoderConfig}),n.onmessage=function(e){var t=e.data;switch(t.type){case"decode":n._callbacks[t.id].resolve(t);break;case"error":n._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},this.workerPool.push(n)):this.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));return(n=this.workerPool[this.workerPool.length-1])._taskCosts[e]=t,n._taskLoad+=t,n}))},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){console.log("Task load: ",this.workerPool.map((e=>e._taskLoad)))},dispose:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),dk.DRACOWorker=function(){var e,t;function n(e,t,n,r,i,o){var a=o.num_components(),s=n.num_points()*a,l=s*i.BYTES_PER_ELEMENT,c=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,i),u=e._malloc(l);t.GetAttributeDataArrayForAllPoints(n,o,c,l,u);var h=new i(e.HEAPF32.buffer,u,s).slice();return e._free(u),{name:r,array:h,itemSize:a}}onmessage=function(r){var i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var o=i.buffer,a=i.taskConfig;t.then((e=>{var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(o),o.byteLength);try{var l=function(e,t,r,i){var o,a,s=i.attributeIDs,l=i.attributeTypes,c=t.GetEncodedGeometryType(r);if(c===e.TRIANGULAR_MESH)o=new e.Mesh,a=t.DecodeBufferToMesh(r,o);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");o=new e.PointCloud,a=t.DecodeBufferToPointCloud(r,o)}if(!a.ok()||0===o.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+a.error_msg());var u={index:null,attributes:[]};for(var h in s){var d,f,p=self[l[h]];if(i.useUniqueIDs)f=s[h],d=t.GetAttributeByUniqueId(o,f);else{if(-1===(f=t.GetAttributeId(o,e[s[h]])))continue;d=t.GetAttribute(o,f)}u.attributes.push(n(e,t,o,h,p,d))}c===e.TRIANGULAR_MESH&&(u.index=function(e,t,n){var r=3*n.num_faces(),i=4*r,o=e._malloc(i);t.GetTrianglesUInt32Array(n,i,o);var a=new Uint32Array(e.HEAPF32.buffer,o,r).slice();return e._free(o),{array:a,itemSize:1}}(e,t,o));return e.destroy(o),u}(t,r,s,a),c=l.attributes.map((e=>e.array.buffer));l.index&&c.push(l.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:l},c)}catch(e){console.error(e),self.postMessage({type:"error",id:i.id,error:e.message})}finally{t.destroy(s),t.destroy(r)}}))}}},dk.taskCache=new WeakMap,dk.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},dk.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},dk.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},dk.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")};var fk=function(e,t){Rn.call(this,e),this.type="Reflector";var n=this,r=void 0!==(t=t||{}).color?new zt(t.color):new zt(8355711),i=t.textureWidth||512,o=t.textureHeight||512,a=t.clipBias||0,s=t.shader||fk.ReflectorShader,l=new bt,c=new ge,u=new ge,h=new ge,d=new Ge,f=new ge(0,0,-1),p=new de,m=new ge,g=new ge,v=new de,y=new Ge,b=new zn,x=new fe(i,o,{minFilter:1006,magFilter:1006,format:1022});oe.isPowerOfTwo(i)&&oe.isPowerOfTwo(o)||(x.texture.generateMipmaps=!1);var _=new Nn({uniforms:In.clone(s.uniforms),fragmentShader:s.fragmentShader,vertexShader:s.vertexShader});_.uniforms.tDiffuse.value=x.texture,_.uniforms.color.value=r,_.uniforms.textureMatrix.value=y,this.material=_,this.onBeforeRender=function(e,t,r){if(u.setFromMatrixPosition(n.matrixWorld),h.setFromMatrixPosition(r.matrixWorld),d.extractRotation(n.matrixWorld),c.set(0,0,1),c.applyMatrix4(d),m.subVectors(u,h),!(m.dot(c)>0)){m.reflect(c).negate(),m.add(u),d.extractRotation(r.matrixWorld),f.set(0,0,-1),f.applyMatrix4(d),f.add(h),g.subVectors(u,f),g.reflect(c).negate(),g.add(u),b.position.copy(m),b.up.set(0,1,0),b.up.applyMatrix4(d),b.up.reflect(c),b.lookAt(g),b.far=r.far,b.updateMatrixWorld(),b.projectionMatrix.copy(r.projectionMatrix),y.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),y.multiply(b.projectionMatrix),y.multiply(b.matrixWorldInverse),y.multiply(n.matrixWorld),l.setFromNormalAndCoplanarPoint(c,u),l.applyMatrix4(b.matrixWorldInverse),p.set(l.normal.x,l.normal.y,l.normal.z,l.constant);var i=b.projectionMatrix;v.x=(Math.sign(p.x)+i.elements[8])/i.elements[0],v.y=(Math.sign(p.y)+i.elements[9])/i.elements[5],v.z=-1,v.w=(1+i.elements[10])/i.elements[14],p.multiplyScalar(2/p.dot(v)),i.elements[2]=p.x,i.elements[6]=p.y,i.elements[10]=p.z+1-a,i.elements[14]=p.w,x.texture.encoding=e.outputEncoding,n.visible=!1;var o=e.getRenderTarget(),s=e.xr.enabled,_=e.shadowMap.autoUpdate;e.xr.enabled=!1,e.shadowMap.autoUpdate=!1,e.setRenderTarget(x),e.state.buffers.depth.setMask(!0),!1===e.autoClear&&e.clear(),e.render(t,b),e.xr.enabled=s,e.shadowMap.autoUpdate=_,e.setRenderTarget(o);var w=r.viewport;void 0!==w&&e.state.viewport(w),n.visible=!0}},this.getRenderTarget=function(){return x}};fk.prototype=Object.create(Rn.prototype),fk.prototype.constructor=fk,fk.ReflectorShader={uniforms:{color:{value:null},tDiffuse:{value:null},textureMatrix:{value:null}},vertexShader:["uniform mat4 textureMatrix;","varying vec4 vUv;","void main() {","\tvUv = textureMatrix * vec4( position, 1.0 );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform vec3 color;","uniform sampler2D tDiffuse;","varying vec4 vUv;","float blendOverlay( float base, float blend ) {","\treturn( base < 0.5 ? ( 2.0 * base * blend ) : ( 1.0 - 2.0 * ( 1.0 - base ) * ( 1.0 - blend ) ) );","}","vec3 blendOverlay( vec3 base, vec3 blend ) {","\treturn vec3( blendOverlay( base.r, blend.r ), blendOverlay( base.g, blend.g ), blendOverlay( base.b, blend.b ) );","}","void main() {","\tvec4 base = texture2DProj( tDiffuse, vUv );","\tgl_FragColor = vec4( blendOverlay( base.rgb, color ), 1.0 );","}"].join("\n")},s((function(e){var t=function(){function e(e){return i.appendChild(e.dom),e}function n(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";r=e}var r=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",(function(e){e.preventDefault(),n(++r%i.children.length)}),!1);var o=(performance||Date).now(),a=o,s=0,l=e(new t.Panel("FPS","#0ff","#002")),c=e(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=e(new t.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:i,addPanel:e,showPanel:n,begin:function(){o=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(c.update(e-o,200),e>a+1e3&&(l.update(1e3*s/(e-a),100),a=e,s=0,u)){var t=performance.memory;u.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){o=this.end()},domElement:i,setMode:n}};t.Panel=function(e,t,n){var r=1/0,i=0,o=Math.round,a=o(window.devicePixelRatio||1),s=80*a,l=48*a,c=3*a,u=2*a,h=3*a,d=15*a,f=74*a,p=30*a,m=document.createElement("canvas");m.width=s,m.height=l,m.style.cssText="width:80px;height:48px";var g=m.getContext("2d");return g.font="bold "+9*a+"px Helvetica,Arial,sans-serif",g.textBaseline="top",g.fillStyle=n,g.fillRect(0,0,s,l),g.fillStyle=t,g.fillText(e,c,u),g.fillRect(h,d,f,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h,d,f,p),{dom:m,update:function(l,v){r=Math.min(r,l),i=Math.max(i,l),g.fillStyle=n,g.globalAlpha=1,g.fillRect(0,0,s,d),g.fillStyle=t,g.fillText(o(l)+" "+e+" ("+o(r)+"-"+o(i)+")",c,u),g.drawImage(m,h+a,d,f-a,p,h,d,f-a,p),g.fillRect(h+f-a,d,a,p),g.fillStyle=n,g.globalAlpha=.9,g.fillRect(h+f-a,d,a,o((1-l/v)*p))}}},e.exports=t}));var pk="undefined"==typeof window;new(function(){function e(e){this.userAgent=e||(!pk&&window.navigator?window.navigator.userAgent:""),this.isAndroidDevice=!/like android/i.test(this.userAgent)&&/android/i.test(this.userAgent),this.iOSDevice=this.match(1,/(iphone|ipod|ipad)/i).toLowerCase(),!pk&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>2&&!window.MSStream&&(this.iOSDevice="ipad")}return e.prototype.match=function(e,t){var n=this.userAgent.match(t);return n&&n.length>1&&n[e]||""},Object.defineProperty(e.prototype,"isMobile",{get:function(){return!this.isTablet&&(/[^-]mobi/i.test(this.userAgent)||"iphone"===this.iOSDevice||"ipod"===this.iOSDevice||this.isAndroidDevice||/nexus\s*[0-6]\s*/i.test(this.userAgent))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isTablet",{get:function(){return/tablet/i.test(this.userAgent)&&!/tablet pc/i.test(this.userAgent)||"ipad"===this.iOSDevice||this.isAndroidDevice&&!/[^-]mobi/i.test(this.userAgent)||!/nexus\s*[0-6]\s*/i.test(this.userAgent)&&/nexus\s*[0-9]+/i.test(this.userAgent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDesktop",{get:function(){return!this.isMobile&&!this.isTablet},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMacOS",{get:function(){return/macintosh/i.test(this.userAgent)&&{version:this.match(1,/mac os x (\d+(\.?_?\d+)+)/i).replace(/[_\s]/g,".").split(".").map((function(e){return e}))[1]}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isWindows",{get:function(){return/windows /i.test(this.userAgent)&&{version:this.match(1,/Windows ((NT|XP)( \d\d?.\d)?)/i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isiOS",{get:function(){return!!this.iOSDevice&&{version:this.match(1,/os (\d+([_\s]\d+)*) like mac os x/i).replace(/[_\s]/g,".")||this.match(1,/version\/(\d+(\.\d+)?)/i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroid",{get:function(){return this.isAndroidDevice&&{version:this.match(1,/android[ \/-](\d+(\.\d+)*)/i)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"browser",{get:function(){var e=this.match(1,/version\/(\d+(\.\d+)?)/i);return/opera/i.test(this.userAgent)?{name:"Opera",version:e||this.match(1,/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(this.userAgent)?{name:"Opera",version:this.match(1,/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||e}:/SamsungBrowser/i.test(this.userAgent)?{name:"Samsung Internet for Android",version:e||this.match(1,/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(this.userAgent)?{name:"Yandex Browser",version:e||this.match(1,/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(this.userAgent)?{name:"UC Browser",version:this.match(1,/(?:ucbrowser)[\s\/](\d+(\.\d+)?)/i)}:/msie|trident/i.test(this.userAgent)?{name:"Internet Explorer",version:this.match(1,/(?:msie |rv:)(\d+(\.\d+)?)/i)}:/(edge|edgios|edga|edg)/i.test(this.userAgent)?{name:"Microsoft Edge",version:this.match(2,/(edge|edgios|edga|edg)\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(this.userAgent)?{name:"Firefox",version:this.match(1,/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)}:/chromium/i.test(this.userAgent)?{name:"Chromium",version:this.match(1,/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||e}:/chrome|crios|crmo/i.test(this.userAgent)?{name:"Chrome",version:this.match(1,/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/safari|applewebkit/i.test(this.userAgent)?{name:"Safari",version:e}:{name:this.match(1,/^(.*)\/(.*) /),version:this.match(2,/^(.*)\/(.*) /)}},enumerable:!1,configurable:!0}),e}()),new ge,new ge,new ge,new ge(0,1,0),["uniform vec3 sunPosition;","uniform float rayleigh;","uniform float turbidity;","uniform float mieCoefficient;","uniform vec3 up;","varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );","const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );","const float v = 4.0;","const vec3 K = vec3( 0.686, 0.678, 0.666 );","const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );","const float cutoffAngle = 1.6110731556870734;","const float steepness = 1.5;","const float EE = 1000.0;","float sunIntensity( float zenithAngleCos ) {","\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );","\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );","}","vec3 totalMie( float T ) {","\tfloat c = ( 0.2 * T ) * 10E-18;","\treturn 0.434 * c * MieConst;","}","void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","\tgl_Position.z = gl_Position.w;","\tvSunDirection = normalize( sunPosition );","\tvSunE = sunIntensity( dot( vSunDirection, up ) );","\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );","\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );","\tvBetaR = totalRayleigh * rayleighCoefficient;","\tvBetaM = totalMie( turbidity ) * mieCoefficient;","}"].join("\n"),["varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","uniform float mieDirectionalG;","uniform vec3 up;","const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003;","const float N = 2.545E25;","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","const float THREE_OVER_SIXTEENPI = 0.05968310365946075;","const float ONE_OVER_FOURPI = 0.07957747154594767;","float rayleighPhase( float cosTheta ) {","\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );","}","float hgPhase( float cosTheta, float g ) {","\tfloat g2 = pow( g, 2.0 );","\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );","\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );","}","void main() {","\tvec3 direction = normalize( vWorldPosition - cameraPos );","\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );","\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );","\tfloat sR = rayleighZenithLength * inverse;","\tfloat sM = mieZenithLength * inverse;","\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );","\tfloat cosTheta = dot( direction, vSunDirection );","\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );","\tvec3 betaRTheta = vBetaR * rPhase;","\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );","\tvec3 betaMTheta = vBetaM * mPhase;","\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );","\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );","\tfloat theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]","\tfloat phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]","\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );","\tvec3 L0 = vec3( 0.1 ) * Fex;","\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );","\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;","\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );","\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );","\tgl_FragColor = vec4( retColor, 1.0 );","#include <tonemapping_fragment>","#include <encodings_fragment>","}"].join("\n");const mk=m.forwardRef((function(e,t){let{points:n,color:r="black",vertexColors:i,lineWidth:o,dashed:a}=e,s=Gh(e,["points","color","vertexColors","lineWidth","dashed"]);const[l]=m.useState((()=>new Od)),[c]=m.useState((()=>new Rd)),[u]=m.useState((()=>new Cd)),h=m.useMemo((()=>new ae(512,512)),[]);return m.useEffect((()=>{c.setPositions(n.flat()),i&&c.setColors(i.flat()),l.computeLineDistances()}),[n,i,l,c]),m.useLayoutEffect((()=>{a?u.defines.USE_DASH="":delete u.defines.USE_DASH,u.needsUpdate=!0}),[a,u]),m.createElement("primitive",Wh({dispose:null,object:l,ref:t},s),m.createElement("primitive",{dispose:null,object:c,attach:"geometry"}),m.createElement("primitive",Wh({dispose:null,object:u,attach:"material",color:r,vertexColors:Boolean(i),resolution:h,linewidth:o,dashed:a},s)))})),gk=m.forwardRef(((e={enableDamping:!0},t)=>{const{camera:n,gl:r,invalidate:i}=Ed(),o=m.useMemo((()=>new Dd(n,r.domElement)),[n,r]);return Sd((()=>{o.update()})),m.useEffect((()=>(null==o||null==o.addEventListener||o.addEventListener("change",i),()=>null==o||null==o.removeEventListener?void 0:o.removeEventListener("change",i))),[o,i]),m.createElement("primitive",Wh({dispose:null,object:o,ref:t,enableDamping:!0},e))}));!function(e){const t="function"==typeof e?cp(e):e,n=(e=t.getState,n=Object.is)=>{const[,r]=m.useReducer((e=>e+1),0),i=t.getState(),o=m.useRef(i),a=m.useRef(e),s=m.useRef(n),l=m.useRef(!1),c=m.useRef();let u;void 0===c.current&&(c.current=e(i));let h=!1;(o.current!==i||a.current!==e||s.current!==n||l.current)&&(u=e(i),h=!n(c.current,u)),up((()=>{h&&(c.current=u),o.current=i,a.current=e,s.current=n,l.current=!1}));const d=m.useRef(i);return up((()=>{const e=()=>{try{const e=t.getState(),n=a.current(e);s.current(c.current,n)||(o.current=e,c.current=n,r())}catch(e){l.current=!0,r()}},n=t.subscribe(e);return t.getState()!==d.current&&e(),n}),[]),h?u:c.current};Object.assign(n,t),n[Symbol.iterator]=function*(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4"),yield n,yield t}}((e=>(nl.onStart=(t,n,r)=>e({active:!0,item:t,loaded:n,total:r,progress:n/r*100}),nl.onLoad=()=>e({active:!1}),nl.onError=t=>e((e=>({errors:[...e.errors,t]}))),nl.onProgress=(t,n,r)=>e({item:t,loaded:n,total:r,progress:n/r*100}),{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})));const vk=new ge,yk=new ge,bk=new ge;function xk(e,t,n){const r=vk.setFromMatrixPosition(e.matrixWorld);r.project(t);const i=n.width/2,o=n.height/2;return[r.x*i+i,-r.y*o+o]}const _k=m.forwardRef(((e,t)=>{var n;let{children:r,eps:i=.001,style:o,className:a,prepend:s,center:l,fullscreen:c,portal:u,scaleFactor:h,zIndexRange:d=[16777271,0]}=e,f=Gh(e,["children","eps","style","className","prepend","center","fullscreen","portal","scaleFactor","zIndexRange"]);const{gl:p,scene:g,camera:v,size:y}=Ed(),[b]=m.useState((()=>document.createElement("div"))),x=m.useRef(null),_=m.useRef([0,0]),w=null!=(n=null==u?void 0:u.current)?n:p.domElement.parentNode;m.useEffect((()=>{if(x.current){g.updateMatrixWorld();const e=xk(x.current,v,y);return b.style.cssText="position:absolute;top:0;left:0;transform:translate3d("+e[0]+"px,"+e[1]+"px,0);transform-origin:0 0;",w&&(s?w.prepend(b):w.appendChild(b)),()=>{w&&w.removeChild(b),MT.unmountComponentAtNode(b)}}}),[w]);const S=m.useMemo((()=>Wh({position:"absolute",transform:l?"translate3d(-50%,-50%,0)":"none"},c&&{top:-y.height/2,left:-y.width/2,width:y.width,height:y.height},o)),[o,l,c,y]);return m.useEffect((()=>{MT.render(m.createElement("div",{ref:t,style:S,className:a,children:r}),b)})),Sd((()=>{if(x.current){const e=xk(x.current,v,y);if(Math.abs(_.current[0]-e[0])>i||Math.abs(_.current[1]-e[1])>i){b.style.display=function(e,t){const n=vk.setFromMatrixPosition(e.matrixWorld),r=yk.setFromMatrixPosition(t.matrixWorld),i=n.sub(r),o=t.getWorldDirection(bk);return i.angleTo(o)>Math.PI/2}(x.current,v)?"none":"block";const t=void 0===h?1:function(e,t){if(t instanceof zn){const n=vk.setFromMatrixPosition(e.matrixWorld),r=yk.setFromMatrixPosition(t.matrixWorld),i=t.fov*Math.PI/180,o=n.distanceTo(r);return 1/(2*Math.tan(i/2)*o)}return t instanceof Hl?t.zoom:1}(x.current,v)*h;b.style.transform="translate3d("+e[0]+"px,"+e[1]+"px,0) scale("+t+")",b.style.zIndex=""+function(e,t,n){if(t instanceof zn||t instanceof Hl){const r=vk.setFromMatrixPosition(e.matrixWorld),i=yk.setFromMatrixPosition(t.matrixWorld),o=r.distanceTo(i),a=(n[1]-n[0])/(t.far-t.near),s=n[1]-a*t.far;return Math.round(a*o+s)}}(x.current,v,d)}_.current=e}})),m.createElement("group",Wh({},f,{ref:x}))})),wk=m.forwardRef(((e,t)=>(m.useEffect((()=>{console.warn("The <HTML> component was renamed to <Html>")}),[]),m.createElement(_k,Wh({},e,{ref:t})))));new Ge,new Ve,new Ne,new ge;var Sk,Ek={move:"M",line:"L",curve:"C",arc:"A",close:"Z"};"undefined"!=typeof window?Sk=window:"undefined"!=typeof global?Sk=global:"undefined"!=typeof self&&(Sk=self);var Mk,Tk=Sk,kk=function(e){return{translateX:e.e,translateY:e.f,scaleX:Math.sqrt(e.a*e.a+e.b*e.b),scaleY:Math.sqrt(e.c*e.c+e.d*e.d),rotation:180*Math.atan2(e.b,e.a)/Math.PI}},Rk=function(e){Mk=e},Ck=function(e,t){t=t&&t.identity()||new Mk;for(var n=e,r=[];n&&n._matrix;)r.push(n._matrix),n=n.parent;r.reverse();for(var i=0;i<r.length;i++){var o=r[i].elements;t.multiply(o[0],o[1],o[2],o[3],o[4],o[5],o[6],o[7],o[8],o[9])}return t},Pk=function(e,t,n){return n*(t-e)+e},Ak=function(e,t){for(;e<0;)e+=t;return e%t},Lk=Tk.Float32Array||Array,Ok=function(e){return Math.floor(1e6*e)/1e6},Ik=Object.freeze({__proto__:null,decomposeMatrix:kk,getComputedMatrix:Ck,setMatrix:Rk,lerp:Pk,mod:Ak,NumArray:Lk,toFixed:Ok}),Nk=Array.prototype.slice,Dk={isNaN:function(e){return"number"==typeof e&&e!==+e},isElement:function(e){return!(!e||1!==e.nodeType)},isObject:function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},extend:function(e){for(var t=Nk.call(arguments,1),n=0;n<t.length;n++){var r=t[n];for(var i in r)e[i]=r[i]}return e},defaults:function(e){for(var t=Nk.call(arguments,1),n=0;n<t.length;n++){var r=t[n];for(var i in r)void 0===e[i]&&(e[i]=r[i])}return e},each:function(e,t,n){for(var r=n||this,i=!function(e){if(null==e)return!1;var t=e.length;return"number"==typeof t&&t>=0&&t<4294967296}(e)&&Object.keys(e),o=(i||e).length,a=0;a<o;a++){var s=i?i[a]:a;t.call(r,e[s],s,e)}return e},performance:Tk.performance&&Tk.performance.now?Tk.performance:Date},zk=function(e,t,n){var r;switch(n.length){case 0:r=function(r){t[r].call(e,n[0])};break;case 1:r=function(r){t[r].call(e,n[0],n[1])};break;case 2:r=function(r){t[r].call(e,n[0],n[1],n[2])};break;case 3:r=function(r){t[r].call(e,n[0],n[1],n[2],n[3])};break;default:r=function(r){t[r].apply(e,n)}}for(var i=0;i<t.length;i++)r(i)},Fk={on:function(e,t){return this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push(t),this},off:function(e,t){if(!this._events)return this;if(!e&&!t)return this._events={},this;for(var n=e?[e]:Object.keys(this._events),r=0,i=n.length;r<i;r++){e=n[r];var o=this._events[e];if(o){var a=[];if(t)for(var s=0,l=o.length;s<l;s++){var c=o[s];c=c.handler?c.handler:c,t&&t!==c&&a.push(c)}this._events[e]=a}}return this},trigger:function(e){if(!this._events)return this;var t=Array.prototype.slice.call(arguments,1),n=this._events[e];return n&&zk(this,n,t),this},listen:function(e,t,n){var r=this;if(e){var i=function(){n.apply(r,arguments)};i.obj=e,i.name=t,i.handler=n,e.on(t,i)}return this},ignore:function(e,t,n){return e.off(t,n),this},Types:{play:"play",pause:"pause",update:"update",render:"render",resize:"resize",change:"change",remove:"remove",insert:"insert",order:"order",load:"load"}};Fk.bind=Fk.on,Fk.unbind=Fk.off;var Uk=function(e,t){this.x=e||0,this.y=t||0};Dk.extend(Uk,{zero:new Uk,add:function(e,t){return new Uk(e.x+t.x,e.y+t.y)},sub:function(e,t){return new Uk(e.x-t.x,e.y-t.y)},subtract:function(e,t){return Uk.sub(e,t)},ratioBetween:function(e,t){return(e.x*t.x+e.y*t.y)/(e.length()*t.length())},angleBetween:function(e,t){var n,r;return arguments.length>=4?(n=arguments[0]-arguments[2],r=arguments[1]-arguments[3],Math.atan2(r,n)):(n=e.x-t.x,r=e.y-t.y,Math.atan2(r,n))},distanceBetween:function(e,t){return Math.sqrt(Uk.distanceBetweenSquared(e,t))},distanceBetweenSquared:function(e,t){var n=e.x-t.x,r=e.y-t.y;return n*n+r*r},MakeObservable:function(e){e.bind=e.on=function(){return this._bound||(this._x=this.x,this._y=this.y,Object.defineProperty(this,"x",jk),Object.defineProperty(this,"y",Hk),Dk.extend(this,Bk),this._bound=!0),Fk.bind.apply(this,arguments),this}}}),Dk.extend(Uk.prototype,Fk,{constructor:Uk,set:function(e,t){return this.x=e,this.y=t,this},copy:function(e){return this.x=e.x,this.y=e.y,this},clear:function(){return this.x=0,this.y=0,this},clone:function(){return new Uk(this.x,this.y)},add:function(e,t){return arguments.length<=0||(arguments.length<=1?"number"==typeof e?(this.x+=e,this.y+=e):e&&"number"==typeof e.x&&"number"==typeof e.y&&(this.x+=e.x,this.y+=e.y):(this.x+=e,this.y+=t)),this},addSelf:function(e){return this.add.apply(this,arguments)},sub:function(e,t){return arguments.length<=0||(arguments.length<=1?"number"==typeof e?(this.x-=e,this.y-=e):e&&"number"==typeof e.x&&"number"==typeof e.y&&(this.x-=e.x,this.y-=e.y):(this.x-=e,this.y-=t)),this},subtract:function(){return this.sub.apply(this,arguments)},subSelf:function(e){return this.sub.apply(this,arguments)},subtractSelf:function(e){return this.sub.apply(this,arguments)},multiply:function(e,t){return arguments.length<=0||(arguments.length<=1?"number"==typeof e?(this.x*=e,this.y*=e):e&&"number"==typeof e.x&&"number"==typeof e.y&&(this.x*=e.x,this.y*=e.y):(this.x*=e,this.y*=t)),this},multiplySelf:function(e){return this.multiply.apply(this,arguments)},multiplyScalar:function(e){return this.multiply(e)},divide:function(e,t){return arguments.length<=0||(arguments.length<=1?"number"==typeof e?(this.x/=e,this.y/=e):e&&"number"==typeof e.x&&"number"==typeof e.y&&(this.x/=e.x,this.y/=e.y):(this.x/=e,this.y/=t),Dk.isNaN(this.x)&&(this.x=0),Dk.isNaN(this.y)&&(this.y=0)),this},divideSelf:function(e){return this.divide.apply(this,arguments)},divideScalar:function(e){return this.divide(e)},negate:function(){return this.multiply(-1)},dot:function(e){return this.x*e.x+this.y*e.y},length:function(){return Math.sqrt(this.lengthSquared())},lengthSquared:function(){return this.x*this.x+this.y*this.y},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},setLength:function(e){return this.normalize().multiplyScalar(e)},equals:function(e,t){return t=void 0===t?1e-4:t,this.distanceTo(e)<t},lerp:function(e,t){var n=(e.x-this.x)*t+this.x,r=(e.y-this.y)*t+this.y;return this.set(n,r)},isZero:function(e){return e=void 0===e?1e-4:e,this.length()<e},toString:function(){return this.x+", "+this.y},toObject:function(){return{x:this.x,y:this.y}},rotate:function(e){var t=Math.cos(e),n=Math.sin(e);return this.x=this.x*t-this.y*n,this.y=this.x*n+this.y*t,this}});var Bk={constructor:Uk,set:function(e,t){return this._x=e,this._y=t,this.trigger(Fk.Types.change)},copy:function(e){return this._x=e.x,this._y=e.y,this.trigger(Fk.Types.change)},clear:function(){return this._x=0,this._y=0,this.trigger(Fk.Types.change)},clone:function(){return new Uk(this._x,this._y)},add:function(e,t){return arguments.length<=0?this:(arguments.length<=1?"number"==typeof e?(this._x+=e,this._y+=e):e&&"number"==typeof e.x&&"number"==typeof e.y&&(this._x+=e.x,this._y+=e.y):(this._x+=e,this._y+=t),this.trigger(Fk.Types.change))},sub:function(e,t){return arguments.length<=0?this:(arguments.length<=1?"number"==typeof e?(this._x-=e,this._y-=e):e&&"number"==typeof e.x&&"number"==typeof e.y&&(this._x-=e.x,this._y-=e.y):(this._x-=e,this._y-=t),this.trigger(Fk.Types.change))},multiply:function(e,t){return arguments.length<=0?this:(arguments.length<=1?"number"==typeof e?(this._x*=e,this._y*=e):e&&"number"==typeof e.x&&"number"==typeof e.y&&(this._x*=e.x,this._y*=e.y):(this._x*=e,this._y*=t),this.trigger(Fk.Types.change))},divide:function(e,t){return arguments.length<=0?this:(arguments.length<=1?"number"==typeof e?(this._x/=e,this._y/=e):e&&"number"==typeof e.x&&"number"==typeof e.y&&(this._x/=e.x,this._y/=e.y):(this._x/=e,this._y/=t),Dk.isNaN(this._x)&&(this._x=0),Dk.isNaN(this._y)&&(this._y=0),this.trigger(Fk.Types.change))},dot:function(e){return this._x*e.x+this._y*e.y},lengthSquared:function(){return this._x*this._x+this._y*this._y},distanceToSquared:function(e){var t=this._x-e.x,n=this._y-e.y;return t*t+n*n},lerp:function(e,t){var n=(e.x-this._x)*t+this._x,r=(e.y-this._y)*t+this._y;return this.set(n,r)},toString:function(){return this._x+", "+this._y},toObject:function(){return{x:this._x,y:this._y}},rotate:function(e){var t=Math.cos(e),n=Math.sin(e);return this._x=this._x*t-this._y*n,this._y=this._x*n+this._y*t,this}},jk={enumerable:!0,get:function(){return this._x},set:function(e){this._x=e,this.trigger(Fk.Types.change,"x")}},Hk={enumerable:!0,get:function(){return this._y},set:function(e){this._y=e,this.trigger(Fk.Types.change,"y")}};Uk.MakeObservable(Uk.prototype);var Vk=function(e,t,n,r,i,o,a){Uk.call(this,e,t),this._broadcast=function(){this.trigger(Fk.Types.change)}.bind(this),this._command=a||Ek.move,this._relative=!0;var s="number"==typeof n,l="number"==typeof r,c="number"==typeof i,u="number"==typeof o;(s||l||c||u)&&Vk.AppendCurveProperties(this),s&&(this.controls.left.x=n),l&&(this.controls.left.y=r),c&&(this.controls.right.x=i),u&&(this.controls.right.y=o)};Dk.extend(Vk,{AppendCurveProperties:function(e){e.relative=!0,e.controls={},e.controls.left=new Uk(0,0),e.controls.right=new Uk(0,0)},MakeObservable:function(e){Object.defineProperty(e,"command",{enumerable:!0,get:function(){return this._command},set:function(e){this._command=e,this._command!==Ek.curve||Dk.isObject(this.controls)||Vk.AppendCurveProperties(this),this.trigger(Fk.Types.change)}}),Object.defineProperty(e,"relative",{enumerable:!0,get:function(){return this._relative},set:function(e){this._relative!=e&&(this._relative=!!e,this.trigger(Fk.Types.change))}}),Dk.extend(e,Uk.prototype,Gk),e.bind=e.on=function(){var e=this._bound;Uk.prototype.bind.apply(this,arguments),e||Dk.extend(this,Gk)}}});var Gk={constructor:Vk,listen:function(){return Dk.isObject(this.controls)||Vk.AppendCurveProperties(this),this.controls.left.bind(Fk.Types.change,this._broadcast),this.controls.right.bind(Fk.Types.change,this._broadcast),this},ignore:function(){return this.controls.left.unbind(Fk.Types.change,this._broadcast),this.controls.right.unbind(Fk.Types.change,this._broadcast),this},copy:function(e){return this.x=e.x,this.y=e.y,"string"==typeof e.command&&(this.command=e.command),Dk.isObject(e.controls)&&(Dk.isObject(this.controls)||Vk.AppendCurveProperties(this),this.controls.left.copy(e.controls.left),this.controls.right.copy(e.controls.right)),"boolean"==typeof e.relative&&(this.relative=e.relative),this.command===Ek.arc&&(this.rx=e.rx,this.ry=e.ry,this.xAxisRotation=e.xAxisRotation,this.largeArcFlag=e.largeArcFlag,this.sweepFlag=e.sweepFlag),this},clone:function(){var e=this.controls,t=new Vk(this.x,this.y,e&&e.left.x,e&&e.left.y,e&&e.right.x,e&&e.right.y,this.command);return t.relative=this._relative,t},toObject:function(){var e={x:this.x,y:this.y};return this._command&&(e.command=this._command),this._relative&&(e.relative=this._relative),this.controls&&(e.controls={left:this.controls.left.toObject(),right:this.controls.right.toObject()}),e},toString:function(){return this.controls?[this._x,this._y,this.controls.left.x,this.controls.left.y,this.controls.right.x,this.controls.right.y,this._command,this._relative?1:0].join(", "):[this._x,this._y].join(", ")}};Vk.MakeObservable(Vk.prototype);var Wk=Math.cos,qk=Math.sin,Xk=Math.tan,Yk=[],Zk=function(e,t,n,r,i,o){this.elements=new Lk(9);var a=e;Array.isArray(a)||(a=Array.prototype.slice.call(arguments)),this.identity(),a.length>0&&this.set(a)};Rk(Zk),Dk.extend(Zk,{Identity:[1,0,0,0,1,0,0,0,1],Multiply:function(e,t,n){if(t.length<=3){var r=e,i=t[0]||0,o=t[1]||0,a=t[2]||0;return{x:r[0]*i+r[1]*o+r[2]*a,y:r[3]*i+r[4]*o+r[5]*a,z:r[6]*i+r[7]*o+r[8]*a}}var s=e[0],l=e[1],c=e[2],u=e[3],h=e[4],d=e[5],f=e[6],p=e[7],m=e[8],g=t[0],v=t[1],y=t[2],b=t[3],x=t[4],_=t[5],w=t[6],S=t[7],E=t[8];return(n=n||new Lk(9))[0]=s*g+l*b+c*w,n[1]=s*v+l*x+c*S,n[2]=s*y+l*_+c*E,n[3]=u*g+h*b+d*w,n[4]=u*v+h*x+d*S,n[5]=u*y+h*_+d*E,n[6]=f*g+p*b+m*w,n[7]=f*v+p*x+m*S,n[8]=f*y+p*_+m*E,n}}),Dk.extend(Zk.prototype,Fk,{constructor:Zk,manual:!1,set:function(e,t,n,r,i,o,a,s,l){var c;return void 0===t&&(e=(c=e)[0],t=c[1],n=c[2],r=c[3],i=c[4],o=c[5],a=c[6],s=c[7],l=c[8]),this.elements[0]=e,this.elements[1]=t,this.elements[2]=n,this.elements[3]=r,this.elements[4]=i,this.elements[5]=o,this.elements[6]=a,this.elements[7]=s,this.elements[8]=l,this.trigger(Fk.Types.change)},copy:function(e){return this.elements[0]=e.elements[0],this.elements[1]=e.elements[1],this.elements[2]=e.elements[2],this.elements[3]=e.elements[3],this.elements[4]=e.elements[4],this.elements[5]=e.elements[5],this.elements[6]=e.elements[6],this.elements[7]=e.elements[7],this.elements[8]=e.elements[8],this.manual=e.manual,this.trigger(Fk.Types.change)},identity:function(){return this.elements[0]=Zk.Identity[0],this.elements[1]=Zk.Identity[1],this.elements[2]=Zk.Identity[2],this.elements[3]=Zk.Identity[3],this.elements[4]=Zk.Identity[4],this.elements[5]=Zk.Identity[5],this.elements[6]=Zk.Identity[6],this.elements[7]=Zk.Identity[7],this.elements[8]=Zk.Identity[8],this.trigger(Fk.Types.change)},multiply:function(e,t,n,r,i,o,a,s,l){if(void 0===t)return this.elements[0]*=e,this.elements[1]*=e,this.elements[2]*=e,this.elements[3]*=e,this.elements[4]*=e,this.elements[5]*=e,this.elements[6]*=e,this.elements[7]*=e,this.elements[8]*=e,this.trigger(Fk.Types.change);if(void 0===r)return e=e||0,t=t||0,n=n||0,{x:(i=this.elements)[0]*e+i[1]*t+i[2]*n,y:i[3]*e+i[4]*t+i[5]*n,z:i[6]*e+i[7]*t+i[8]*n};var c=this.elements,u=[e,t,n,r,i,o,a,s,l],h=c[0],d=c[1],f=c[2],p=c[3],m=c[4],g=c[5],v=c[6],y=c[7],b=c[8],x=u[0],_=u[1],w=u[2],S=u[3],E=u[4],M=u[5],T=u[6],k=u[7],R=u[8];return this.elements[0]=h*x+d*S+f*T,this.elements[1]=h*_+d*E+f*k,this.elements[2]=h*w+d*M+f*R,this.elements[3]=p*x+m*S+g*T,this.elements[4]=p*_+m*E+g*k,this.elements[5]=p*w+m*M+g*R,this.elements[6]=v*x+y*S+b*T,this.elements[7]=v*_+y*E+b*k,this.elements[8]=v*w+y*M+b*R,this.trigger(Fk.Types.change)},inverse:function(e){var t=this.elements;e=e||new Zk;var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=u*a-s*c,d=-u*o+s*l,f=c*o-a*l,p=n*h+r*d+i*f;return p?(p=1/p,e.elements[0]=h*p,e.elements[1]=(-u*r+i*c)*p,e.elements[2]=(s*r-i*a)*p,e.elements[3]=d*p,e.elements[4]=(u*n-i*l)*p,e.elements[5]=(-s*n+i*o)*p,e.elements[6]=f*p,e.elements[7]=(-c*n+r*l)*p,e.elements[8]=(a*n-r*o)*p,e):null},scale:function(e,t){var n=arguments.length;return n<=1&&(t=e),this.multiply(e,0,0,0,t,0,0,0,1)},rotate:function(e){var t=Wk(e),n=qk(e);return this.multiply(t,-n,0,n,t,0,0,0,1)},translate:function(e,t){return this.multiply(1,0,e,0,1,t,0,0,1)},skewX:function(e){var t=Xk(e);return this.multiply(1,t,0,0,1,0,0,0,1)},skewY:function(e){var t=Xk(e);return this.multiply(1,0,0,t,1,0,0,0,1)},toString:function(e){return Yk.length=0,this.toTransformArray(e,Yk),Yk.map(Ok).join(" ")},toTransformArray:function(e,t){var n=this.elements,r=!!t,i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=n[5];if(e){var u=n[6],h=n[7],d=n[8];return r?(t[0]=i,t[1]=s,t[2]=u,t[3]=o,t[4]=l,t[5]=h,t[6]=a,t[7]=c,void(t[8]=d)):[i,s,u,o,l,h,a,c,d]}return r?(t[0]=i,t[1]=s,t[2]=o,t[3]=l,t[4]=a,void(t[5]=c)):[i,s,o,l,a,c]},toArray:function(e,t){var n=this.elements,r=!!t,i=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=n[5];if(e){var u=n[6],h=n[7],d=n[8];return r?(t[0]=i,t[1]=o,t[2]=a,t[3]=s,t[4]=l,t[5]=c,t[6]=u,t[7]=h,void(t[8]=d)):[i,o,a,s,l,c,u,h,d]}return r?(t[0]=i,t[1]=o,t[2]=a,t[3]=s,t[4]=l,void(t[5]=c)):[i,o,a,s,l,c]},toObject:function(){return{elements:this.toArray(!0),manual:!!this.manual}},clone:function(){return(new Zk).copy(this)}});var Qk=0,$k={nextFrameID:null,Types:{webgl:"WebGLRenderer",svg:"SVGRenderer",canvas:"CanvasRenderer"},Version:"v0.7.1",PublishDate:"2021-01-13T01:57:28.198Z",Identifier:"two-",Resolution:12,AutoCalculateImportedMatrices:!0,Instances:[],uniqueId:function(){return Qk++}},Kk=Math.PI/2,Jk={CollinearityEpsilon:Math.pow(10,-30),RecursionLimit:16,CuspLimit:0,Tolerance:{distance:.25,angle:0,epsilon:Number.EPSILON},abscissas:[[.5773502691896257],[0,.7745966692414834],[.33998104358485626,.8611363115940526],[0,.5384693101056831,.906179845938664],[.2386191860831969,.6612093864662645,.932469514203152],[0,.4058451513773972,.7415311855993945,.9491079123427585],[.1834346424956498,.525532409916329,.7966664774136267,.9602898564975363],[0,.3242534234038089,.6133714327005904,.8360311073266358,.9681602395076261],[.14887433898163122,.4333953941292472,.6794095682990244,.8650633666889845,.9739065285171717],[0,.26954315595234496,.5190961292068118,.7301520055740494,.8870625997680953,.978228658146057],[.1252334085114689,.3678314989981802,.5873179542866175,.7699026741943047,.9041172563704749,.9815606342467192],[0,.2304583159551348,.44849275103644687,.6423493394403402,.8015780907333099,.9175983992229779,.9841830547185881],[.10805494870734367,.31911236892788974,.5152486363581541,.6872929048116855,.827201315069765,.9284348836635735,.9862838086968123],[0,.20119409399743451,.3941513470775634,.5709721726085388,.7244177313601701,.8482065834104272,.937273392400706,.9879925180204854],[.09501250983763744,.2816035507792589,.45801677765722737,.6178762444026438,.755404408355003,.8656312023878318,.9445750230732326,.9894009349916499]],weights:[[1],[.8888888888888888,.5555555555555556],[.6521451548625461,.34785484513745385],[.5688888888888889,.47862867049936647,.23692688505618908],[.46791393457269104,.3607615730481386,.17132449237917036],[.4179591836734694,.3818300505051189,.27970539148927664,.1294849661688697],[.362683783378362,.31370664587788727,.22238103445337448,.10122853629037626],[.3302393550012598,.31234707704000286,.26061069640293544,.1806481606948574,.08127438836157441],[.29552422471475287,.26926671930999635,.21908636251598204,.1494513491505806,.06667134430868814],[.2729250867779006,.26280454451024665,.23319376459199048,.18629021092773426,.1255803694649046,.05566856711617366],[.24914704581340277,.2334925365383548,.20316742672306592,.16007832854334622,.10693932599531843,.04717533638651183],[.2325515532308739,.22628318026289723,.2078160475368885,.17814598076194574,.13887351021978725,.09212149983772845,.04048400476531588],[.2152638534631578,.2051984637212956,.18553839747793782,.15720316715819355,.12151857068790319,.08015808715976021,.03511946033175186],[.2025782419255613,.19843148532711158,.1861610000155622,.16626920581699392,.13957067792615432,.10715922046717194,.07036604748810812,.03075324199611727],[.1894506104550685,.18260341504492358,.16915651939500254,.14959598881657674,.12462897125553388,.09515851168249279,.062253523938647894,.027152459411754096]]},eR=function(e,t,n,r,i){var o=1-e;return o*o*o*t+3*o*o*e*n+3*o*e*e*r+e*e*e*i},tR=function(e,t,n,r,i,o,a,s,l){var c=(l=l||Jk.RecursionLimit)+1;if(Math.abs(e-a)<.001&&Math.abs(t-s)<.001)return[new Vk(a,s)];for(var u=[],h=0;h<c;h++){var d=h/c,f=eR(d,e,n,i,a),p=eR(d,t,r,o,s);u.push(new Vk(f,p))}return u},nR=function(e,t,n,r,i,o,a,s,l){if(e===n&&t===r&&i===a&&o===s){var c=a-e,u=s-t;return Math.sqrt(c*c+u*u)}var h=9*(n-i)+3*(a-e),d=6*(e+i)-12*n,f=3*(n-e),p=9*(r-o)+3*(s-t),m=6*(t+o)-12*r,g=3*(r-t);return iR((function(e){var t=(h*e+d)*e+f,n=(p*e+m)*e+g;return Math.sqrt(t*t+n*n)}),0,1,l||Jk.RecursionLimit)},rR=function(e,t,n,r,i,o,a,s){for(var l,c,u,h,d,f,p,m,g=[],v=[[],[]],y=0;y<2;++y)if(0==y?(c=6*e-12*n+6*i,l=-3*e+9*n-9*i+3*a,u=3*n-3*e):(c=6*t-12*r+6*o,l=-3*t+9*r-9*o+3*s,u=3*r-3*t),Math.abs(l)<1e-12){if(Math.abs(c)<1e-12)continue;0<(h=-u/c)&&h<1&&g.push(h)}else p=c*c-4*u*l,m=Math.sqrt(p),p<0||(0<(d=(-c+m)/(2*l))&&d<1&&g.push(d),0<(f=(-c-m)/(2*l))&&f<1&&g.push(f));for(var b,x=g.length,_=x;x--;)b=1-(h=g[x]),v[0][x]=b*b*b*e+3*b*b*h*n+3*b*h*h*i+h*h*h*a,v[1][x]=b*b*b*t+3*b*b*h*r+3*b*h*h*o+h*h*h*s;return v[0][_]=e,v[1][_]=t,v[0][_+1]=a,v[1][_+1]=s,v[0].length=v[1].length=_+2,{min:{x:Math.min.apply(0,v[0]),y:Math.min.apply(0,v[1])},max:{x:Math.max.apply(0,v[0]),y:Math.max.apply(0,v[1])}}},iR=function(e,t,n,r){for(var i=Jk.abscissas[r-2],o=Jk.weights[r-2],a=.5*(n-t),s=a+t,l=0,c=r+1>>1,u=1&r?o[l++]*e(s):0;l<c;){var h=a*i[l];u+=o[l++]*(e(s+h)+e(s-h))}return a*u},oR=function(e,t){for(var n=e.length,r=n-1,i=0;i<n;i++){var o=e[i];Dk.isObject(o.controls)||Vk.AppendCurveProperties(o);var a=t?Ak(i-1,n):Math.max(i-1,0),s=t?Ak(i+1,n):Math.min(i+1,r),l=e[a],c=o,u=e[s];aR(l,c,u),c.command=0===i?Ek.move:Ek.curve}},aR=function(e,t,n){var r=Uk.angleBetween(e,t),i=Uk.angleBetween(n,t),o=Uk.distanceBetween(e,t),a=Uk.distanceBetween(n,t),s=(r+i)/2;return o<1e-4||a<1e-4?("boolean"!=typeof t.relative||t.relative||(t.controls.left.copy(t),t.controls.right.copy(t)),t):(o*=.33,a*=.33,i<r?s+=Kk:s-=Kk,t.controls.left.x=Math.cos(s)*o,t.controls.left.y=Math.sin(s)*o,s-=Math.PI,t.controls.right.x=Math.cos(s)*a,t.controls.right.y=Math.sin(s)*a,"boolean"!=typeof t.relative||t.relative||(t.controls.left.x+=t.x,t.controls.left.y+=t.y,t.controls.right.x+=t.x,t.controls.right.y+=t.y),t)},sR=function(e,t,n){return new Uk(2*e.x-(t.x+e.x)-(n?e.x:0),2*e.y-(t.y+e.y)-(n?e.y:0))},lR=Object.freeze({__proto__:null,Curve:Jk,getComponentOnCubicBezier:eR,subdivide:tR,getCurveLength:nR,getCurveBoundingBox:rR,integrate:iR,getCurveFromPoints:oR,getControlPoints:aR,getReflection:sR,getAnchorsFromArcData:function(e,t,n,r,i,o,a){(new Zk).translate(e.x,e.y).rotate(t);for(var s=$k.Resolution,l=0;l<s;l++){var c=(l+1)/s;a&&(c=1-c);var u=c*o+i,h=n*Math.cos(u),d=r*Math.sin(u),f=new Vk(h,d);Vk.AppendCurveProperties(f),f.command=Ek.line}}}),cR=Tk.devicePixelRatio||1,uR=function(e){return cR/function(e){return e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1}(e)},hR=function(){Array.call(this),arguments.length>1?Array.prototype.push.apply(this,arguments):arguments[0]&&Array.isArray(arguments[0])&&Array.prototype.push.apply(this,arguments[0])};(hR.prototype=new Array).constructor=hR,Dk.extend(hR.prototype,Fk,{pop:function(){var e=Array.prototype.pop.apply(this,arguments);return this.trigger(Fk.Types.remove,[e]),e},shift:function(){var e=Array.prototype.shift.apply(this,arguments);return this.trigger(Fk.Types.remove,[e]),e},push:function(){var e=Array.prototype.push.apply(this,arguments);return this.trigger(Fk.Types.insert,arguments),e},unshift:function(){var e=Array.prototype.unshift.apply(this,arguments);return this.trigger(Fk.Types.insert,arguments),e},splice:function(){var e,t=Array.prototype.splice.apply(this,arguments);return this.trigger(Fk.Types.remove,t),arguments.length>2&&(e=this.slice(arguments[0],arguments[0]+arguments.length-2),this.trigger(Fk.Types.insert,e),this.trigger(Fk.Types.order)),t},sort:function(){return Array.prototype.sort.apply(this,arguments),this.trigger(Fk.Types.order),this},reverse:function(){return Array.prototype.reverse.apply(this,arguments),this.trigger(Fk.Types.order),this}});var dR=function(){this._renderer={},this._renderer.flagMatrix=dR.FlagMatrix.bind(this),this.isShape=!0,this.id=$k.Identifier+$k.uniqueId(),this.classList=[],this.matrix=new Zk,this.translation=new Uk,this.rotation=0,this.scale=1};Dk.extend(dR,{FlagMatrix:function(){this._flagMatrix=!0},MakeObservable:function(e){var t={enumerable:!1,get:function(){return this._translation},set:function(e){this._translation&&this._translation.unbind(Fk.Types.change,this._renderer.flagMatrix),this._translation=e,this._translation.bind(Fk.Types.change,this._renderer.flagMatrix),dR.FlagMatrix.call(this)}};Object.defineProperty(e,"translation",t),Object.defineProperty(e,"position",t),Object.defineProperty(e,"rotation",{enumerable:!0,get:function(){return this._rotation},set:function(e){this._rotation=e,this._flagMatrix=!0}}),Object.defineProperty(e,"scale",{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof Uk&&this._scale.unbind(Fk.Types.change,this._renderer.flagMatrix),this._scale=e,this._scale instanceof Uk&&this._scale.bind(Fk.Types.change,this._renderer.flagMatrix),this._flagMatrix=!0,this._flagScale=!0}}),Object.defineProperty(e,"matrix",{enumerable:!0,get:function(){return this._matrix},set:function(e){this._matrix=e,this._flagMatrix=!0}}),Object.defineProperty(e,"className",{enumerable:!0,get:function(){return this._className},set:function(e){if(this._flagClassName=this._className!==e,this._flagClassName){for(var t=this._className.split(/\s+?/),n=e.split(/\s+?/),r=0;r<t.length;r++){var i=t[r],o=Array.prototype.indexOf.call(this.classList,i);o>=0&&this.classList.splice(o,1)}this.classList=this.classList.concat(n)}this._className=e}})}}),Dk.extend(dR.prototype,Fk,{_flagMatrix:!0,_flagScale:!1,_flagClassName:!1,_translation:null,_rotation:0,_scale:1,_className:"",constructor:dR,addTo:function(e){return e.add(this),this},clone:function(e){var t=new dR;return t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()},_update:function(e){return!this._matrix.manual&&this._flagMatrix&&(this._matrix.identity().translate(this.translation.x,this.translation.y),this._scale instanceof Uk?this._matrix.scale(this._scale.x,this._scale.y):this._matrix.scale(this._scale),this._matrix.rotate(this.rotation)),e&&this.parent&&this.parent._update&&this.parent._update(),this},flagReset:function(){return this._flagMatrix=this._flagScale=this._flagClassName=!1,this}}),dR.MakeObservable(dR.prototype);var fR=function(){hR.apply(this,arguments),Object.defineProperty(this,"_events",{value:{},enumerable:!1}),this.ids={},this.on(Fk.Types.insert,this.attach),this.on(Fk.Types.remove,this.detach),fR.prototype.attach.apply(this,arguments)};fR.prototype=new hR,Dk.extend(fR.prototype,{constructor:fR,attach:function(e){for(var t=0;t<e.length;t++)this.ids[e[t].id]=e[t];return this},detach:function(e){for(var t=0;t<e.length;t++)delete this.ids[e[t].id];return this}});var pR=Math.min,mR=Math.max,gR=function(e){dR.call(this,!0),this._renderer.type="group",this.additions=[],this.subtractions=[],this.children=Array.isArray(e)?e:Array.prototype.slice.call(arguments)};function vR(e,t){var n,r=e.parent;function i(){t.subtractions.length>0&&(n=Array.prototype.indexOf.call(t.subtractions,e))>=0&&t.subtractions.splice(n,1),t.additions.length>0&&(n=Array.prototype.indexOf.call(t.additions,e))>=0&&t.additions.splice(n,1),e.parent=t,t.additions.push(e),t._flagAdditions=!0}function o(){(n=Array.prototype.indexOf.call(r.additions,e))>=0&&r.additions.splice(n,1),(n=Array.prototype.indexOf.call(r.subtractions,e))<0&&(r.subtractions.push(e),r._flagSubtractions=!0)}r!==t?(r&&r.children.ids[e.id]&&(n=Array.prototype.indexOf.call(r.children,e),r.children.splice(n,1),o()),t?i():(o(),r._flagAdditions&&0===r.additions.length&&(r._flagAdditions=!1),r._flagSubtractions&&0===r.subtractions.length&&(r._flagSubtractions=!1),delete e.parent)):i()}Dk.extend(gR,{Children:fR,InsertChildren:function(e){for(var t=0;t<e.length;t++)vR.call(this,e[t],this)},RemoveChildren:function(e){for(var t=0;t<e.length;t++)vR.call(this,e[t])},OrderChildren:function(e){this._flagOrder=!0},Properties:["fill","stroke","linewidth","visible","cap","join","miter","closed","curved","automatic"],MakeObservable:function(e){var t=gR.Properties;Object.defineProperty(e,"opacity",{enumerable:!0,get:function(){return this._opacity},set:function(e){this._flagOpacity=this._opacity!==e,this._opacity=e}}),Object.defineProperty(e,"beginning",{enumerable:!0,get:function(){return this._beginning},set:function(e){this._flagBeginning=this._beginning!==e,this._beginning=e}}),Object.defineProperty(e,"ending",{enumerable:!0,get:function(){return this._ending},set:function(e){this._flagEnding=this._ending!==e,this._ending=e}}),Object.defineProperty(e,"length",{enumerable:!0,get:function(){if(this._flagLength||this._length<=0){if(this._length=0,!this.children)return this._length;for(var e=0;e<this.children.length;e++){var t=this.children[e];this._length+=t.length}}return this._length}}),dR.MakeObservable(e),gR.MakeGetterSetters(e,t),Object.defineProperty(e,"children",{enumerable:!0,get:function(){return this._children},set:function(e){var t=gR.InsertChildren.bind(this),n=gR.RemoveChildren.bind(this),r=gR.OrderChildren.bind(this);this._children&&this._children.unbind(),this._children=new fR(e),this._children.bind(Fk.Types.insert,t),this._children.bind(Fk.Types.remove,n),this._children.bind(Fk.Types.order,r)}}),Object.defineProperty(e,"mask",{enumerable:!0,get:function(){return this._mask},set:function(e){this._mask=e,this._flagMask=!0,e.clip||(e.clip=!0)}})},MakeGetterSetters:function(e,t){Array.isArray(t)||(t=[t]),Dk.each(t,(function(t){gR.MakeGetterSetter(e,t)}))},MakeGetterSetter:function(e,t){var n="_"+t;Object.defineProperty(e,t,{enumerable:!0,get:function(){return this[n]},set:function(e){this[n]=e;for(var r=0;r<this.children.length;r++){this.children[r][t]=e}}})}}),Dk.extend(gR.prototype,dR.prototype,{_flagAdditions:!1,_flagSubtractions:!1,_flagOrder:!1,_flagOpacity:!0,_flagBeginning:!1,_flagEnding:!1,_flagLength:!1,_flagMask:!1,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_length:0,_mask:null,constructor:gR,clone:function(e){var t=new gR,n=this.children.map((function(e){return e.clone()}));return t.add(n),t.opacity=this.opacity,this.mask&&(t.mask=this.mask),t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,t.className=this.className,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()},toObject:function(){var e={children:[],translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale instanceof Uk?this.scale.toObject():this.scale,opacity:this.opacity,className:this.className,mask:this.mask?this.mask.toObject():null};return this.matrix.manual&&(e.matrix=this.matrix.toObject()),Dk.each(this.children,(function(t,n){e.children[n]=t.toObject()}),this),e},corner:function(){var e=this.getBoundingClientRect(!0),t={x:e.left,y:e.top};return this.children.forEach((function(e){e.translation.sub(t)})),this},center:function(){var e=this.getBoundingClientRect(!0);return e.centroid={x:e.left+e.width/2-this.translation.x,y:e.top+e.height/2-this.translation.y},this.children.forEach((function(t){t.isShape&&t.translation.sub(e.centroid)})),this},getById:function(e){var t=null;return function n(r){if(r.id===e)return r;if(r.children)for(var i=0;i<r.children.length;i++)if(t=n(r.children[i]))return t;return null}(this)},getByClassName:function(e){var t=[];return function n(r){if(Array.prototype.indexOf.call(r.classList,e)>=0&&t.push(r),r.children)for(var i=0;i<r.children.length;i++){n(r.children[i])}return t}(this)},getByType:function(e){var t=[];return function n(r){if(r instanceof e&&t.push(r),r.children)for(var i=0;i<r.children.length;i++){n(r.children[i])}return t}(this)},add:function(e){e=e instanceof Array?e.slice():Array.prototype.slice.call(arguments);for(var t=0;t<e.length;t++){var n=e[t];if(n&&n.id){var r=Array.prototype.indexOf.call(this.children,n);r>=0&&this.children.splice(r,1),this.children.push(n)}}return this},remove:function(e){var t=arguments.length,n=this.parent;if(t<=0&&n)return n.remove(this),this;e=e instanceof Array?e.slice():Array.prototype.slice.call(arguments);for(var r=0;r<e.length;r++)e[r]&&this.children.ids[e[r].id]&&this.children.splice(Array.prototype.indexOf.call(this.children,e[r]),1);return this},getBoundingClientRect:function(e){var t;this._update(!0);for(var n=1/0,r=-1/0,i=1/0,o=-1/0,a=/texture|gradient/i,s=0;s<this.children.length;s++){var l=this.children[s];l.visible&&!a.test(l._renderer.type)&&("number"==typeof(t=l.getBoundingClientRect(e)).top&&"number"==typeof t.left&&"number"==typeof t.right&&"number"==typeof t.bottom&&(i=pR(t.top,i),n=pR(t.left,n),r=mR(t.right,r),o=mR(t.bottom,o)))}return{top:i,left:n,right:r,bottom:o,width:r-n,height:o-i}},noFill:function(){return this.children.forEach((function(e){e.noFill()})),this},noStroke:function(){return this.children.forEach((function(e){e.noStroke()})),this},subdivide:function(){var e=arguments;return this.children.forEach((function(t){t.subdivide.apply(t,e)})),this},_update:function(){if(this._flagBeginning||this._flagEnding)for(var e=Math.min(this._beginning,this._ending),t=Math.max(this._beginning,this._ending),n=this.length,r=0,i=e*n,o=t*n,a=0;a<this.children.length;a++){var s=this.children[a],l=s.length;i>r+l?(s.beginning=1,s.ending=1):o<r?(s.beginning=0,s.ending=0):i>r&&i<r+l?(s.beginning=(i-r)/l,s.ending=1):o>r&&o<r+l?(s.beginning=0,s.ending=(o-r)/l):(s.beginning=0,s.ending=1),r+=l}return dR.prototype._update.apply(this,arguments)},flagReset:function(){return this._flagAdditions&&(this.additions.length=0,this._flagAdditions=!1),this._flagSubtractions&&(this.subtractions.length=0,this._flagSubtractions=!1),this._flagOrder=this._flagMask=this._flagOpacity=this._flagBeginning=this._flagEnding=!1,dR.prototype.flagReset.call(this),this}}),gR.MakeObservable(gR.prototype);var yR=[],bR=2*Math.PI,xR=Math.max,_R=Math.min,wR=Math.abs,SR=Math.sin,ER=Math.cos,MR=Math.acos,TR=Math.sqrt,kR=function(e){return 1==e[0]&&0==e[3]&&0==e[1]&&1==e[4]&&0==e[2]&&0==e[5]},RR={isHidden:/(undefined|none|transparent)/i,alignments:{left:"start",middle:"center",right:"end"},shim:function(e,t){return e.tagName=e.nodeName=t||"canvas",e.nodeType=1,e.getAttribute=function(e){return this[e]},e.setAttribute=function(e,t){return this[e]=t,this},e},group:{renderChild:function(e){RR[e._renderer.type].render.call(e,this.ctx,!0,this.clip)},render:function(e){this._update();var t=this._matrix.elements,n=this.parent;this._renderer.opacity=this._opacity*(n&&n._renderer?n._renderer.opacity:1);var r=this._mask,i=kR(t),o=!i||!!r;if(this._renderer.context||(this._renderer.context={}),this._renderer.context.ctx=e,o&&(e.save(),i||e.transform(t[0],t[3],t[1],t[4],t[2],t[5])),r&&RR[r._renderer.type].render.call(r,e,!0),this.opacity>0&&0!==this.scale)for(var a=0;a<this.children.length;a++){var s=this.children[a];RR[s._renderer.type].render.call(s,e)}return o&&e.restore(),this.flagReset()}},path:{render:function(e,t,n){var r,i,o,a,s,l,c,u,h,d,f,p,m,g,v,y,b,x,_,w,S,E,M,T,k,R,C,P,A,L,O,I,N;if(this._update(),r=this._matrix.elements,i=this._stroke,o=this._linewidth,a=this._fill,s=this._opacity*this.parent._renderer.opacity,l=this._visible,c=this._cap,u=this._join,h=this._miter,d=this._closed,m=(p=(f=this._renderer.vertices).length)-1,O=kR(r),N=this.dashes,L=this._clip,!t&&(!l||L))return this;O||(e.save(),e.transform(r[0],r[3],r[1],r[4],r[2],r[5])),a&&("string"==typeof a?e.fillStyle=a:(RR[a._renderer.type].render.call(a,e),e.fillStyle=a._renderer.effect)),i&&("string"==typeof i?e.strokeStyle=i:(RR[i._renderer.type].render.call(i,e),e.strokeStyle=i._renderer.effect),o&&(e.lineWidth=o),h&&(e.miterLimit=h),u&&(e.lineJoin=u),!d&&c&&(e.lineCap=c)),"number"==typeof s&&(e.globalAlpha=s),N&&N.length>0&&(e.lineDashOffset=N.offset||0,e.setLineDash(N)),e.beginPath();for(var D=0;D<f.length;D++)switch(P=(b=f[D]).x,A=b.y,b.command){case Ek.close:e.closePath();break;case Ek.arc:var z=b.rx,F=b.ry,U=b.xAxisRotation,B=b.largeArcFlag,j=b.sweepFlag,H=(y=f[v=d?Ak(D-1,p):xR(D-1,0)]).x,V=y.y;RR.renderSvgArcCommand(e,H,V,z,F,B,j,U,P,A);break;case Ek.curve:v=d?Ak(D-1,p):Math.max(D-1,0),g=d?Ak(D+1,p):Math.min(D+1,m),y=f[v],x=f[g],T=y.controls&&y.controls.right||Uk.zero,k=b.controls&&b.controls.left||Uk.zero,y._relative?(E=T.x+y.x,M=T.y+y.y):(E=T.x,M=T.y),b._relative?(w=k.x+b.x,S=k.y+b.y):(w=k.x,S=k.y),e.bezierCurveTo(E,M,w,S,P,A),D>=m&&d&&(x=_,R=b.controls&&b.controls.right||Uk.zero,C=x.controls&&x.controls.left||Uk.zero,b._relative?(E=R.x+b.x,M=R.y+b.y):(E=R.x,M=R.y),x._relative?(w=C.x+x.x,S=C.y+x.y):(w=C.x,S=C.y),P=x.x,A=x.y,e.bezierCurveTo(E,M,w,S,P,A));break;case Ek.line:e.lineTo(P,A);break;case Ek.move:_=b,e.moveTo(P,A)}return d&&e.closePath(),L||n||(RR.isHidden.test(a)||((I=a._renderer&&a._renderer.offset)&&(e.save(),e.translate(-a._renderer.offset.x,-a._renderer.offset.y),e.scale(a._renderer.scale.x,a._renderer.scale.y)),e.fill(),I&&e.restore()),RR.isHidden.test(i)||((I=i._renderer&&i._renderer.offset)&&(e.save(),e.translate(-i._renderer.offset.x,-i._renderer.offset.y),e.scale(i._renderer.scale.x,i._renderer.scale.y),e.lineWidth=o/i._renderer.scale.x),e.stroke(),I&&e.restore())),O||e.restore(),L&&!n&&e.clip(),N&&N.length>0&&e.setLineDash(yR),this.flagReset()}},text:{render:function(e,t,n){this._update();var r,i,o,a,s,l,c,u,h,d,f,p=this._matrix.elements,m=this._stroke,g=this._linewidth,v=this._fill,y=this._decoration,b=this._opacity*this.parent._renderer.opacity,x=this._visible,_=kR(p),w=v._renderer&&v._renderer.offset&&m._renderer&&m._renderer.offset,S=this.dashes,E=RR.alignments[this._alignment]||this._alignment,M=this._baseline,T=this._clip;if(!t&&(!x||T))return this;if(_||(e.save(),e.transform(p[0],p[3],p[1],p[4],p[2],p[5])),w||(e.font=[this._style,this._weight,this._size+"px/"+this._leading+"px",this._family].join(" ")),e.textAlign=E,e.textBaseline=M,v&&("string"==typeof v?e.fillStyle=v:(RR[v._renderer.type].render.call(v,e),e.fillStyle=v._renderer.effect)),m&&("string"==typeof m?e.strokeStyle=m:(RR[m._renderer.type].render.call(m,e),e.strokeStyle=m._renderer.effect),g&&(e.lineWidth=g)),"number"==typeof b&&(e.globalAlpha=b),S&&S.length>0&&(e.lineDashOffset=S.offset||0,e.setLineDash(S)),T||n||(RR.isHidden.test(v)||(v._renderer&&v._renderer.offset?(l=v._renderer.scale.x,c=v._renderer.scale.y,e.save(),e.translate(-v._renderer.offset.x,-v._renderer.offset.y),e.scale(l,c),r=this._size/v._renderer.scale.y,i=this._leading/v._renderer.scale.y,e.font=[this._style,this._weight,r+"px/",i+"px",this._family].join(" "),o=v._renderer.offset.x/v._renderer.scale.x,a=v._renderer.offset.y/v._renderer.scale.y,e.fillText(this.value,o,a),e.restore()):e.fillText(this.value,0,0)),RR.isHidden.test(m)||(m._renderer&&m._renderer.offset?(l=m._renderer.scale.x,c=m._renderer.scale.y,e.save(),e.translate(-m._renderer.offset.x,-m._renderer.offset.y),e.scale(l,c),r=this._size/m._renderer.scale.y,i=this._leading/m._renderer.scale.y,e.font=[this._style,this._weight,r+"px/",i+"px",this._family].join(" "),o=m._renderer.offset.x/m._renderer.scale.x,a=m._renderer.offset.y/m._renderer.scale.y,s=g/m._renderer.scale.x,e.lineWidth=s,e.strokeText(this.value,o,a),e.restore()):e.strokeText(this.value,0,0))),/(underline|strikethrough)/i.test(y)){var k=e.measureText(this.value),R=1;switch(y){case"underline":h=k.actualBoundingBoxAscent,f=k.actualBoundingBoxAscent;break;case"strikethrough":h=0,f=0,R=.5}switch(M){case"top":h+=this._size*R,f+=this._size*R;break;case"baseline":case"bottom":h-=this._size*R,f-=this._size*R}switch(E){case"left":case"start":u=0,d=k.width;break;case"right":case"end":u=-k.width,d=0;break;default:u=-k.width/2,d=k.width/2}e.lineWidth=Math.max(Math.floor(this._size/15),1),e.strokeStyle=e.fillStyle,e.beginPath(),e.moveTo(u,h),e.lineTo(d,f),e.stroke()}return _||e.restore(),T&&!n&&e.clip(),S&&S.length>0&&e.setLineDash(yR),this.flagReset()}},"linear-gradient":{render:function(e){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=e.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var t=0;t<this.stops.length;t++){var n=this.stops[t];this._renderer.effect.addColorStop(n._offset,n._color)}}return this.flagReset()}},"radial-gradient":{render:function(e){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=e.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var t=0;t<this.stops.length;t++){var n=this.stops[t];this._renderer.effect.addColorStop(n._offset,n._color)}}return this.flagReset()}},texture:{render:function(e){this._update();var t=this.image;return(!this._renderer.effect||(this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)&&(this._renderer.effect=e.createPattern(this.image,this._repeat)),(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof Uk||(this._renderer.offset=new Uk),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,t&&(this._renderer.offset.x+=t.width/2,this._renderer.offset.y+=t.height/2,this._scale instanceof Uk?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof Uk||(this._renderer.scale=new Uk),this._scale instanceof Uk?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}},renderSvgArcCommand:function(e,t,n,r,i,o,a,s,l,c){s=s*Math.PI/180,r=wR(r),i=wR(i);var u=(t-l)/2,h=(n-c)/2,d=ER(s)*u+SR(s)*h,f=-SR(s)*u+ER(s)*h,p=r*r,m=i*i,g=d*d,v=f*f,y=g/p+v/m;if(y>1){var b=TR(y);p=(r*=b)*r,m=(i*=b)*i}var x=p*v+m*g,_=TR(xR(0,(p*m-x)/x));o===a&&(_=-_);var w=_*r*f/i,S=-_*i*d/r,E=ER(s)*w-SR(s)*S+(t+l)/2,M=SR(s)*w+ER(s)*S+(n+c)/2,T=PR(1,0,(d-w)/r,(f-S)/i);!function(e,t,n,r,i,o,a,s,l){var c=Jk.Tolerance.epsilon,u=a-o,h=Math.abs(u)<c;(u=Ak(u,bR))<c&&(u=h?0:bR);!0!==s||h||(u===bR?u=-bR:u-=bR);for(var d=0;d<$k.Resolution;d++){var f=o+d/($k.Resolution-1)*u,p=t+r*Math.cos(f),m=n+i*Math.sin(f);if(0!==l){var g=Math.cos(l),v=Math.sin(l),y=p-t,b=m-n;p=y*g-b*v+t,m=y*v+b*g+n}e.lineTo(p,m)}}(e,E,M,r,i,T,T+PR((d-w)/r,(f-S)/i,(-d-w)/r,(-f-S)/i)%bR,0===a,s)}},CR=function(e){var t=!1!==e.smoothing;this.domElement=e.domElement||document.createElement("canvas"),this.ctx=this.domElement.getContext("2d"),this.overdraw=e.overdraw||!1,void 0!==this.ctx.imageSmoothingEnabled&&(this.ctx.imageSmoothingEnabled=t),this.scene=new gR,this.scene.parent=this};function PR(e,t,n,r){var i=e*n+t*r,o=TR(e*e+t*t)*TR(n*n+r*r),a=MR(xR(-1,_R(1,i/o)));return e*r-t*n<0&&(a=-a),a}Dk.extend(CR,{Utils:RR}),Dk.extend(CR.prototype,Fk,{constructor:CR,setSize:function(e,t,n){return this.width=e,this.height=t,this.ratio=void 0===n?uR(this.ctx):n,this.domElement.width=e*this.ratio,this.domElement.height=t*this.ratio,this.domElement.style&&Dk.extend(this.domElement.style,{width:e+"px",height:t+"px"}),this.trigger(Fk.Types.resize,e,t,n)},render:function(){var e=1===this.ratio;return e||(this.ctx.save(),this.ctx.scale(this.ratio,this.ratio)),this.overdraw||this.ctx.clearRect(0,0,this.width,this.height),RR.group.render.call(this.scene,this.ctx),e||this.ctx.restore(),this}});var AR={Image:null,isHeadless:!1,shim:function(e,t){return CR.Utils.shim(e),void 0!==t&&(AR.Image=t),AR.isHeadless=!0,e}},LR={temp:Tk.document?Tk.document.createElement("div"):{},hasEventListeners:"function"==typeof Tk.addEventListener,bind:function(e,t,n,r){return this.hasEventListeners?e.addEventListener(t,n,!!r):e.attachEvent("on"+t,n),LR},unbind:function(e,t,n,r){return LR.hasEventListeners?e.removeEventListeners(t,n,!!r):e.detachEvent("on"+t,n),LR},getRequestAnimationFrame:function(){var e,t=0,n=["ms","moz","webkit","o"],r=Tk.requestAnimationFrame;if(!r){for(var i=0;i<n.length;i++)r=Tk[n[i]+"RequestAnimationFrame"]||r,e=Tk[n[i]+"CancelAnimationFrame"]||Tk[n[i]+"CancelRequestAnimationFrame"]||e;r=r||function(e,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-t)),o=Tk.setTimeout((function(){e(r+i)}),i);return t=r+i,o}}return r}},OR=function(e){this.name="Two.js",this.message=e};(OR.prototype=new Error).constructor=OR;var IR=function(e){var t="_"+e,n="_flag"+e.charAt(0).toUpperCase()+e.slice(1);Object.defineProperty(this,e,{enumerable:!0,get:function(){return this[t]},set:function(e){this[t]=e,this[n]=!0}})},NR=function(){this.map={}};Dk.extend(NR.prototype,{constructor:NR,add:function(e,t){return this.map[e]=t,this},remove:function(e){return delete this.map[e],this},get:function(e){return this.map[e]},contains:function(e){return e in this.map}});var DR=function(e,t,n){this._renderer={},this._renderer.type="stop",this.offset="number"==typeof e?e:DR.Index<=0?0:1,this.opacity="number"==typeof n?n:1,this.color="string"==typeof t?t:DR.Index<=0?"#fff":"#000",DR.Index=(DR.Index+1)%2};Dk.extend(DR,{Index:0,Properties:["offset","opacity","color"],MakeObservable:function(e){Dk.each(DR.Properties,(function(e){var t="_"+e,n="_flag"+e.charAt(0).toUpperCase()+e.slice(1);Object.defineProperty(this,e,{enumerable:!0,get:function(){return this[t]},set:function(e){this[t]=e,this[n]=!0,this.parent&&(this.parent._flagStops=!0)}})}),e)}}),Dk.extend(DR.prototype,Fk,{constructor:DR,clone:function(){var e=new DR;return Dk.each(DR.Properties,(function(t){e[t]=this[t]}),this),e},toObject:function(){var e={};return Dk.each(DR.Properties,(function(t){e[t]=this[t]}),this),e},flagReset:function(){return this._flagOffset=this._flagColor=this._flagOpacity=!1,this}}),DR.MakeObservable(DR.prototype),DR.prototype.constructor=DR;var zR=function(e){this._renderer={},this._renderer.type="gradient",this.id=$k.Identifier+$k.uniqueId(),this.classList=[],this._renderer.flagStops=zR.FlagStops.bind(this),this._renderer.bindStops=zR.BindStops.bind(this),this._renderer.unbindStops=zR.UnbindStops.bind(this),this.spread="pad",this.stops=e};Dk.extend(zR,{Stop:DR,Properties:["spread"],MakeObservable:function(e){Dk.each(zR.Properties,IR,e),Object.defineProperty(e,"stops",{enumerable:!0,get:function(){return this._stops},set:function(e){this._renderer.flagStops;var t=this._renderer.bindStops,n=this._renderer.unbindStops;this._stops&&this._stops.unbind(Fk.Types.insert,t).unbind(Fk.Types.remove,n),this._stops=new hR((e||[]).slice(0)),this._stops.bind(Fk.Types.insert,t).bind(Fk.Types.remove,n),t(this._stops)}})},FlagStops:function(){this._flagStops=!0},BindStops:function(e){for(var t=e.length;t--;)e[t].bind(Fk.Types.change,this._renderer.flagStops),e[t].parent=this;this._renderer.flagStops()},UnbindStops:function(e){for(var t=e.length;t--;)e[t].unbind(Fk.Types.change,this._renderer.flagStops),delete e[t].parent;this._renderer.flagStops()}}),Dk.extend(zR.prototype,Fk,{_flagStops:!1,_flagSpread:!1,clone:function(e){var t=this.stops.map((function(e){return e.clone()})),n=new zR(t);return Dk.each(zR.Properties,(function(e){n[e]=this[e]}),this),e&&e.add(n),n},toObject:function(){var e={stops:this.stops.map((function(e){return e.toObject()}))};return Dk.each(zR.Properties,(function(t){e[t]=this[t]}),this),e},_update:function(){return(this._flagSpread||this._flagStops)&&this.trigger(Fk.Types.change),this},flagReset:function(){return this._flagSpread=this._flagStops=!1,this}}),zR.MakeObservable(zR.prototype);var FR=function(e,t,n,r,i){zR.call(this,i),this._renderer.type="linear-gradient";var o=FR.FlagEndPoints.bind(this);this.left=(new Uk).bind(Fk.Types.change,o),this.right=(new Uk).bind(Fk.Types.change,o),"number"==typeof e&&(this.left.x=e),"number"==typeof t&&(this.left.y=t),"number"==typeof n&&(this.right.x=n),"number"==typeof r&&(this.right.y=r)};Dk.extend(FR,{Stop:DR,MakeObservable:function(e){zR.MakeObservable(e)},FlagEndPoints:function(){this._flagEndPoints=!0}}),Dk.extend(FR.prototype,zR.prototype,{_flagEndPoints:!1,constructor:FR,clone:function(e){var t=this.stops.map((function(e){return e.clone()})),n=new FR(this.left._x,this.left._y,this.right._x,this.right._y,t);return Dk.each(zR.Properties,(function(e){n[e]=this[e]}),this),e&&e.add(n),n},toObject:function(){var e=zR.prototype.toObject.call(this);return e.left=this.left.toObject(),e.right=this.right.toObject(),e},_update:function(){return(this._flagEndPoints||this._flagSpread||this._flagStops)&&this.trigger(Fk.Types.change),this},flagReset:function(){return this._flagEndPoints=!1,zR.prototype.flagReset.call(this),this}}),FR.MakeObservable(FR.prototype);var UR,BR=function(e,t,n,r,i,o){zR.call(this,r),this._renderer.type="radial-gradient",this.center=(new Uk).bind(Fk.Types.change,function(){this._flagCenter=!0}.bind(this)),this.radius="number"==typeof n?n:20,this.focal=(new Uk).bind(Fk.Types.change,function(){this._flagFocal=!0}.bind(this)),"number"==typeof e&&(this.center.x=e),"number"==typeof t&&(this.center.y=t),this.focal.copy(this.center),"number"==typeof i&&(this.focal.x=i),"number"==typeof o&&(this.focal.y=o)};Dk.extend(BR,{Stop:DR,Properties:["radius"],MakeObservable:function(e){zR.MakeObservable(e),Dk.each(BR.Properties,IR,e)}}),Dk.extend(BR.prototype,zR.prototype,{_flagRadius:!1,_flagCenter:!1,_flagFocal:!1,constructor:BR,clone:function(e){var t=this.stops.map((function(e){return e.clone()})),n=new BR(this.center._x,this.center._y,this._radius,t,this.focal._x,this.focal._y);return Dk.each(zR.Properties.concat(BR.Properties),(function(e){n[e]=this[e]}),this),e&&e.add(n),n},toObject:function(){var e=zR.prototype.toObject.call(this);return Dk.each(BR.Properties,(function(t){e[t]=this[t]}),this),e.center=this.center.toObject(),e.focal=this.focal.toObject(),e},_update:function(){return(this._flagRadius||this._flatCenter||this._flagFocal||this._flagSpread||this._flagStops)&&this.trigger(Fk.Types.change),this},flagReset:function(){return this._flagRadius=this._flagCenter=this._flagFocal=!1,zR.prototype.flagReset.call(this),this}}),BR.MakeObservable(BR.prototype);var jR={video:/\.(mp4|webm|ogg)$/i,image:/\.(jpe?g|png|gif|tiff|webp)$/i,effect:/texture|gradient/i};Tk.document&&(UR=document.createElement("a"));var HR=function(e,t){if(this._renderer={},this._renderer.type="texture",this._renderer.flagOffset=HR.FlagOffset.bind(this),this._renderer.flagScale=HR.FlagScale.bind(this),this.id=$k.Identifier+$k.uniqueId(),this.classList=[],this.loaded=!1,this.repeat="no-repeat",this.offset=new Uk,"function"==typeof t){var n=function(){this.unbind(Fk.Types.load,n),"function"==typeof t&&t()}.bind(this);this.bind(Fk.Types.load,n)}if("string"==typeof e)this.src=e;else if("object"==typeof e){var r=Object.prototype.toString.call(e);"[object HTMLImageElement]"!==r&&"[object HTMLCanvasElement]"!==r&&"[object HTMLVideoElement]"!==r&&"[object Image]"!==r||(this.image=e)}this._update()};Dk.extend(HR,{Properties:["src","loaded","repeat"],RegularExpressions:jR,ImageRegistry:new NR,getAbsoluteURL:function(e){return UR?(UR.href=e,UR.href):e},loadHeadlessBuffer:function(e,t){e.image.onload=t,e.image.src=e.src},getTag:function(e){return e&&e.nodeName&&e.nodeName.toLowerCase()||"img"},getImage:function(e){var t,n=HR.getAbsoluteURL(e);return HR.ImageRegistry.contains(n)?HR.ImageRegistry.get(n):(AR.Image?(t=new AR.Image,CR.Utils.shim(t,"img")):Tk.document?t=jR.video.test(n)?document.createElement("video"):document.createElement("img"):console.warn("Two.js: no prototypical image defined for Two.Texture"),t.crossOrigin="anonymous",t)},Register:{canvas:function(e,t){e._src="#"+e.id,HR.ImageRegistry.add(e.src,e.image),"function"==typeof t&&t()},img:function(e,t){var n=e.image,r=function(e){!AR.isHeadless&&n.removeEventListener&&"function"==typeof n.removeEventListener&&(n.removeEventListener("load",r,!1),n.removeEventListener("error",i,!1)),"function"==typeof t&&t()},i=function(t){throw AR.isHeadless||"function"!=typeof n.removeEventListener||(n.removeEventListener("load",r,!1),n.removeEventListener("error",i,!1)),new OR("unable to load "+e.src)};"number"==typeof n.width&&n.width>0&&"number"==typeof n.height&&n.height>0?r():AR.isHeadless||"function"!=typeof n.addEventListener||(n.addEventListener("load",r,!1),n.addEventListener("error",i,!1)),e._src=HR.getAbsoluteURL(e._src),!AR.isHeadless&&n&&n.getAttribute("two-src")||(AR.isHeadless||n.setAttribute("two-src",e.src),HR.ImageRegistry.add(e.src,n),AR.isHeadless?HR.loadHeadlessBuffer(e,r):e.image.src=e.src)},video:function(e,t){if(AR.isHeadless)throw new OR("video textures are not implemented in headless environments.");var n=function(i){e.image.removeEventListener("canplaythrough",n,!1),e.image.removeEventListener("error",r,!1),e.image.width=e.image.videoWidth,e.image.height=e.image.videoHeight,"function"==typeof t&&t()},r=function(t){throw e.image.removeEventListener("canplaythrough",n,!1),e.image.removeEventListener("error",r,!1),new OR("unable to load "+e.src)};e._src=HR.getAbsoluteURL(e._src),e.image.getAttribute("two-src")||(e.image.setAttribute("two-src",e.src),HR.ImageRegistry.add(e.src,e.image)),e.image.readyState>=4?n():(e.image.addEventListener("canplaythrough",n,!1),e.image.addEventListener("error",r,!1),e.image.src=e.src,e.image.load())}},load:function(e,t){e.src;var n=e.image,r=HR.getTag(n);e._flagImage&&(/canvas/i.test(r)?HR.Register.canvas(e,t):(e._src=!AR.isHeadless&&n.getAttribute("two-src")||n.src,HR.Register[r](e,t))),e._flagSrc&&(n||(n=HR.getImage(e.src),e.image=n),r=HR.getTag(n),HR.Register[r](e,t))},FlagOffset:function(){this._flagOffset=!0},FlagScale:function(){this._flagScale=!0},MakeObservable:function(e){Dk.each(HR.Properties,IR,e),Object.defineProperty(e,"image",{enumerable:!0,get:function(){return this._image},set:function(e){var t;switch(HR.getTag(e)){case"canvas":t="#"+e.id;break;default:t=e.src}HR.ImageRegistry.contains(t)?this._image=HR.ImageRegistry.get(e.src):this._image=e,this._flagImage=!0}}),Object.defineProperty(e,"offset",{enumerable:!0,get:function(){return this._offset},set:function(e){this._offset&&this._offset.unbind(Fk.Types.change,this._renderer.flagOffset),this._offset=e,this._offset.bind(Fk.Types.change,this._renderer.flagOffset),this._flagOffset=!0}}),Object.defineProperty(e,"scale",{enumerable:!0,get:function(){return this._scale},set:function(e){this._scale instanceof Uk&&this._scale.unbind(Fk.Types.change,this._renderer.flagScale),this._scale=e,this._scale instanceof Uk&&this._scale.bind(Fk.Types.change,this._renderer.flagScale),this._flagScale=!0}})}}),Dk.extend(HR.prototype,Fk,dR.prototype,{_flagSrc:!1,_flagImage:!1,_flagVideo:!1,_flagLoaded:!1,_flagRepeat:!1,_flagOffset:!1,_flagScale:!1,_src:"",_image:null,_loaded:!1,_repeat:"no-repeat",_scale:1,_offset:null,constructor:HR,clone:function(){var e=new HR(this.src);return e.repeat=this.repeat,e.offset.copy(this.origin),e.scale=this.scale,e},toObject:function(){return{src:this.src,repeat:this.repeat,origin:this.origin.toObject(),scale:"number"==typeof this.scale?this.scale:this.scale.toObject()}},_update:function(){return(this._flagSrc||this._flagImage)&&(this.trigger(Fk.Types.change),(this._flagSrc||this._flagImage)&&(this.loaded=!1,HR.load(this,function(){this.loaded=!0,this.trigger(Fk.Types.change).trigger(Fk.Types.load)}.bind(this)))),this._image&&this._image.readyState>=4&&(this._flagVideo=!0),this},flagReset:function(){return this._flagSrc=this._flagImage=this._flagLoaded=this._flagVideo=this._flagScale=this._flagOffset=!1,this}}),HR.MakeObservable(HR.prototype);var VR=Math.min,GR=Math.max,WR=Math.ceil,qR=Math.floor,XR=function(e,t,n,r){dR.call(this),this._renderer.type="path",this._renderer.flagVertices=XR.FlagVertices.bind(this),this._renderer.bindVertices=XR.BindVertices.bind(this),this._renderer.unbindVertices=XR.UnbindVertices.bind(this),this._renderer.flagFill=XR.FlagFill.bind(this),this._renderer.flagStroke=XR.FlagStroke.bind(this),this._renderer.vertices=[],this._renderer.collection=[],this._closed=!!t,this._curved=!!n,this.beginning=0,this.ending=1,this.fill="#fff",this.stroke="#000",this.linewidth=1,this.opacity=1,this.className="",this.visible=!0,this.cap="butt",this.join="miter",this.miter=4,this.vertices=e,this.automatic=!r,this.dashes=[],this.dashes.offset=0};function YR(e,t){if(0===t||1===t)return!0;for(var n=e._length*t,r=0,i=0;i<e._lengths.length;i++){var o=e._lengths[i];if(r>=n)return n-r>=0;r+=o}return!1}function ZR(e,t){var n=e._length;if(t<=0)return 0;if(t>=n)return e._lengths.length-1;for(var r=0,i=0;r<e._lengths.length;r++){if(i+e._lengths[r]>=t)return t-=i,Math.max(r-1,0)+t/e._lengths[r];i+=e._lengths[r]}return-1}function QR(e,t,n){var r,i,o,a,s,l,c,u,h=t.controls&&t.controls.right,d=e.controls&&e.controls.left;return r=t.x,s=t.y,i=(h||t).x,l=(h||t).y,o=(d||e).x,c=(d||e).y,a=e.x,u=e.y,h&&t._relative&&(i+=t.x,l+=t.y),d&&e._relative&&(o+=e.x,c+=e.y),nR(r,s,i,l,o,c,a,u,n)}function $R(e,t,n){var r,i,o,a,s,l,c,u,h=t.controls&&t.controls.right,d=e.controls&&e.controls.left;return r=t.x,s=t.y,i=(h||t).x,l=(h||t).y,o=(d||e).x,c=(d||e).y,a=e.x,u=e.y,h&&t._relative&&(i+=t.x,l+=t.y),d&&e._relative&&(o+=e.x,c+=e.y),tR(r,s,i,l,o,c,a,u,n)}Dk.extend(XR,{Properties:["fill","stroke","linewidth","opacity","visible","cap","join","miter","closed","curved","automatic","beginning","ending"],Utils:{getCurveLength:QR},FlagVertices:function(){this._flagVertices=!0,this._flagLength=!0,this.parent&&(this.parent._flagLength=!0)},BindVertices:function(e){for(var t=e.length;t--;)e[t].bind(Fk.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()},UnbindVertices:function(e){for(var t=e.length;t--;)e[t].unbind(Fk.Types.change,this._renderer.flagVertices);this._renderer.flagVertices()},FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(e){dR.MakeObservable(e),Dk.each(XR.Properties.slice(2,8),IR,e),Object.defineProperty(e,"fill",{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof zR||this._fill instanceof FR||this._fill instanceof BR||this._fill instanceof HR)&&this._fill.unbind(Fk.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof zR||this._fill instanceof FR||this._fill instanceof BR||this._fill instanceof HR)&&this._fill.bind(Fk.Types.change,this._renderer.flagFill)}}),Object.defineProperty(e,"stroke",{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof zR||this._stroke instanceof FR||this._stroke instanceof BR||this._stroke instanceof HR)&&this._stroke.unbind(Fk.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof zR||this._stroke instanceof FR||this._stroke instanceof BR||this._stroke instanceof HR)&&this._stroke.bind(Fk.Types.change,this._renderer.flagStroke)}}),Object.defineProperty(e,"length",{get:function(){return this._flagLength&&this._updateLength(),this._length}}),Object.defineProperty(e,"closed",{enumerable:!0,get:function(){return this._closed},set:function(e){this._closed=!!e,this._flagVertices=!0}}),Object.defineProperty(e,"curved",{enumerable:!0,get:function(){return this._curved},set:function(e){this._curved=!!e,this._flagVertices=!0}}),Object.defineProperty(e,"automatic",{enumerable:!0,get:function(){return this._automatic},set:function(e){if(e!==this._automatic){this._automatic=!!e;var t=this._automatic?"ignore":"listen";Dk.each(this.vertices,(function(e){e[t]()}))}}}),Object.defineProperty(e,"beginning",{enumerable:!0,get:function(){return this._beginning},set:function(e){this._beginning=e,this._flagVertices=!0}}),Object.defineProperty(e,"ending",{enumerable:!0,get:function(){return this._ending},set:function(e){this._ending=e,this._flagVertices=!0}}),Object.defineProperty(e,"vertices",{enumerable:!0,get:function(){return this._collection},set:function(e){this._renderer.flagVertices;var t=this._renderer.bindVertices,n=this._renderer.unbindVertices;this._collection&&this._collection.unbind(Fk.Types.insert,t).unbind(Fk.Types.remove,n),this._collection=e instanceof hR?e:new hR(e||[]),this._collection.bind(Fk.Types.insert,t).bind(Fk.Types.remove,n),t(this._collection)}}),Object.defineProperty(e,"clip",{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}}),Object.defineProperty(e,"dashes",{enumerable:!0,get:function(){return this._dashes},set:function(e){"number"!=typeof e.offset&&(e.offset=this._dashes.offset||0),this._dashes=e}})}}),Dk.extend(XR.prototype,dR.prototype,{_flagVertices:!0,_flagLength:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagVisible:!0,_flagCap:!0,_flagJoin:!0,_flagMiter:!0,_flagClip:!1,_length:0,_fill:"#fff",_stroke:"#000",_linewidth:1,_opacity:1,_visible:!0,_cap:"round",_join:"round",_miter:4,_closed:!0,_curved:!1,_automatic:!0,_beginning:0,_ending:1,_clip:!1,_dashes:[],constructor:XR,clone:function(e){for(var t=new XR,n=0;n<this.vertices.length;n++)t.vertices.push(this.vertices[n].clone());for(var r=0;r<XR.Properties.length;r++){var i=XR.Properties[r];t[i]=this[i]}return t.className=this.className,t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()},toObject:function(){var e={vertices:this.vertices.map((function(e){return e.toObject()}))};return Dk.each(XR.Properties,(function(t){e[t]=this[t]}),this),e.className=this.className,e.translation=this.translation.toObject(),e.rotation=this.rotation,e.scale=this.scale instanceof Uk?this.scale.toObject():this.scale,this.matrix.manual&&(e.matrix=this.matrix.toObject()),e},noFill:function(){return this.fill="transparent",this},noStroke:function(){return this.stroke=void 0,this},corner:function(){var e=this.getBoundingClientRect(!0);return e.centroid={x:e.left+e.width/2,y:e.top+e.height/2},Dk.each(this.vertices,(function(t){t.subSelf(e.centroid),t.x+=e.width/2,t.y+=e.height/2})),this},center:function(){var e=this.getBoundingClientRect(!0);return e.centroid={x:e.left+e.width/2-this.translation.x,y:e.top+e.height/2-this.translation.y},Dk.each(this.vertices,(function(t){t.subSelf(e.centroid)})),this},remove:function(){return this.parent?(this.parent.remove(this),this):this},getBoundingClientRect:function(e){var t,n,r,i,o,a,s,l,c=1/0,u=-1/0,h=1/0,d=-1/0;if(this._update(!0),t=e?this._matrix:Ck(this),n=this.linewidth/2,(r=this._renderer.vertices.length)<=0)return{width:0,height:0};for(i=0;i<r;i++)if(l=this._renderer.vertices[i],(o=this._renderer.vertices[(i+r-1)%r]).controls&&l.controls){a=o.relative?t.multiply(o.controls.right.x+o.x,o.controls.right.y+o.y,1):t.multiply(o.controls.right.x,o.controls.right.y,1),o=t.multiply(o.x,o.y,1),s=l.relative?t.multiply(l.controls.left.x+l.x,l.controls.left.y+l.y,1):t.multiply(l.controls.left.x,l.controls.left.y,1),l=t.multiply(l.x,l.y,1);var f=rR(o.x,o.y,a.x,a.y,s.x,s.y,l.x,l.y);h=VR(f.min.y-n,h),c=VR(f.min.x-n,c),u=GR(f.max.x+n,u),d=GR(f.max.y+n,d)}else i<=1&&(o=t.multiply(o.x,o.y,1),h=VR(o.y-n,h),c=VR(o.x-n,c),u=GR(o.x+n,u),d=GR(o.y+n,d)),l=t.multiply(l.x,l.y,1),h=VR(l.y-n,h),c=VR(l.x-n,c),u=GR(l.x+n,u),d=GR(l.y+n,d);return{top:h,left:c,right:u,bottom:d,width:u-c,height:d-h}},getPointAt:function(e,t){for(var n,r,i,o,a,s,l,c,u,h,d,f,p,m,g,v=this.length*Math.min(Math.max(e,0),1),y=this.vertices.length,b=y-1,x=null,_=null,w=0,S=this._lengths.length,E=0;w<S;w++){if(E+this._lengths[w]>=v){this._closed?(n=Ak(w,y),r=Ak(w-1,y),0===w&&(n=r,r=w)):(n=w,r=Math.min(Math.max(w-1,0),b)),x=this.vertices[n],_=this.vertices[r],v-=E,e=0!==this._lengths[w]?v/this._lengths[w]:0;break}E+=this._lengths[w]}if(null===x||null===_)return null;if(!x)return _;if(!_)return x;g=_.controls&&_.controls.right,m=x.controls&&x.controls.left,a=_.x,h=_.y,s=(g||_).x,d=(g||_).y,l=(m||x).x,f=(m||x).y,c=x.x,p=x.y,g&&_.relative&&(s+=_.x,d+=_.y),m&&x.relative&&(l+=x.x,f+=x.y),o=eR(e,a,s,l,c),u=eR(e,h,d,f,p);var M=Pk(a,s,e),T=Pk(h,d,e),k=Pk(s,l,e),R=Pk(d,f,e),C=Pk(l,c,e),P=Pk(f,p,e),A=Pk(M,k,e),L=Pk(T,R,e),O=Pk(k,C,e),I=Pk(R,P,e);return Dk.isObject(t)?(t.x=o,t.y=u,Dk.isObject(t.controls)||Vk.AppendCurveProperties(t),t.controls.left.x=A,t.controls.left.y=L,t.controls.right.x=O,t.controls.right.y=I,("boolean"===(t.relative,!1)||t.relative)&&(t.controls.left.x-=o,t.controls.left.y-=u,t.controls.right.x-=o,t.controls.right.y-=u),t.t=e,t):((i=new Vk(o,u,A-o,L-u,O-o,I-u,this._curved?Ek.curve:Ek.line)).t=e,i)},plot:function(){if(this.curved)return oR(this._collection,this.closed),this;for(var e=0;e<this._collection.length;e++)this._collection[e].command=0===e?Ek.move:Ek.line;return this},subdivide:function(e){this._update();var t=this.vertices.length-1,n=this.vertices[t],r=this._closed||this.vertices[t]._command===Ek.close,i=[];return Dk.each(this.vertices,(function(o,a){if(a<=0&&!r)n=o;else{if(o.command===Ek.move)return i.push(new Vk(n.x,n.y)),a>0&&(i[i.length-1].command=Ek.line),void(n=o);var s=$R(o,n,e);i=i.concat(s),Dk.each(s,(function(e,t){t<=0&&n.command===Ek.move?e.command=Ek.move:e.command=Ek.line})),a>=t&&(this._closed&&this._automatic?(s=$R(o,n=o,e),i=i.concat(s),Dk.each(s,(function(e,t){t<=0&&n.command===Ek.move?e.command=Ek.move:e.command=Ek.line}))):r&&i.push(new Vk(o.x,o.y)),i[i.length-1].command=r?Ek.close:Ek.line),n=o}}),this),this._automatic=!1,this._curved=!1,this.vertices=i,this},_updateLength:function(e,t){t||this._update();var n=this.vertices.length,r=n-1,i=this.vertices[r],o=0;return void 0===this._lengths&&(this._lengths=[]),Dk.each(this.vertices,(function(t,n){if(n<=0||t.command===Ek.move)return i=t,void(this._lengths[n]=0);this._lengths[n]=QR(t,i,e),o+=this._lengths[n],i=t}),this),this._length=o,this._flagLength=!1,this},_update:function(){if(this._flagVertices){this._automatic&&this.plot(),this._flagLength&&this._updateLength(void 0,!0);var e,t,n,r,i,o=this._collection.length,a=this._closed,s=Math.min(this._beginning,this._ending),l=Math.max(this._beginning,this._ending),c=ZR(this,s*this._length),u=ZR(this,l*this._length),h=WR(c),d=qR(u);this._renderer.vertices.length=0;for(var f=0;f<o;f++)this._renderer.collection.length<=f&&this._renderer.collection.push(new Vk),f>d&&!t?((i=this._renderer.collection[f]).copy(this._collection[f]),this.getPointAt(l,i),i.command=this._renderer.collection[f].command,this._renderer.vertices.push(i),t=i,(n=this._collection[f-1])&&n.controls&&(i.controls.right.clear(),this._renderer.collection[f-1].controls.right.clear().lerp(n.controls.right,i.t))):f>=h&&f<=d&&(i=this._renderer.collection[f].copy(this._collection[f]),this._renderer.vertices.push(i),f===d&&YR(this,l)?(t=i,!a&&t.controls&&t.controls.right.clear()):f===h&&YR(this,s)&&((e=i).command=Ek.move,!a&&e.controls&&e.controls.left.clear()));h>0&&!e&&(f=h-1,(i=this._renderer.collection[f]).copy(this._collection[f]),this.getPointAt(s,i),i.command=Ek.move,this._renderer.vertices.unshift(i),e=i,(r=this._collection[f+1])&&r.controls&&(i.controls.left.clear(),this._renderer.collection[f+1].controls.left.copy(r.controls.left).lerp(Uk.zero,i.t)))}return dR.prototype._update.apply(this,arguments),this},flagReset:function(){return this._flagVertices=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagCap=this._flagJoin=this._flagMiter=this._flagClip=!1,dR.prototype.flagReset.call(this),this}}),XR.MakeObservable(XR.prototype);var KR=2*Math.PI,JR=Math.PI/2,eC=Math.cos,tC=Math.sin,nC=function(e,t,n,r){for(var i=r?Math.max(r,2):4,o=[],a=0;a<i;a++)o.push(new Vk);XR.call(this,o,!0,!0,!0),this.radius=n,this._update(),"number"==typeof e&&(this.translation.x=e),"number"==typeof t&&(this.translation.y=t)};Dk.extend(nC,{Properties:["radius"],MakeObservable:function(e){XR.MakeObservable(e),Dk.each(nC.Properties,IR,e)}}),Dk.extend(nC.prototype,XR.prototype,{_flagRadius:!1,_radius:0,constructor:nC,_update:function(){if(this._flagRadius)for(var e=4/3*Math.tan(Math.PI/(2*this.vertices.length)),t=this._radius,n=t*e,r=0,i=this.vertices.length;r<i;r++){var o=r/i*KR,a=t*eC(o),s=t*tC(o),l=n*eC(o-JR),c=n*tC(o-JR),u=n*eC(o+JR),h=n*tC(o+JR),d=this.vertices[r];d.command=Ek.curve,d.set(a,s),d.controls.left.set(l,c),d.controls.right.set(u,h)}return XR.prototype._update.call(this),this},flagReset:function(){return this._flagRadius=!1,XR.prototype.flagReset.call(this),this},clone:function(e){var t=new nC(0,0,this.radius,this.vertices.length);return t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,this.matrix.manual&&t.matrix.copy(this.matrix),Dk.each(XR.Properties,(function(e){t[e]=this[e]}),this),e&&e.add(t),t},toObject:function(){var e=XR.prototype.toObject.call(this);return Dk.each(nC.Properties,(function(t){e[t]=this[t]}),this),e}}),nC.MakeObservable(nC.prototype);var rC=2*Math.PI,iC=Math.PI/2,oC=Math.cos,aC=Math.sin,sC=function(e,t,n,r,i){"number"!=typeof r&&(r=n);for(var o=i?Math.max(i,2):4,a=[],s=0;s<o;s++)a.push(new Vk);XR.call(this,a,!0,!0,!0),this.width=2*n,this.height=2*r,this._update(),this.translation.set(e,t)};Dk.extend(sC,{Properties:["width","height"],MakeObservable:function(e){XR.MakeObservable(e),Dk.each(sC.Properties,IR,e)}}),Dk.extend(sC.prototype,XR.prototype,{_flagWidth:!1,_flagHeight:!1,_width:0,_height:0,constructor:sC,_update:function(){if(this._flagWidth||this._flagHeight)for(var e=4/3*Math.tan(Math.PI/(2*this.vertices.length)),t=this._width/2,n=this._height/2,r=0,i=this.vertices.length;r<i;r++){var o=r/i*rC,a=t*oC(o),s=n*aC(o),l=t*e*oC(o-iC),c=n*e*aC(o-iC),u=t*e*oC(o+iC),h=n*e*aC(o+iC),d=this.vertices[r];d.command=Ek.curve,d.set(a,s),d.controls.left.set(l,c),d.controls.right.set(u,h)}return XR.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,XR.prototype.flagReset.call(this),this},clone:function(e){var t=this.width/2,n=this.height/2,r=this.vertices.length,i=new sC(0,0,t,n,r);return i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,this.matrix.manual&&i.matrix.copy(this.matrix),Dk.each(XR.Properties,(function(e){i[e]=this[e]}),this),e&&e.add(i),i},toObject:function(){var e=XR.prototype.toObject.call(this);return Dk.each(sC.Properties,(function(t){e[t]=this[t]}),this),e}}),sC.MakeObservable(sC.prototype);var lC=function(e,t,n,r){XR.call(this,[new Vk(e,t),new Vk(n,r)]),this.vertices[0].command=Ek.move,this.vertices[1].command=Ek.line,this.automatic=!1};Dk.extend(lC.prototype,XR.prototype),lC.prototype.constructor=lC,XR.MakeObservable(lC.prototype);var cC=function(e,t,n,r){XR.call(this,[new Vk,new Vk,new Vk,new Vk],!0,!1,!0),this.width=n,this.height=r,this.origin=new Uk,this.translation.set(e,t),this._update()};Dk.extend(cC,{Properties:["width","height"],MakeObservable:function(e){XR.MakeObservable(e),Dk.each(cC.Properties,IR,e),Object.defineProperty(e,"origin",{enumerable:!0,get:function(){return this._origin},set:function(e){this._origin&&this._origin.unbind(Fk.Types.change,this._renderer.flagVertices),this._origin=e,this._origin.bind(Fk.Types.change,this._renderer.flagVertices),this._renderer.flagVertices()}})}}),Dk.extend(cC.prototype,XR.prototype,{_flagWidth:0,_flagHeight:0,_width:0,_height:0,_origin:null,constructor:cC,_update:function(){if(this._flagWidth||this._flagHeight){var e=this._width/2,t=this._height/2;this.vertices[0].set(-e,-t).add(this._origin).command=Ek.move,this.vertices[1].set(e,-t).add(this._origin).command=Ek.line,this.vertices[2].set(e,t).add(this._origin).command=Ek.line,this.vertices[3].set(-e,t).add(this._origin).command=Ek.line,this.vertices[4]&&(this.vertices[4].set(-e,-t).add(this._origin).command=Ek.line)}return XR.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=!1,XR.prototype.flagReset.call(this),this},clone:function(e){var t=new cC(0,0,this.width,this.height);return t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,this.matrix.manual&&t.matrix.copy(this.matrix),Dk.each(XR.Properties,(function(e){t[e]=this[e]}),this),e&&e.add(t),t},toObject:function(){var e=XR.prototype.toObject.call(this);return e.width=this.width,e.height=this.height,e.origin=this.origin.toObject(),e}}),cC.MakeObservable(cC.prototype);var uC=function(e,t,n,r,i){void 0===i&&(i=Math.floor(Math.min(n,r)/12));for(var o=[],a=0;a<10;a++)o.push(new Vk(0,0,0,0,0,0,0===a?Ek.move:Ek.curve));XR.call(this,o),this.closed=!0,this.automatic=!1,this._renderer.flagRadius=uC.FlagRadius.bind(this),this.width=n,this.height=r,this.radius=i,this._update(),this.translation.set(e,t)};Dk.extend(uC,{Properties:["width","height"],FlagRadius:function(){this._flagRadius=!0},MakeObservable:function(e){XR.MakeObservable(e),Dk.each(uC.Properties,IR,e),Object.defineProperty(e,"radius",{enumerable:!0,get:function(){return this._radius},set:function(e){this._radius instanceof Uk&&this._radius.unbind(Fk.Types.change,this._renderer.flagRadius),this._radius=e,this._radius instanceof Uk&&this._radius.bind(Fk.Types.change,this._renderer.flagRadius),this._flagRadius=!0}})}}),Dk.extend(uC.prototype,XR.prototype,{_flagWidth:!1,_flagHeight:!1,_flagRadius:!1,_width:0,_height:0,_radius:0,constructor:uC,_update:function(){if(this._flagWidth||this._flagHeight||this._flagRadius){var e,t,n,r=this._width,i=this._height;this._radius instanceof Uk?(e=this._radius.x,t=this._radius.y):(e=this._radius,t=this._radius);var o=r/2,a=i/2;(n=this.vertices[0]).x=-(o-e),n.y=-a,(n=this.vertices[1]).x=o-e,n.y=-a,n.controls.left.clear(),n.controls.right.x=e,n.controls.right.y=0,(n=this.vertices[2]).x=o,n.y=-(a-t),n.controls.right.clear(),n.controls.left.clear(),(n=this.vertices[3]).x=o,n.y=a-t,n.controls.left.clear(),n.controls.right.x=0,n.controls.right.y=t,(n=this.vertices[4]).x=o-e,n.y=a,n.controls.right.clear(),n.controls.left.clear(),(n=this.vertices[5]).x=-(o-e),n.y=a,n.controls.left.clear(),n.controls.right.x=-e,n.controls.right.y=0,(n=this.vertices[6]).x=-o,n.y=a-t,n.controls.left.clear(),n.controls.right.clear(),(n=this.vertices[7]).x=-o,n.y=-(a-t),n.controls.left.clear(),n.controls.right.x=0,n.controls.right.y=-t,(n=this.vertices[8]).x=-(o-e),n.y=-a,n.controls.left.clear(),n.controls.right.clear(),(n=this.vertices[9]).copy(this.vertices[8])}return XR.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagRadius=!1,XR.prototype.flagReset.call(this),this},clone:function(e){var t=this.width,n=this.height,r=this.radius,i=new uC(0,0,t,n,r);return i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,this.matrix.manual&&i.matrix.copy(this.matrix),Dk.each(XR.Properties,(function(e){i[e]=this[e]}),this),e&&e.add(i),i},toObject:function(){var e=XR.prototype.toObject.call(this);return Dk.each(uC.Properties,(function(t){e[t]=this[t]}),this),e.radius="number"==typeof this.radius?this.radius:this.radius.toObject(),e}}),uC.MakeObservable(uC.prototype);var hC=function(e,t,n,r){if(dR.call(this),this._renderer.type="text",this._renderer.flagFill=hC.FlagFill.bind(this),this._renderer.flagStroke=hC.FlagStroke.bind(this),this.value=e,"number"==typeof t&&(this.translation.x=t),"number"==typeof n&&(this.translation.y=n),this.dashes=[],this.dashes.offset=0,!Dk.isObject(r))return this;Dk.each(hC.Properties,(function(e){e in r&&(this[e]=r[e])}),this)};Dk.extend(hC,{Ratio:.6,Properties:["value","family","size","leading","alignment","linewidth","style","weight","decoration","baseline","opacity","visible","className","fill","stroke"],FlagFill:function(){this._flagFill=!0},FlagStroke:function(){this._flagStroke=!0},MakeObservable:function(e){dR.MakeObservable(e),Dk.each(hC.Properties.slice(0,12),IR,e),Object.defineProperty(e,"fill",{enumerable:!0,get:function(){return this._fill},set:function(e){(this._fill instanceof zR||this._fill instanceof FR||this._fill instanceof BR||this._fill instanceof HR)&&this._fill.unbind(Fk.Types.change,this._renderer.flagFill),this._fill=e,this._flagFill=!0,(this._fill instanceof zR||this._fill instanceof FR||this._fill instanceof BR||this._fill instanceof HR)&&this._fill.bind(Fk.Types.change,this._renderer.flagFill)}}),Object.defineProperty(e,"stroke",{enumerable:!0,get:function(){return this._stroke},set:function(e){(this._stroke instanceof zR||this._stroke instanceof FR||this._stroke instanceof BR||this._stroke instanceof HR)&&this._stroke.unbind(Fk.Types.change,this._renderer.flagStroke),this._stroke=e,this._flagStroke=!0,(this._stroke instanceof zR||this._stroke instanceof FR||this._stroke instanceof BR||this._stroke instanceof HR)&&this._stroke.bind(Fk.Types.change,this._renderer.flagStroke)}}),Object.defineProperty(e,"clip",{enumerable:!0,get:function(){return this._clip},set:function(e){this._clip=e,this._flagClip=!0}}),Object.defineProperty(e,"dashes",{enumerable:!0,get:function(){return this._dashes},set:function(e){"number"!=typeof e.offset&&(e.offset=this._dashes.offset||0),this._dashes=e}})}}),Dk.extend(hC.prototype,dR.prototype,{_flagValue:!0,_flagFamily:!0,_flagSize:!0,_flagLeading:!0,_flagAlignment:!0,_flagBaseline:!0,_flagStyle:!0,_flagWeight:!0,_flagDecoration:!0,_flagFill:!0,_flagStroke:!0,_flagLinewidth:!0,_flagOpacity:!0,_flagClassName:!0,_flagVisible:!0,_flagClip:!1,_value:"",_family:"sans-serif",_size:13,_leading:17,_alignment:"center",_baseline:"middle",_style:"normal",_weight:500,_decoration:"none",_fill:"#000",_stroke:"transparent",_linewidth:1,_opacity:1,_className:"",_visible:!0,_clip:!1,_dashes:[],constructor:hC,remove:function(){return this.parent?(this.parent.remove(this),this):this},clone:function(e){var t=new hC(this.value);return t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,Dk.each(hC.Properties,(function(e){t[e]=this[e]}),this),this.matrix.manual&&t.matrix.copy(this.matrix),e&&e.add(t),t._update()},toObject:function(){var e={translation:this.translation.toObject(),rotation:this.rotation,scale:this.scale};return this.matrix.manual&&(e.matrix=this.matrix.toObject()),Dk.each(hC.Properties,(function(t){e[t]=this[t]}),this),e},noFill:function(){return this.fill="transparent",this},noStroke:function(){return this.stroke=void 0,this.linewidth=void 0,this},getBoundingClientRect:function(e){var t,n,r,i,o,a;this._update(!0),t=e?this._matrix:Ck(this);var s=this.leading,l=this.value.length*this.size*hC.Ratio;switch(this.alignment){case"left":r=0,i=l;break;case"right":r=-l,i=0;break;default:r=-l/2,i=l/2}switch(this.baseline){case"top":o=0,a=s;break;case"bottom":o=-s,a=0;break;default:o=-s/2,a=s/2}return{top:o=(n=t.multiply(r,o,1)).y,left:r=n.x,right:i=(n=t.multiply(i,a,1)).x,bottom:a=n.y,width:i-r,height:a-o}},flagReset:function(){return this._flagValue=this._flagFamily=this._flagSize=this._flagLeading=this._flagAlignment=this._flagFill=this._flagStroke=this._flagLinewidth=this._flagOpacity=this._flagVisible=this._flagClip=this._flagDecoration=this._flagClassName=this._flagBaseline=this._flagWeight=this._flagStyle=!1,dR.prototype.flagReset.call(this),this}}),hC.MakeObservable(hC.prototype);var dC={start:"left",middle:"center",end:"right"},fC=function(e,t){var n,r,i,o;t||(t={}),n=e.split(";");for(var a=0;a<n.length;a++)i=(r=n[a].split(":"))[0],o=r[1],void 0!==i&&void 0!==o&&(t[i]=o.replace(/\s/,""));return t},pC=function(e){for(var t={},n=mC(e),r=Math.max(n.length,e.style.length),i=0;i<r;i++){var o=e.style[i],a=n[i];o&&(t[o]=e.style[o]),a&&(t[a]=e.getAttribute(a))}return t},mC=function(e){for(var t=e.getAttributeNames(),n=["id","class","transform","xmlns","viewBox"],r=0;r<n.length;r++){var i=n[r],o=Array.prototype.indexOf.call(t,i);o>=0&&t.splice(o,1)}return t},gC=function(e,t){var n=t.split(/\s/),r=parseFloat(n[0]),i=parseFloat(n[1]),o=parseFloat(n[2]),a=parseFloat(n[3]),s=Math.min(this.width/o,this.height/a);return e.translation.x-=r*s,e.translation.y-=i*s,e.scale=s,e},vC=function(e,t,n){var r,i,o,a,s={},l={},c={};if(Tk.getComputedStyle){var u=Tk.getComputedStyle(e);for(r=u.length;r--;)void 0!==(o=u[i=u[r]])&&(s[i]=o)}for(r=0;r<e.attributes.length;r++)a=e.attributes[r],/style/i.test(a.nodeName)?fC(a.value,c):l[a.nodeName]=a.value;for(i in void 0!==s.opacity&&(s["stroke-opacity"]=s.opacity,s["fill-opacity"]=s.opacity,delete s.opacity),n&&Dk.defaults(s,n),Dk.extend(s,c,l),s.visible=!(void 0===s.display&&/none/i.test(s.display))||void 0===s.visibility&&/hidden/i.test(s.visibility),s)switch(o=s[i],i){case"transform":if(/none/i.test(o))break;if(null===(p=e.transform&&e.transform.baseVal&&e.transform.baseVal.length>0?e.transform.baseVal[0].matrix:e.getCTM?e.getCTM():null))break;if($k.AutoCalculateImportedMatrices){var h=kk(p);t.translation.set(h.translateX,h.translateY),t.rotation=Math.PI*(h.rotation/180),t.scale=new Uk(h.scaleX,h.scaleY);var d=parseFloat((s.x+"").replace("px")),f=parseFloat((s.y+"").replace("px"));d&&(t.translation.x=d),f&&(t.translation.y=f)}else{var p=e.getCTM();t._matrix.manual=!0,t._matrix.set(p.a,p.b,p.c,p.d,p.e,p.f)}break;case"viewBox":gC.call(this,t,o);break;case"visible":if(t instanceof gR){t._visible=o;break}t.visible=o;break;case"stroke-linecap":if(t instanceof gR){t._cap=o;break}t.cap=o;break;case"stroke-linejoin":if(t instanceof gR){t._join=o;break}t.join=o;break;case"stroke-miterlimit":if(t instanceof gR){t._miter=o;break}t.miter=o;break;case"stroke-width":if(t instanceof gR){t._linewidth=parseFloat(o);break}t.linewidth=parseFloat(o);break;case"opacity":case"stroke-opacity":case"fill-opacity":if(t instanceof gR){t._opacity=parseFloat(o);break}t.opacity=parseFloat(o);break;case"fill":case"stroke":if(t instanceof gR&&(i="_"+i),/url\(#.*\)/i.test(o)){var m=bC(this);t[i]=m.getById(o.replace(/url\(#(.*)\)/i,"$1"))}else t[i]=/none/i.test(o)?"transparent":o;break;case"id":t.id=o,e.id=o+"-"+$k.Identifier+"applied";break;case"class":case"className":t.classList=o.split(" ");break;case"x":case"y":if(t instanceof zR||t instanceof FR||t instanceof BR)break;if(o.match("[a-z%]$")&&!o.endsWith("px")){var g=new OR("only pixel values are supported with the "+i+" attribute.");console.warn(g.name,g.message)}t.translation[i]=parseFloat(o);break;case"font-family":t instanceof hC&&(t.family=o);break;case"font-size":t instanceof hC&&(t.size=o);break;case"font-weight":t instanceof hC&&(t.weight=o);break;case"font-style":t instanceof hC&&(t.style=o);break;case"text-decoration":t instanceof hC&&(t.decoration=o);break;case"line-height":t instanceof hC&&(t.leading=o)}return s},yC=function(e,t){for(var n=0,r=e.childNodes.length;n<r;n++){var i=e.childNodes[n];if(i.id)"#text"!==i.localName&&t.add(i.id,i)}},bC=function(e){for(;e.parent;)e=e.parent;return e.scene},xC={svg:function(e){for(var t=xC.defs.current=new NR,n=e.getElementsByTagName("defs"),r=0;r<n.length;r++)yC(n[r],t);var i=xC.g.call(this,e);return e.getAttribute("viewBox"),i.defs=t,delete xC.defs.current,i},defs:function(e){return null},use:function(e,t){var n=e.getAttribute("href")||e.getAttribute("xlink:href");if(!n){var r=new OR("encountered <use /> with no href.");return console.warn(r.name,r.message),null}var i=n.slice(1);if(!xC.defs.current.contains(i)){r=new OR("unable to find element for reference "+n+".");return console.warn(r.name,r.message),null}for(var o=xC.defs.current.get(i).cloneNode(!0),a=["x","y","width","height","href","xlink:href"],s=0;s<e.attributes.length;s++){var l=e.attributes[s],c=a.includes(l.nodeName),u=!o.hasAttribute(l.nodeName);(c||u)&&o.setAttribute(l.nodeName,l.value)}var h=o.localName;return xC[h].call(this,o,t)},g:function(e,t){var n,r=new gR;vC.call(this,e,r,t),this.add(r),n=pC.call(this,e);for(var i=0,o=e.childNodes.length;i<o;i++){var a=e.childNodes[i],s=a.nodeName;if(!s)return;var l=s.replace(/svg:/gi,"").toLowerCase();if(l in xC){var c=xC[l].call(r,a,n);c&&!c.parent&&r.add(c)}}return r},polygon:function(e,t){var n=e.getAttribute("points"),r=[];n.replace(/(-?[\d.?]+)[,|\s](-?[\d.?]+)/g,(function(e,t,n){r.push(new Vk(parseFloat(t),parseFloat(n)))}));var i=new XR(r,!0).noStroke();return i.fill="black",vC.call(this,e,i,t),i},polyline:function(e,t){var n=xC.polygon.call(this,e,t);return n.closed=!1,n},path:function(e,t){var n=e.getAttribute("d"),r=[],i=!1,o=!1;if(n){var a,s,l=new Vk,c=n.match(/[a-df-z][^a-df-z]*/gi),u=c.length-1;Dk.each(c.slice(0),(function(e,t){var n,r,i,o,a,s,l,u,h,d=(e=function(e){var t=e.match(/[\+\-]?[\d\.]*e[\-\+]?\d*/gi);if(t&&t.length>0)for(var n=0;n<t.length;n++){var r=t[n],i=r.split(/e/i),o=parseFloat(i[0]),a=Math.pow(10,parseFloat(i[1]));a<0?o/=a:o*=a,e=e.replace(r,o)}return e}(e))[0],f=d.toLowerCase(),p=e.slice(1).trim().split(/[\s,]+|(?=\s?[+-])/),m=[],g=!1;for(a=0;a<p.length;a++)if((n=p[a]).indexOf(".")!==n.lastIndexOf(".")){for(i=(r=n.split("."))[0]+"."+r[1],p.splice(a,1,i),o=2;o<r.length;o++)p.splice(a+o-1,0,"0."+r[o]);g=!0}switch(g&&(e=d+p.join(",")),t<=0&&(c=[]),f){case"h":case"v":p.length>1&&(h=1);break;case"m":case"l":case"t":p.length>2&&(h=2);break;case"s":case"q":p.length>4&&(h=4);break;case"c":p.length>6&&(h=6);break;case"a":p.length>7&&(h=7)}if(h){for(a=0,l=p.length,u=0;a<l;a+=h){if(s=d,u>0)switch(d){case"m":s="l";break;case"M":s="L"}m.push(s+p.slice(a,a+h).join(" ")),u++}c=Array.prototype.concat.apply(c,m)}else c.push(e)})),Dk.each(c,(function(e,t){var n,c,h,d,f,p,m,g,v,y,b,x,_=e[0],w=_.toLowerCase();switch(s=(s=(s=e.slice(1).trim()).replace(/(-?\d+(?:\.\d*)?)[eE]([+-]?\d+)/g,(function(e,t,n){return parseFloat(t)*Math.pow(10,n)}))).split(/[\s,]+|(?=\s?[+-])/),o=_===w,w){case"z":if(t>=u)i=!0;else{c=l.x,h=l.y,n=new Vk(c,h,void 0,void 0,void 0,void 0,Ek.close);for(var S=r.length-1;S>=0;S--){var E=r[S];if(/m/i.test(E.command)){l=E;break}}}break;case"m":case"l":a=void 0,c=parseFloat(s[0]),h=parseFloat(s[1]),n=new Vk(c,h,void 0,void 0,void 0,void 0,/m/i.test(w)?Ek.move:Ek.line),o&&n.addSelf(l),l=n;break;case"h":case"v":var M=/h/i.test(w)?"x":"y",T=/x/i.test(M)?"y":"x";(n=new Vk(void 0,void 0,void 0,void 0,void 0,void 0,Ek.line))[M]=parseFloat(s[0]),n[T]=l[T],o&&(n[M]+=l[M]),l=n;break;case"c":case"s":d=l.x,f=l.y,a||(a=new Uk),/c/i.test(w)?(p=parseFloat(s[0]),m=parseFloat(s[1]),g=parseFloat(s[2]),v=parseFloat(s[3]),y=parseFloat(s[4]),b=parseFloat(s[5])):(p=(x=sR(l,a,o)).x,m=x.y,g=parseFloat(s[0]),v=parseFloat(s[1]),y=parseFloat(s[2]),b=parseFloat(s[3])),o&&(p+=d,m+=f,g+=d,v+=f,y+=d,b+=f),Dk.isObject(l.controls)||Vk.AppendCurveProperties(l),l.controls.right.set(p-l.x,m-l.y),n=new Vk(y,b,g-y,v-b,void 0,void 0,Ek.curve),l=n,a=n.controls.left;break;case"t":case"q":d=l.x,f=l.y,a||(a=new Uk),/q/i.test(w)?(p=parseFloat(s[0]),m=parseFloat(s[1]),g=parseFloat(s[0]),v=parseFloat(s[1]),y=parseFloat(s[2]),b=parseFloat(s[3])):(p=(x=sR(l,a,o)).x,m=x.y,g=x.x,v=x.y,y=parseFloat(s[0]),b=parseFloat(s[1])),o&&(p+=d,m+=f,g+=d,v+=f,y+=d,b+=f),Dk.isObject(l.controls)||Vk.AppendCurveProperties(l),l.controls.right.set(.33*(p-l.x),.33*(m-l.y)),n=new Vk(y,b,g-y,v-b,void 0,void 0,Ek.curve),l=n,a=n.controls.left;break;case"a":d=l.x,f=l.y;var k=parseFloat(s[0]),R=parseFloat(s[1]),C=parseFloat(s[2]),P=parseFloat(s[3]),A=parseFloat(s[4]);y=parseFloat(s[5]),b=parseFloat(s[6]),o&&(y+=d,b+=f);var L=new Vk(y,b);L.command=Ek.arc,L.rx=k,L.ry=R,L.xAxisRotation=C,L.largeArcFlag=P,L.sweepFlag=A,n=L,l=L,a=void 0}n&&(Array.isArray(n)?r=r.concat(n):r.push(n))}))}(n=new XR(r,i,void 0,!0).noStroke()).fill="black";var h=n.getBoundingClientRect(!0);return h.centroid={x:h.left+h.width/2,y:h.top+h.height/2},Dk.each(n.vertices,(function(e){e.subSelf(h.centroid)})),vC.call(this,e,n,t),n.translation.addSelf(h.centroid),n},circle:function(e,t){var n=parseFloat(e.getAttribute("cx")),r=parseFloat(e.getAttribute("cy")),i=parseFloat(e.getAttribute("r")),o=new nC(0,0,i).noStroke();return o.fill="black",vC.call(this,e,o,t),o.translation.x=n,o.translation.y=r,o},ellipse:function(e,t){var n=parseFloat(e.getAttribute("cx")),r=parseFloat(e.getAttribute("cy")),i=parseFloat(e.getAttribute("rx")),o=parseFloat(e.getAttribute("ry")),a=new sC(0,0,i,o).noStroke();return a.fill="black",vC.call(this,e,a,t),a.translation.x=n,a.translation.y=r,a},rect:function(e,t){var n=parseFloat(e.getAttribute("rx")),r=parseFloat(e.getAttribute("ry"));if(!Dk.isNaN(n)||!Dk.isNaN(r))return xC["rounded-rect"](e);parseFloat(e.getAttribute("x")),parseFloat(e.getAttribute("y"));var i=parseFloat(e.getAttribute("width")),o=parseFloat(e.getAttribute("height")),a=i/2,s=o/2,l=new cC(0,0,i,o).noStroke();return l.fill="black",vC.call(this,e,l,t),l.translation.x+=a,l.translation.y+=s,l},"rounded-rect":function(e,t){parseFloat(e.getAttribute("x")),parseFloat(e.getAttribute("y"));var n=parseFloat(e.getAttribute("rx"))||0,r=parseFloat(e.getAttribute("ry"))||0,i=parseFloat(e.getAttribute("width")),o=parseFloat(e.getAttribute("height")),a=i/2,s=o/2,l=new Uk(n,r),c=new uC(0,0,i,o,l).noStroke();return c.fill="black",vC.call(this,e,c,t),c.translation.x+=a,c.translation.y+=s,c},line:function(e,t){var n=parseFloat(e.getAttribute("x1")),r=parseFloat(e.getAttribute("y1")),i=parseFloat(e.getAttribute("x2")),o=parseFloat(e.getAttribute("y2")),a=new lC(n,r,i,o).noFill();return vC.call(this,e,a,t),a},lineargradient:function(e,t){for(var n=parseFloat(e.getAttribute("x1")),r=parseFloat(e.getAttribute("y1")),i=parseFloat(e.getAttribute("x2")),o=parseFloat(e.getAttribute("y2")),a=(i+n)/2,s=(o+r)/2,l=[],c=0;c<e.children.length;c++){var u=e.children[c],h=u.getAttribute("offset");/%/gi.test(h)&&(h=parseFloat(h.replace(/%/gi,""))/100),h=parseFloat(h);var d,f=u.getAttribute("stop-color"),p=u.getAttribute("stop-opacity"),m=u.getAttribute("style");null===f&&(f=(d=!!m&&m.match(/stop-color:\s?([#a-fA-F0-9]*)/))&&d.length>1?d[1]:void 0),p=null===p?(d=!!m&&m.match(/stop-opacity:\s?([0-9.-]*)/))&&d.length>1?parseFloat(d[1]):1:parseFloat(p),l.push(new DR(h,f,p))}var g=new FR(n-a,r-s,i-a,o-s,l);return vC.call(this,e,g,t),g},radialgradient:function(e,t){var n=parseFloat(e.getAttribute("cx"))||0,r=parseFloat(e.getAttribute("cy"))||0,i=parseFloat(e.getAttribute("r")),o=parseFloat(e.getAttribute("fx")),a=parseFloat(e.getAttribute("fy"));Dk.isNaN(o)&&(o=n),Dk.isNaN(a)&&(a=r);for(var s=Math.abs(n+o)/2,l=Math.abs(r+a)/2,c=[],u=0;u<e.children.length;u++){var h=e.children[u],d=h.getAttribute("offset");/%/gi.test(d)&&(d=parseFloat(d.replace(/%/gi,""))/100),d=parseFloat(d);var f,p=h.getAttribute("stop-color"),m=h.getAttribute("stop-opacity"),g=h.getAttribute("style");null===p&&(p=(f=!!g&&g.match(/stop-color:\s?([#a-fA-F0-9]*)/))&&f.length>1?f[1]:void 0),m=null===m?(f=!!g&&g.match(/stop-opacity:\s?([0-9.-]*)/))&&f.length>1?parseFloat(f[1]):1:parseFloat(m),c.push(new DR(d,p,m))}var v=new BR(n-s,r-l,i,c,o-s,a-l);return vC.call(this,e,v,t),v},text:function(e,t){var n=function(e){return dC[e]}(e.getAttribute("text-anchor"))||"left",r=function(e){var t=e.getAttribute("dominant-baseline"),n=e.getAttribute("alignment-baseline");return t||n}(e)||"baseline",i=e.textContent,o=new hC(i);return vC.call(this,e,o,t),o.alignment=n,o.baseline=r,o}},_C=function(e,t){var n=new XMLHttpRequest;return n.open("GET",e),n.onreadystatechange=function(){4===n.readyState&&200===n.status&&t(n.responseText)},n.send(),n},wC=function(e,t,n,r){XR.call(this,[new Vk,new Vk,new Vk,new Vk],!0),this._renderer.flagTextures=wC.FlagTextures.bind(this),this._renderer.bindTextures=wC.BindTextures.bind(this),this._renderer.unbindTextures=wC.UnbindTextures.bind(this),this.noStroke(),this.noFill(),Array.isArray(e)?this.textures=e.map(wC.GenerateTexture.bind(this)):this.textures=[wC.GenerateTexture(e)],this.origin=new Uk,this._update(),this.translation.set(t||0,n||0),this.frameRate="number"==typeof r?r:wC.DefaultFrameRate,this.index=0};Dk.extend(wC,{Properties:["frameRate","index"],DefaultFrameRate:30,FlagTextures:function(){this._flagTextures=!0},BindTextures:function(e){for(var t=e.length;t--;)e[t].bind(Fk.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()},UnbindTextures:function(e){for(var t=e.length;t--;)e[t].unbind(Fk.Types.change,this._renderer.flagTextures);this._renderer.flagTextures()},MakeObservable:function(e){cC.MakeObservable(e),Dk.each(wC.Properties,IR,e),Object.defineProperty(e,"textures",{enumerable:!0,get:function(){return this._textures},set:function(e){this._renderer.flagTextures;var t=this._renderer.bindTextures,n=this._renderer.unbindTextures;this._textures&&this._textures.unbind(Fk.Types.insert,t).unbind(Fk.Types.remove,n),this._textures=new hR((e||[]).slice(0)),this._textures.bind(Fk.Types.insert,t).bind(Fk.Types.remove,n),t(this._textures)}})},GenerateTexture:function(e){return e instanceof HR?e:"string"==typeof e?new HR(e):void 0}}),Dk.extend(wC.prototype,cC.prototype,{_flagTextures:!1,_flagFrameRate:!1,_flagIndex:!1,_amount:1,_duration:0,_index:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_textures:null,_frameRate:0,_origin:null,constructor:wC,play:function(e,t,n){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=Dk.performance.now(),"number"==typeof e&&(this._firstFrame=e),"number"==typeof t&&(this._lastFrame=t),"function"==typeof n?this._onLastFrame=n:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=this._firstFrame,this},clone:function(e){var t=new wC(this.textures,this.translation.x,this.translation.y,this.frameRate);return t._loop=this._loop,this._playing&&t.play(),e&&e.add(t),t},toObject:function(){var e=cC.prototype.toObject.call(this);return e.textures=this.textures.map((function(e){return e.toObject()})),e.frameRate=this.frameRate,e.index=this.index,e._firstFrame=this._firstFrame,e._lastFrame=this._lastFrame,e._loop=this._loop,e},_update:function(){var e,t,n,r,i,o,a,s,l=this._textures;return this._flagTextures&&(this._amount=l.length),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._playing&&this._frameRate>0?(r=this._amount,Dk.isNaN(this._lastFrame)&&(this._lastFrame=r-1),n=Dk.performance.now()-this._startTime,i=1e3*((s=this._lastFrame+1)-this._firstFrame)/this._frameRate,this._loop?n%=i:n=Math.min(n,i),a=Pk(this._firstFrame,s,n/i),(a=Math.floor(a))!==this._index&&(this._index=a,(o=l[this._index]).loaded&&(e=o.image.width,t=o.image.height,this.width!==e&&(this.width=e),this.height!==t&&(this.height=t),this.fill=o,a>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()))):!this._flagIndex&&this.fill instanceof HR||((o=l[this._index]).loaded&&(e=o.image.width,t=o.image.height,this.width!==e&&(this.width=e),this.height!==t&&(this.height=t)),this.fill=o),cC.prototype._update.call(this),this},flagReset:function(){return this._flagTextures=this._flagFrameRate=!1,cC.prototype.flagReset.call(this),this}}),wC.MakeObservable(wC.prototype);var SC=function(e,t,n,r,i,o){XR.call(this,[new Vk,new Vk,new Vk,new Vk],!0),this.noStroke(),this.noFill(),e instanceof HR?this.texture=e:"string"==typeof e&&(this.texture=new HR(e)),this.origin=new Uk,this._update(),this.translation.set(t||0,n||0),"number"==typeof r&&(this.columns=r),"number"==typeof i&&(this.rows=i),"number"==typeof o&&(this.frameRate=o),this.index=0};Dk.extend(SC,{Properties:["texture","columns","rows","frameRate","index"],MakeObservable:function(e){cC.MakeObservable(e),Dk.each(SC.Properties,IR,e)}}),Dk.extend(SC.prototype,cC.prototype,{_flagTexture:!1,_flagColumns:!1,_flagRows:!1,_flagFrameRate:!1,flagIndex:!1,_amount:1,_duration:0,_startTime:0,_playing:!1,_firstFrame:0,_lastFrame:0,_loop:!0,_texture:null,_columns:1,_rows:1,_frameRate:0,_index:0,_origin:null,constructor:SC,play:function(e,t,n){return this._playing=!0,this._firstFrame=0,this._lastFrame=this.amount-1,this._startTime=Dk.performance.now(),"number"==typeof e&&(this._firstFrame=e),"number"==typeof t&&(this._lastFrame=t),"function"==typeof n?this._onLastFrame=n:delete this._onLastFrame,this._index!==this._firstFrame&&(this._startTime-=1e3*Math.abs(this._index-this._firstFrame)/this._frameRate),this},pause:function(){return this._playing=!1,this},stop:function(){return this._playing=!1,this._index=0,this},clone:function(e){var t=new SC(this.texture,this.translation.x,this.translation.y,this.columns,this.rows,this.frameRate);return this.playing&&(t.play(this._firstFrame,this._lastFrame),t._loop=this._loop),e&&e.add(t),t},toObject:function(){var e=cC.prototype.toObject.call(this);return e.texture=this.texture.toObject(),e.columns=this.columns,e.rows=this.rows,e.frameRate=this.frameRate,e.index=this.index,e._firstFrame=this._firstFrame,e._lastFrame=this._lastFrame,e._loop=this._loop,e},_update:function(){var e,t,n,r,i,o,a,s,l,c=this._texture,u=this._columns,h=this._rows;if((this._flagColumns||this._flagRows)&&(this._amount=this._columns*this._rows),this._flagFrameRate&&(this._duration=1e3*this._amount/this._frameRate),this._flagTexture&&(this.fill=this._texture),this._texture.loaded){e=(a=c.image.width)/u,t=(s=c.image.height)/h,r=this._amount,this.width!==e&&(this.width=e),this.height!==t&&(this.height=t),this._playing&&this._frameRate>0&&(Dk.isNaN(this._lastFrame)&&(this._lastFrame=r-1),n=Dk.performance.now()-this._startTime,i=1e3*((l=this._lastFrame+1)-this._firstFrame)/this._frameRate,this._loop?n%=i:n=Math.min(n,i),o=Pk(this._firstFrame,l,n/i),(o=Math.floor(o))!==this._index&&(this._index=o,o>=this._lastFrame-1&&this._onLastFrame&&this._onLastFrame()));var d=-e*(this._index%u)+(a-e)/2,f=-t*Math.floor(this._index/u)+(s-t)/2;d!==c.offset.x&&(c.offset.x=d),f!==c.offset.y&&(c.offset.y=f)}return cC.prototype._update.call(this),this},flagReset:function(){return this._flagTexture=this._flagColumns=this._flagRows=this._flagFrameRate=!1,cC.prototype.flagReset.call(this),this}}),SC.MakeObservable(SC.prototype);var EC=2*Math.PI,MC=Math.PI/2,TC=function(e,t,n,r,i,o,a){for(var s=a||3*$k.Resolution,l=[],c=0;c<s;c++)l.push(new Vk);XR.call(this,l,!0,!1,!0),this.innerRadius=n,this.outerRadius=r,this.startAngle=i,this.endAngle=o,this._update(),"number"==typeof e&&(this.translation.x=e),"number"==typeof t&&(this.translation.y=t)};Dk.extend(TC,{Properties:["startAngle","endAngle","innerRadius","outerRadius"],MakeObservable:function(e){XR.MakeObservable(e),Dk.each(TC.Properties,IR,e)}}),Dk.extend(TC.prototype,XR.prototype,{_flagStartAngle:!1,_flagEndAngle:!1,_flagInnerRadius:!1,_flagOuterRadius:!1,_startAngle:0,_endAngle:EC,_innerRadius:0,_outerRadius:0,constructor:TC,_update:function(){if(this._flagStartAngle||this._flagEndAngle||this._flagInnerRadius||this._flagOuterRadius){var e,t=this._startAngle,n=this._endAngle,r=this._innerRadius,i=this._outerRadius,o=Ak(t,EC)===Ak(n,EC),a=r>0,s=this.vertices,l=a?s.length/2:s.length,c=0;o?l--:a||(l-=2);for(var u=0,h=l-1;u<l;u++){var d=u/h,f=s[c],p=d*(n-t)+t,m=(n-t)/l,g=i*Math.cos(p),v=i*Math.sin(p);switch(u){case 0:e=Ek.move;break;default:e=Ek.curve}if(f.command=e,f.x=g,f.y=v,f.controls.left.clear(),f.controls.right.clear(),f.command===Ek.curve){var y=i*m/Math.PI;f.controls.left.x=y*Math.cos(p-MC),f.controls.left.y=y*Math.sin(p-MC),f.controls.right.x=y*Math.cos(p+MC),f.controls.right.y=y*Math.sin(p+MC),1===u&&f.controls.left.multiplyScalar(2),u===h&&f.controls.right.multiplyScalar(2)}c++}if(a){for(o?(s[c].command=Ek.close,c++):h=--l-1,u=0;u<l;u++)d=u/h,f=s[c],p=(1-d)*(n-t)+t,m=(n-t)/l,g=r*Math.cos(p),v=r*Math.sin(p),e=Ek.curve,u<=0&&(e=o?Ek.move:Ek.line),f.command=e,f.x=g,f.y=v,f.controls.left.clear(),f.controls.right.clear(),f.command===Ek.curve&&(y=r*m/Math.PI,f.controls.left.x=y*Math.cos(p+MC),f.controls.left.y=y*Math.sin(p+MC),f.controls.right.x=y*Math.cos(p-MC),f.controls.right.y=y*Math.sin(p-MC),1===u&&f.controls.left.multiplyScalar(2),u===h&&f.controls.right.multiplyScalar(2)),c++;s[c].copy(s[0]),s[c].command=Ek.line}else o||(s[c].command=Ek.line,s[c].x=0,s[c].y=0,s[++c].copy(s[0]),s[c].command=Ek.line)}return XR.prototype._update.call(this),this},flagReset:function(){return XR.prototype.flagReset.call(this),this._flagStartAngle=this._flagEndAngle=this._flagInnerRadius=this._flagOuterRadius=!1,this},clone:function(e){var t=this.innerRadius,n=this.outerradius,r=this.startAngle,i=this.endAngle,o=this.vertices.length,a=new TC(0,0,t,n,r,i,o);return a.translation.copy(this.translation),a.rotation=this.rotation,a.scale=this.scale,this.matrix.manual&&a.matrix.copy(this.matrix),Dk.each(XR.Properties,(function(e){a[e]=this[e]}),this),e&&e.add(a),a},toObject:function(){var e=XR.prototype.toObject.call(this);return Dk.each(TC.Properties,(function(t){e[t]=this[t]}),this),e}}),TC.MakeObservable(TC.prototype);var kC=2*Math.PI,RC=Math.cos,CC=Math.sin,PC=function(e,t,n,r){r=Math.max(r||0,3),XR.call(this),this.closed=!0,this.automatic=!1,this.width=2*n,this.height=2*n,this.sides=r,this._update(),this.translation.set(e,t)};Dk.extend(PC,{Properties:["width","height","sides"],MakeObservable:function(e){XR.MakeObservable(e),Dk.each(PC.Properties,IR,e)}}),Dk.extend(PC.prototype,XR.prototype,{_flagWidth:!1,_flagHeight:!1,_flagSides:!1,_width:0,_height:0,_sides:0,constructor:PC,_update:function(){if(this._flagWidth||this._flagHeight||this._flagSides){var e=this._sides,t=e+1,n=this.vertices.length;n>e&&(this.vertices.splice(e-1,n-e),n=e);for(var r=0;r<t;r++){var i=kC*((r+.5)/e)+Math.PI/2,o=this._width*RC(i)/2,a=this._height*CC(i)/2;r>=n?this.vertices.push(new Vk(o,a)):this.vertices[r].set(o,a),this.vertices[r].command=0===r?Ek.move:Ek.line}}return XR.prototype._update.call(this),this},flagReset:function(){return this._flagWidth=this._flagHeight=this._flagSides=!1,XR.prototype.flagReset.call(this),this},clone:function(e){var t=new PC(0,0,this.radius,this.sides);return t.translation.copy(this.translation),t.rotation=this.rotation,t.scale=this.scale,this.matrix.manual&&t.matrix.copy(this.matrix),Dk.each(XR.Properties,(function(e){t[e]=this[e]}),this),e&&e.add(t),t},toObject:function(){var e=XR.prototype.toObject.call(this);return Dk.each(PC.Properties,(function(t){e[t]=this[t]}),this),e}}),PC.MakeObservable(PC.prototype);var AC=2*Math.PI,LC=Math.cos,OC=Math.sin,IC=function(e,t,n,r,i){arguments.length<=3&&(n=(r=n)/2),("number"!=typeof i||i<=0)&&(i=5),XR.call(this),this.closed=!0,this.automatic=!1,this.innerRadius=n,this.outerRadius=r,this.sides=i,this._update(),this.translation.set(e,t)};Dk.extend(IC,{Properties:["innerRadius","outerRadius","sides"],MakeObservable:function(e){XR.MakeObservable(e),Dk.each(IC.Properties,IR,e)}}),Dk.extend(IC.prototype,XR.prototype,{_flagInnerRadius:!1,_flagOuterRadius:!1,_flagSides:!1,_innerRadius:0,_outerRadius:0,_sides:0,constructor:IC,_update:function(){if(this._flagInnerRadius||this._flagOuterRadius||this._flagSides){var e=2*this._sides,t=e+1,n=this.vertices.length;n>e&&(this.vertices.splice(e-1,n-e),n=e);for(var r=0;r<t;r++){var i=AC*((r+.5)/e),o=(r%2?this._outerRadius:this._innerRadius)/2,a=o*LC(i),s=o*OC(i);r>=n?this.vertices.push(new Vk(a,s)):this.vertices[r].set(a,s),this.vertices[r].command=0===r?Ek.move:Ek.line}}return XR.prototype._update.call(this),this},flagReset:function(){return this._flagInnerRadius=this._flagOuterRadius=this._flagSides=!1,XR.prototype.flagReset.call(this),this},clone:function(e){var t=this.innerRadius,n=this.outerRadius,r=this.sides,i=new IC(0,0,t,n,r);return i.translation.copy(this.translation),i.rotation=this.rotation,i.scale=this.scale,this.matrix.manual&&i.matrix.copy(this.matrix),Dk.each(XR.Properties,(function(e){i[e]=this[e]}),this),e&&e.add(i),i},toObject:function(){var e=XR.prototype.toObject.call(this);return Dk.each(IC.Properties,(function(t){e[t]=this[t]}),this),e}}),IC.MakeObservable(IC.prototype);var NC={version:1.1,ns:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",alignments:{left:"start",center:"middle",right:"end"},createElement:function(e,t){var n=e,r=document.createElementNS(NC.ns,n);return"svg"===n&&(t=Dk.defaults(t||{},{version:NC.version})),t&&Object.keys(t).length>0&&NC.setAttributes(r,t),r},setAttributes:function(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++)/href/.test(n[r])?e.setAttributeNS(NC.xlink,n[r],t[n[r]]):e.setAttribute(n[r],t[n[r]]);return this},removeAttributes:function(e,t){for(var n in t)e.removeAttribute(n);return this},toString:function(e,t){for(var n,r=e.length,i=r-1,o="",a=0;a<r;a++){var s,l,c,u,h,d,f,p,m,g,v,y,b,x,_=e[a],w=t?Ak(a-1,r):Math.max(a-1,0),S=t?Ak(a+1,r):Math.min(a+1,i),E=e[w],M=e[S],T=Ok(_.x),k=Ok(_.y);switch(_.command){case Ek.close:s=Ek.close;break;case Ek.arc:g=_.rx,v=_.ry,y=_.xAxisRotation,b=_.largeArcFlag,x=_.sweepFlag,s=Ek.arc+" "+g+" "+v+" "+y+" "+b+" "+x+" "+T+" "+k;break;case Ek.curve:d=E.controls&&E.controls.right||Uk.zero,f=_.controls&&_.controls.left||Uk.zero,E.relative?(l=Ok(d.x+E.x),c=Ok(d.y+E.y)):(l=Ok(d.x),c=Ok(d.y)),_.relative?(u=Ok(f.x+_.x),h=Ok(f.y+_.y)):(u=Ok(f.x),h=Ok(f.y)),s=(0===a?Ek.move:Ek.curve)+" "+l+" "+c+" "+u+" "+h+" "+T+" "+k;break;case Ek.move:n=_,s=Ek.move+" "+T+" "+k;break;default:s=_.command+" "+T+" "+k}a>=i&&t&&(_.command===Ek.curve&&(M=n,p=_.controls&&_.controls.right||_,m=M.controls&&M.controls.left||M,_.relative?(l=Ok(p.x+_.x),c=Ok(p.y+_.y)):(l=Ok(p.x),c=Ok(p.y)),M.relative?(u=Ok(m.x+M.x),h=Ok(m.y+M.y)):(u=Ok(m.x),h=Ok(m.y)),s+=" C "+l+" "+c+" "+u+" "+h+" "+(T=Ok(M.x))+" "+(k=Ok(M.y))),_.command!==Ek.close&&(s+=" Z")),o+=s+" "}return o},getClip:function(e){var t=e._renderer.clip;if(!t){for(var n=e;n.parent;)n=n.parent;t=e._renderer.clip=NC.createElement("clipPath"),n.defs.appendChild(t)}return t},group:{appendChild:function(e){var t=e._renderer.elem;if(t){var n=t.nodeName;!n||/(radial|linear)gradient/i.test(n)||e._clip||this.elem.appendChild(t)}},removeChild:function(e){var t=e._renderer.elem;t&&t.parentNode==this.elem&&(t.nodeName&&(e._clip||this.elem.removeChild(t)))},orderChild:function(e){this.elem.appendChild(e._renderer.elem)},renderChild:function(e){NC[e._renderer.type].render.call(e,this)},render:function(e){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;this._renderer.elem||(this._renderer.elem=NC.createElement("g",{id:this.id}),e.appendChild(this._renderer.elem));var t=this._matrix.manual||this._flagMatrix,n={domElement:e,elem:this._renderer.elem};t&&this._renderer.elem.setAttribute("transform","matrix("+this._matrix.toString()+")");for(var r=0;r<this.children.length;r++){var i=this.children[r];NC[i._renderer.type].render.call(i,e)}return this._flagOpacity&&this._renderer.elem.setAttribute("opacity",this._opacity),this._flagClassName&&this._renderer.elem.setAttribute("class",this.classList.join(" ")),this._flagAdditions&&this.additions.forEach(NC.group.appendChild,n),this._flagSubtractions&&this.subtractions.forEach(NC.group.removeChild,n),this._flagOrder&&this.children.forEach(NC.group.orderChild,n),this._flagMask&&(this._mask?this._renderer.elem.setAttribute("clip-path","url(#"+this._mask.id+")"):this._renderer.elem.removeAttribute("clip-path")),this.flagReset()}},path:{render:function(e){if(this._update(),0===this._opacity&&!this._flagOpacity)return this;var t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagVertices){var n=NC.toString(this._renderer.vertices,this._closed);t.d=n}if(this._fill&&this._fill._renderer&&(this._fill._update(),NC[this._fill._renderer.type].render.call(this._fill,e,!0)),this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),NC[this._stroke._renderer.type].render.call(this._stroke,e,!0)),this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t["stroke-opacity"]=this._opacity,t["fill-opacity"]=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this._flagCap&&(t["stroke-linecap"]=this._cap),this._flagJoin&&(t["stroke-linejoin"]=this._join),this._flagMiter&&(t["stroke-miterlimit"]=this._miter),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?NC.setAttributes(this._renderer.elem,t):(t.id=this.id,this._renderer.elem=NC.createElement("path",t),e.appendChild(this._renderer.elem)),this._flagClip){var r=NC.getClip(this),i=this._renderer.elem;this._clip?(i.removeAttribute("id"),r.setAttribute("id",this.id),r.appendChild(i)):(r.removeAttribute("id"),i.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(i))}return this.flagReset()}},text:{render:function(e){this._update();var t={};if((this._matrix.manual||this._flagMatrix)&&(t.transform="matrix("+this._matrix.toString()+")"),this._flagFamily&&(t["font-family"]=this._family),this._flagSize&&(t["font-size"]=this._size),this._flagLeading&&(t["line-height"]=this._leading),this._flagAlignment&&(t["text-anchor"]=NC.alignments[this._alignment]||this._alignment),this._flagBaseline&&(t["alignment-baseline"]=t["dominant-baseline"]=this._baseline),this._flagStyle&&(t["font-style"]=this._style),this._flagWeight&&(t["font-weight"]=this._weight),this._flagDecoration&&(t["text-decoration"]=this._decoration),this._fill&&this._fill._renderer&&(this._fill._update(),NC[this._fill._renderer.type].render.call(this._fill,e,!0)),this._flagFill&&(t.fill=this._fill&&this._fill.id?"url(#"+this._fill.id+")":this._fill),this._stroke&&this._stroke._renderer&&(this._stroke._update(),NC[this._stroke._renderer.type].render.call(this._stroke,e,!0)),this._flagStroke&&(t.stroke=this._stroke&&this._stroke.id?"url(#"+this._stroke.id+")":this._stroke),this._flagLinewidth&&(t["stroke-width"]=this._linewidth),this._flagOpacity&&(t.opacity=this._opacity),this._flagClassName&&(t.class=this.classList.join(" ")),this._flagVisible&&(t.visibility=this._visible?"visible":"hidden"),this.dashes&&this.dashes.length>0&&(t["stroke-dasharray"]=this.dashes.join(" "),t["stroke-dashoffset"]=this.dashes.offset||0),this._renderer.elem?NC.setAttributes(this._renderer.elem,t):(t.id=this.id,this._renderer.elem=NC.createElement("text",t),e.defs.appendChild(this._renderer.elem)),this._flagClip){var n=NC.getClip(this),r=this._renderer.elem;this._clip?(r.removeAttribute("id"),n.setAttribute("id",this.id),n.appendChild(r)):(n.removeAttribute("id"),r.setAttribute("id",this.id),this.parent._renderer.elem.appendChild(r))}return this._flagValue&&(this._renderer.elem.textContent=this._value),this.flagReset()}},"linear-gradient":{render:function(e,t){t||this._update();var n={};if(this._flagEndPoints&&(n.x1=this.left._x,n.y1=this.left._y,n.x2=this.right._x,n.y2=this.right._y),this._flagSpread&&(n.spreadMethod=this._spread),this._renderer.elem?NC.setAttributes(this._renderer.elem,n):(n.id=this.id,n.gradientUnits="userSpaceOnUse",this._renderer.elem=NC.createElement("linearGradient",n),e.defs.appendChild(this._renderer.elem)),this._flagStops){var r=this._renderer.elem.childNodes.length!==this.stops.length;if(r)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(var i=0;i<this.stops.length;i++){var o=this.stops[i],a={};o._flagOffset&&(a.offset=100*o._offset+"%"),o._flagColor&&(a["stop-color"]=o._color),o._flagOpacity&&(a["stop-opacity"]=o._opacity),o._renderer.elem?NC.setAttributes(o._renderer.elem,a):o._renderer.elem=NC.createElement("stop",a),r&&this._renderer.elem.appendChild(o._renderer.elem),o.flagReset()}}return this.flagReset()}},"radial-gradient":{render:function(e,t){t||this._update();var n={};if(this._flagCenter&&(n.cx=this.center._x,n.cy=this.center._y),this._flagFocal&&(n.fx=this.focal._x,n.fy=this.focal._y),this._flagRadius&&(n.r=this._radius),this._flagSpread&&(n.spreadMethod=this._spread),this._renderer.elem?NC.setAttributes(this._renderer.elem,n):(n.id=this.id,n.gradientUnits="userSpaceOnUse",this._renderer.elem=NC.createElement("radialGradient",n),e.defs.appendChild(this._renderer.elem)),this._flagStops){var r=this._renderer.elem.childNodes.length!==this.stops.length;if(r)for(;this._renderer.elem.lastChild;)this._renderer.elem.removeChild(this._renderer.elem.lastChild);for(var i=0;i<this.stops.length;i++){var o=this.stops[i],a={};o._flagOffset&&(a.offset=100*o._offset+"%"),o._flagColor&&(a["stop-color"]=o._color),o._flagOpacity&&(a["stop-opacity"]=o._opacity),o._renderer.elem?NC.setAttributes(o._renderer.elem,a):o._renderer.elem=NC.createElement("stop",a),r&&this._renderer.elem.appendChild(o._renderer.elem),o.flagReset()}}return this.flagReset()}},texture:{render:function(e,t){t||this._update();var n={},r={x:0,y:0},i=this.image;if(this._flagLoaded&&this.loaded)switch(i.nodeName.toLowerCase()){case"canvas":r.href=r["xlink:href"]=i.toDataURL("image/png");break;case"img":case"image":r.href=r["xlink:href"]=this.src}if((this._flagOffset||this._flagLoaded||this._flagScale)&&(n.x=this._offset.x,n.y=this._offset.y,i&&(n.x-=i.width/2,n.y-=i.height/2,this._scale instanceof Uk?(n.x*=this._scale.x,n.y*=this._scale.y):(n.x*=this._scale,n.y*=this._scale)),n.x>0&&(n.x*=-1),n.y>0&&(n.y*=-1)),(this._flagScale||this._flagLoaded||this._flagRepeat)&&(n.width=0,n.height=0,i)){switch(r.width=n.width=i.width,r.height=n.height=i.height,this._repeat){case"no-repeat":n.width+=1,n.height+=1}this._scale instanceof Uk?(n.width*=this._scale.x,n.height*=this._scale.y):(n.width*=this._scale,n.height*=this._scale)}return(this._flagScale||this._flagLoaded)&&(this._renderer.image?NC.setAttributes(this._renderer.image,r):this._renderer.image=NC.createElement("image",r)),this._renderer.elem?0!==Object.keys(n).length&&NC.setAttributes(this._renderer.elem,n):(n.id=this.id,n.patternUnits="userSpaceOnUse",this._renderer.elem=NC.createElement("pattern",n),e.defs.appendChild(this._renderer.elem)),this._renderer.elem&&this._renderer.image&&!this._renderer.appended&&(this._renderer.elem.appendChild(this._renderer.image),this._renderer.appended=!0),this.flagReset()}}},DC=function(e){this.domElement=e.domElement||NC.createElement("svg"),this.scene=new gR,this.scene.parent=this,this.defs=NC.createElement("defs"),this.domElement.appendChild(this.defs),this.domElement.defs=this.defs,this.domElement.style.overflow="hidden"};Dk.extend(DC,{Utils:NC}),Dk.extend(DC.prototype,Fk,{constructor:DC,setSize:function(e,t){return this.width=e,this.height=t,NC.setAttributes(this.domElement,{width:e,height:t}),this.trigger(Fk.Types.resize,e,t)},render:function(){return NC.group.render.call(this.scene,this.domElement),this}});var zC=Zk.Multiply,FC=[1,0,0,0,1,0,0,0,1],UC=new Lk(9),BC=CR.Utils,jC={isHidden:/(undefined|none|transparent)/i,canvas:Tk.document?Tk.document.createElement("canvas"):{getContext:function(){}},alignments:{left:"start",middle:"center",right:"end"},matrix:new Zk,group:{removeChild:function(e,t){if(e.children)for(var n=0;n<e.children.length;n++)jC.group.removeChild(e.children[n],t);else t.deleteTexture(e._renderer.texture),delete e._renderer.texture},render:function(e,t){this._update();var n,r=this.parent,i=r._matrix&&r._matrix.manual||r._flagMatrix,o=this._matrix.manual||this._flagMatrix;if((i||o)&&(this._renderer.matrix||(this._renderer.matrix=new Lk(9)),this._matrix.toTransformArray(!0,UC),zC(UC,r._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof Uk||(this._renderer.scale=new Uk),this._scale instanceof Uk?(this._renderer.scale.x=this._scale.x,this._renderer.scale.y=this._scale.y):(this._renderer.scale.x=this._scale,this._renderer.scale.y=this._scale),/renderer/i.test(r._renderer.type)||(this._renderer.scale.x*=r._renderer.scale.x,this._renderer.scale.y*=r._renderer.scale.y),i&&(this._flagMatrix=!0)),this._mask&&(e.clear(e.STENCIL_BUFFER_BIT),e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,1,0),e.stencilOp(e.KEEP,e.KEEP,e.REPLACE),e.colorMask(!1,!1,!1,!1),jC[this._mask._renderer.type].render.call(this._mask,e,t,this),e.stencilFunc(e.EQUAL,1,255),e.stencilOp(e.KEEP,e.KEEP,e.KEEP),e.colorMask(!0,!0,!0,!0)),this._flagOpacity=r._flagOpacity||this._flagOpacity,this._renderer.opacity=this._opacity*(r&&r._renderer?r._renderer.opacity:1),this._flagSubtractions)for(n=0;n<this.subtractions.length;n++)jC.group.removeChild(this.subtractions[n],e);for(n=0;n<this.children.length;n++){var a=this.children[n];jC[a._renderer.type].render.call(a,e,t)}return this._mask&&e.disable(e.STENCIL_TEST),this.flagReset()}},path:{updateCanvas:function(e){var t,n,r,i,o,a,s,l,c,u,h,d,f,p,m,g=e._renderer.vertices,v=this.canvas,y=this.ctx,b=e._renderer.scale,x=e._stroke,_=e._linewidth,w=e._fill,S=e._renderer.opacity||e._opacity,E=e._cap,M=e._join,T=e._miter,k=e._closed,R=e.dashes,C=g.length,P=C-1;v.width=Math.max(Math.ceil(e._renderer.rect.width*b.x),1),v.height=Math.max(Math.ceil(e._renderer.rect.height*b.y),1);var A,L=e._renderer.rect.centroid,O=L.x,I=L.y;y.clearRect(0,0,v.width,v.height),w&&("string"==typeof w?y.fillStyle=w:(jC[w._renderer.type].render.call(w,y,e),y.fillStyle=w._renderer.effect)),x&&("string"==typeof x?y.strokeStyle=x:(jC[x._renderer.type].render.call(x,y,e),y.strokeStyle=x._renderer.effect),_&&(y.lineWidth=_),T&&(y.miterLimit=T),M&&(y.lineJoin=M),!k&&E&&(y.lineCap=E)),"number"==typeof S&&(y.globalAlpha=S),R&&R.length>0&&(y.lineDashOffset=R.offset||0,y.setLineDash(R)),y.save(),y.scale(b.x,b.y),y.translate(O,I),y.beginPath();for(var N=0;N<g.length;N++){var D=g[N];switch(f=D.x,p=D.y,D.command){case Ek.close:y.closePath();break;case Ek.arc:var z=D.rx,F=D.ry,U=D.xAxisRotation,B=D.largeArcFlag,j=D.sweepFlag,H=(r=g[n=k?Ak(N-1,C):Math.max(N-1,0)]).x,V=r.y;BC.renderSvgArcCommand(y,H,V,z,F,B,j,U,f,p);break;case Ek.curve:n=k?Ak(N-1,C):Math.max(N-1,0),t=k?Ak(N+1,C):Math.min(N+1,P),r=g[n],i=g[t],c=r.controls&&r.controls.right||Uk.zero,u=D.controls&&D.controls.left||Uk.zero,r._relative?(s=c.x+r.x,l=c.y+r.y):(s=c.x,l=c.y),D._relative?(o=u.x+D.x,a=u.y+D.y):(o=u.x,a=u.y),y.bezierCurveTo(s,l,o,a,f,p),N>=P&&k&&(i=A,h=D.controls&&D.controls.right||Uk.zero,d=i.controls&&i.controls.left||Uk.zero,D._relative?(s=h.x+D.x,l=h.y+D.y):(s=h.x,l=h.y),i._relative?(o=d.x+i.x,a=d.y+i.y):(o=d.x,a=d.y),f=i.x,p=i.y,y.bezierCurveTo(s,l,o,a,f,p));break;case Ek.line:y.lineTo(f,p);break;case Ek.move:A=D,y.moveTo(f,p)}}k&&y.closePath(),jC.isHidden.test(w)||((m=w._renderer&&w._renderer.offset)&&(y.save(),y.translate(-w._renderer.offset.x,-w._renderer.offset.y),y.scale(w._renderer.scale.x,w._renderer.scale.y)),y.fill(),m&&y.restore()),jC.isHidden.test(x)||((m=x._renderer&&x._renderer.offset)&&(y.save(),y.translate(-x._renderer.offset.x,-x._renderer.offset.y),y.scale(x._renderer.scale.x,x._renderer.scale.y),y.lineWidth=_/x._renderer.scale.x),y.stroke(),m&&y.restore()),y.restore()},getBoundingClientRect:function(e,t,n){var r,i,o=1/0,a=-1/0,s=1/0,l=-1/0;e.forEach((function(e){var t,n,r,i,c,u,h=e.x,d=e.y,f=e.controls;s=Math.min(d,s),o=Math.min(h,o),a=Math.max(h,a),l=Math.max(d,l),e.controls&&(c=f.left,u=f.right,c&&u&&(t=e._relative?c.x+h:c.x,n=e._relative?c.y+d:c.y,r=e._relative?u.x+h:u.x,i=e._relative?u.y+d:u.y,t&&n&&r&&i&&(s=Math.min(n,i,s),o=Math.min(t,r,o),a=Math.max(t,r,a),l=Math.max(n,i,l))))})),"number"==typeof t&&(s-=t,o-=t,a+=t,l+=t),r=a-o,i=l-s,n.top=s,n.left=o,n.right=a,n.bottom=l,n.width=r,n.height=i,n.centroid||(n.centroid={}),n.centroid.x=-o,n.centroid.y=-s},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();var r=n||this.parent,i=r._matrix.manual||r._flagMatrix,o=this._matrix.manual||this._flagMatrix,a=this._renderer.parent!==r,s=this._flagVertices||this._flagFill||this._fill instanceof FR&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof BR&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof HR&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof FR&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof BR&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof HR&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||r._flagOpacity||this._flagVisible||this._flagCap||this._flagJoin||this._flagMiter||this._flagScale||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((i||o||a)&&(this._renderer.matrix||(this._renderer.matrix=new Lk(9)),this._matrix.toTransformArray(!0,UC),zC(UC,r._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof Uk||(this._renderer.scale=new Uk),this._scale instanceof Uk?(this._renderer.scale.x=this._scale.x*r._renderer.scale.x,this._renderer.scale.y=this._scale.y*r._renderer.scale.y):(this._renderer.scale.x=this._scale*r._renderer.scale.x,this._renderer.scale.y=this._scale*r._renderer.scale.y),a&&(this._renderer.parent=r)),s?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*r._renderer.opacity,jC.path.getBoundingClientRect(this._renderer.vertices,this._linewidth,this._renderer.rect),jC.updateTexture.call(jC,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),!this._clip||n){e.bindTexture(e.TEXTURE_2D,this._renderer.texture);var l=this._renderer.rect;return e.uniformMatrix3fv(t.matrix,!1,this._renderer.matrix),e.uniform4f(t.rect,l.left,l.top,l.right,l.bottom),e.drawArrays(e.TRIANGLES,0,6),this.flagReset()}}},text:{updateCanvas:function(e){var t=this.canvas,n=this.ctx,r=e._renderer.scale,i=e._stroke,o=e._linewidth*r,a=e._fill,s=e._renderer.opacity||e._opacity,l=e.dashes,c=e._decoration;BC.alignments[e._alignment]||e._alignment,e._baseline,t.width=Math.max(Math.ceil(e._renderer.rect.width*r.x),1),t.height=Math.max(Math.ceil(e._renderer.rect.height*r.y),1);var u,h,d,f,p,m,g,v,y,b,x,_=e._renderer.rect.centroid,w=_.x,S=_.y,E=a._renderer&&a._renderer.offset&&i._renderer&&i._renderer.offset;if(n.clearRect(0,0,t.width,t.height),E||(n.font=[e._style,e._weight,e._size+"px/"+e._leading+"px",e._family].join(" ")),n.textAlign="center",n.textBaseline="middle",a&&("string"==typeof a?n.fillStyle=a:(jC[a._renderer.type].render.call(a,n,e),n.fillStyle=a._renderer.effect)),i&&("string"==typeof i?n.strokeStyle=i:(jC[i._renderer.type].render.call(i,n,e),n.strokeStyle=i._renderer.effect),o&&(n.lineWidth=o)),"number"==typeof s&&(n.globalAlpha=s),l&&l.length>0&&(n.lineDashOffset=l.offset||0,n.setLineDash(l)),n.save(),n.scale(r.x,r.y),n.translate(w,S),jC.isHidden.test(a)||(a._renderer&&a._renderer.offset?(m=a._renderer.scale.x,g=a._renderer.scale.y,n.save(),n.translate(-a._renderer.offset.x,-a._renderer.offset.y),n.scale(m,g),u=e._size/a._renderer.scale.y,h=e._leading/a._renderer.scale.y,n.font=[e._style,e._weight,u+"px/",h+"px",e._family].join(" "),d=a._renderer.offset.x/a._renderer.scale.x,f=a._renderer.offset.y/a._renderer.scale.y,n.fillText(e.value,d,f),n.restore()):n.fillText(e.value,0,0)),jC.isHidden.test(i)||(i._renderer&&i._renderer.offset?(m=i._renderer.scale.x,g=i._renderer.scale.y,n.save(),n.translate(-i._renderer.offset.x,-i._renderer.offset.y),n.scale(m,g),u=e._size/i._renderer.scale.y,h=e._leading/i._renderer.scale.y,n.font=[e._style,e._weight,u+"px/",h+"px",e._family].join(" "),d=i._renderer.offset.x/i._renderer.scale.x,f=i._renderer.offset.y/i._renderer.scale.y,p=o/i._renderer.scale.x,n.lineWidth=p,n.strokeText(e.value,d,f),n.restore()):n.strokeText(e.value,0,0)),/(underline|strikethrough)/i.test(c)){var M=n.measureText(e.value);switch(c){case"underline":y=M.actualBoundingBoxAscent,x=M.actualBoundingBoxAscent;break;case"strikethrough":y=0,x=0}v=-M.width/2,b=M.width/2,n.lineWidth=Math.max(Math.floor(e._size/15),1),n.strokeStyle=n.fillStyle,n.beginPath(),n.moveTo(v,y),n.lineTo(b,x),n.stroke()}n.restore()},getBoundingClientRect:function(e,t){var n=jC.ctx;n.font=[e._style,e._weight,e._size+"px/"+e._leading+"px",e._family].join(" "),n.textAlign="center",n.textBaseline=e._baseline;var r=1.25*n.measureText(e._value).width,i=1.25*Math.max(e._size,e._leading);this._linewidth&&!jC.isHidden.test(this._stroke)&&(r+=2*this._linewidth,i+=2*this._linewidth);var o=r/2,a=i/2;switch(jC.alignments[e._alignment]||e._alignment){case jC.alignments.left:t.left=0,t.right=r;break;case jC.alignments.right:t.left=-r,t.right=0;break;default:t.left=-o,t.right=o}switch(e._baseline){case"bottom":t.top=-i,t.bottom=0;break;case"top":t.top=0,t.bottom=i;break;default:t.top=-a,t.bottom=a}t.width=r,t.height=i,t.centroid||(t.centroid={}),t.centroid.x=o,t.centroid.y=a},render:function(e,t,n){if(!this._visible||!this._opacity)return this;this._update();var r=n||this.parent,i=r._matrix.manual||r._flagMatrix,o=this._matrix.manual||this._flagMatrix,a=this._renderer.parent!==r,s=this._flagVertices||this._flagFill||this._fill instanceof FR&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagEndPoints)||this._fill instanceof BR&&(this._fill._flagSpread||this._fill._flagStops||this._fill._flagRadius||this._fill._flagCenter||this._fill._flagFocal)||this._fill instanceof HR&&(this._fill._flagLoaded&&this._fill.loaded||this._fill._flagImage||this._fill._flagVideo||this._fill._flagRepeat||this._fill._flagOffset||this._fill._flagScale)||this._stroke instanceof FR&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagEndPoints)||this._stroke instanceof BR&&(this._stroke._flagSpread||this._stroke._flagStops||this._stroke._flagRadius||this._stroke._flagCenter||this._stroke._flagFocal)||this._stroke instanceof HR&&(this._stroke._flagLoaded&&this._stroke.loaded||this._stroke._flagImage||this._stroke._flagVideo||this._stroke._flagRepeat||this._stroke._flagOffset||this._fill._flagScale)||this._flagStroke||this._flagLinewidth||this._flagOpacity||r._flagOpacity||this._flagVisible||this._flagScale||this._flagValue||this._flagFamily||this._flagSize||this._flagLeading||this._flagAlignment||this._flagBaseline||this._flagStyle||this._flagWeight||this._flagDecoration||this.dashes&&this.dashes.length>0||!this._renderer.texture;if((i||o||a)&&(this._renderer.matrix||(this._renderer.matrix=new Lk(9)),this._matrix.toTransformArray(!0,UC),zC(UC,r._renderer.matrix,this._renderer.matrix),this._renderer.scale instanceof Uk||(this._renderer.scale=new Uk),this._scale instanceof Uk?(this._renderer.scale.x=this._scale.x*r._renderer.scale.x,this._renderer.scale.y=this._scale.y*r._renderer.scale.y):(this._renderer.scale.x=this._scale*r._renderer.scale.x,this._renderer.scale.y=this._scale*r._renderer.scale.y),a&&(this._renderer.parent=r)),s?(this._renderer.rect||(this._renderer.rect={}),this._renderer.opacity=this._opacity*r._renderer.opacity,jC.text.getBoundingClientRect(this,this._renderer.rect),jC.updateTexture.call(jC,e,this)):(this._fill&&this._fill._update&&this._fill._update(),this._stroke&&this._stroke._update&&this._stroke._update()),!this._clip||n){e.bindTexture(e.TEXTURE_2D,this._renderer.texture);var l=this._renderer.rect;return e.uniformMatrix3fv(t.matrix,!1,this._renderer.matrix),e.uniform4f(t.rect,l.left,l.top,l.right,l.bottom),e.drawArrays(e.TRIANGLES,0,6),this.flagReset()}}},"linear-gradient":{render:function(e,t){if(e.canvas.getContext("2d")){if(this._update(),!this._renderer.effect||this._flagEndPoints||this._flagStops){this._renderer.effect=e.createLinearGradient(this.left._x,this.left._y,this.right._x,this.right._y);for(var n=0;n<this.stops.length;n++){var r=this.stops[n];this._renderer.effect.addColorStop(r._offset,r._color)}}return this.flagReset()}}},"radial-gradient":{render:function(e,t){if(e.canvas.getContext("2d")){if(this._update(),!this._renderer.effect||this._flagCenter||this._flagFocal||this._flagRadius||this._flagStops){this._renderer.effect=e.createRadialGradient(this.center._x,this.center._y,0,this.focal._x,this.focal._y,this._radius);for(var n=0;n<this.stops.length;n++){var r=this.stops[n];this._renderer.effect.addColorStop(r._offset,r._color)}}return this.flagReset()}}},texture:{render:function(e,t){if(e.canvas.getContext("2d")){this._update();var n=this.image;if((this._flagLoaded||this._flagImage||this._flagVideo||this._flagRepeat)&&this.loaded)this._renderer.effect=e.createPattern(n,this._repeat);else if(!this._renderer.effect)return this.flagReset();return(this._flagOffset||this._flagLoaded||this._flagScale)&&(this._renderer.offset instanceof Uk||(this._renderer.offset=new Uk),this._renderer.offset.x=-this._offset.x,this._renderer.offset.y=-this._offset.y,n&&(this._renderer.offset.x+=n.width/2,this._renderer.offset.y+=n.height/2,this._scale instanceof Uk?(this._renderer.offset.x*=this._scale.x,this._renderer.offset.y*=this._scale.y):(this._renderer.offset.x*=this._scale,this._renderer.offset.y*=this._scale))),(this._flagScale||this._flagLoaded)&&(this._renderer.scale instanceof Uk||(this._renderer.scale=new Uk),this._scale instanceof Uk?this._renderer.scale.copy(this._scale):this._renderer.scale.set(this._scale,this._scale)),this.flagReset()}}},updateTexture:function(e,t){this[t._renderer.type].updateCanvas.call(jC,t),t._renderer.texture||(t._renderer.texture=e.createTexture()),e.bindTexture(e.TEXTURE_2D,t._renderer.texture),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),this.canvas.width<=0||this.canvas.height<=0||e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,this.canvas)},program:{create:function(e,t){var n,r;if(n=e.createProgram(),Dk.each(t,(function(t){e.attachShader(n,t)})),e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS))throw r=e.getProgramInfoLog(n),e.deleteProgram(n),new OR("unable to link program: "+r);return n}},shaders:{create:function(e,t,n){var r,i;if(r=e.createShader(e[n]),e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw i=e.getShaderInfoLog(r),e.deleteShader(r),new OR("unable to compile shader "+r+": "+i);return r},types:{vertex:"VERTEX_SHADER",fragment:"FRAGMENT_SHADER"},vertex:["precision mediump float;","attribute vec2 a_position;","","uniform mat3 u_matrix;","uniform vec2 u_resolution;","uniform vec4 u_rect;","","varying vec2 v_textureCoords;","","void main() {","   vec2 rectCoords = (a_position * (u_rect.zw - u_rect.xy)) + u_rect.xy;","   vec2 projected = (u_matrix * vec3(rectCoords, 1.0)).xy;","   vec2 normal = projected / u_resolution;","   vec2 clipspace = (normal * 2.0) - 1.0;","","   gl_Position = vec4(clipspace * vec2(1.0, -1.0), 0.0, 1.0);","   v_textureCoords = a_position;","}"].join("\n"),fragment:["precision mediump float;","","uniform sampler2D u_image;","varying vec2 v_textureCoords;","","void main() {","  vec4 texel = texture2D(u_image, v_textureCoords);","  if (texel.a == 0.0) {","    discard;","  }","  gl_FragColor = texel;","}"].join("\n")},TextureRegistry:new NR};jC.ctx=jC.canvas.getContext("2d");var HC=function(e){var t,n,r;if(this.domElement=e.domElement||document.createElement("canvas"),void 0!==e.offscreenElement&&(jC.canvas=e.offscreenElement,jC.ctx=jC.canvas.getContext("2d")),this.scene=new gR,this.scene.parent=this,this._renderer={type:"renderer",matrix:new Lk(FC),scale:1,opacity:1},this._flagMatrix=!0,e=Dk.defaults(e||{},{antialias:!1,alpha:!0,premultipliedAlpha:!0,stencil:!0,preserveDrawingBuffer:!0,overdraw:!1}),this.overdraw=e.overdraw,t=this.ctx=this.domElement.getContext("webgl",e)||this.domElement.getContext("experimental-webgl",e),!this.ctx)throw new OR("unable to create a webgl context. Try using another renderer.");n=jC.shaders.create(t,jC.shaders.vertex,jC.shaders.types.vertex),r=jC.shaders.create(t,jC.shaders.fragment,jC.shaders.types.fragment),this.program=jC.program.create(t,[n,r]),t.useProgram(this.program),this.program.position=t.getAttribLocation(this.program,"a_position"),this.program.matrix=t.getUniformLocation(this.program,"u_matrix"),this.program.rect=t.getUniformLocation(this.program,"u_rect");var i=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,i),t.vertexAttribPointer(this.program.position,2,t.FLOAT,!1,0,0),t.enableVertexAttribArray(this.program.position),t.bufferData(t.ARRAY_BUFFER,new Lk([0,0,1,0,0,1,0,1,1,0,1,1]),t.STATIC_DRAW),t.enable(t.BLEND),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA)};Dk.extend(HC,{Utils:jC}),Dk.extend(HC.prototype,Fk,{constructor:HC,setSize:function(e,t,n){this.width=e,this.height=t,this.ratio=void 0===n?uR(this.ctx):n,this.domElement.width=e*this.ratio,this.domElement.height=t*this.ratio,Dk.isObject(this.domElement.style)&&Dk.extend(this.domElement.style,{width:e+"px",height:t+"px"}),this._renderer.matrix[0]=this._renderer.matrix[4]=this._renderer.scale=this.ratio,this._flagMatrix=!0,this.ctx.viewport(0,0,e*this.ratio,t*this.ratio);var r=this.ctx.getUniformLocation(this.program,"u_resolution");return this.ctx.uniform2f(r,e*this.ratio,t*this.ratio),this.trigger(Fk.Types.resize,e,t,n)},render:function(){var e=this.ctx;return this.overdraw||e.clear(e.COLOR_BUFFER_BIT),jC.group.render.call(this.scene,e,this.program),this._flagMatrix=!1,this}});var VC=function(e){var t=Dk.defaults(e||{},{fullscreen:!1,fitted:!1,width:640,height:480,type:VC.Types.svg,autostart:!1});if(Dk.each(t,(function(e,t){/fullscreen/i.test(t)||/autostart/i.test(t)||(this[t]=e)}),this),Dk.isElement(t.domElement)){var n=t.domElement.tagName.toLowerCase();/^(CanvasRenderer-canvas|WebGLRenderer-canvas|SVGRenderer-svg)$/.test(this.type+"-"+n)||(this.type=VC.Types[n])}this.renderer=new VC[this.type](this),this.setPlaying(t.autostart),this.frameCount=0,t.fullscreen?(this.fit=GC.bind(this),this.fit.domElement=window,this.fit.attached=!0,Dk.extend(document.body.style,{overflow:"hidden",margin:0,padding:0,top:0,left:0,right:0,bottom:0,position:"fixed"}),Dk.extend(this.renderer.domElement.style,{display:"block",top:0,left:0,right:0,bottom:0,position:"fixed"}),LR.bind(this.fit.domElement,"resize",this.fit),this.fit()):t.fitted?(this.fit=WC.bind(this),Dk.extend(this.renderer.domElement.style,{display:"block"})):Dk.isElement(t.domElement)||(this.renderer.setSize(t.width,t.height,this.ratio),this.width=t.width,this.height=t.height),this.renderer.bind(Fk.Types.resize,qC.bind(this)),this.scene=this.renderer.scene,VC.Instances.push(this),t.autostart&&XC.init()};function GC(){var e=document.body.getBoundingClientRect(),t=this.width=e.width,n=this.height=e.height;this.renderer.setSize(t,n,this.ratio)}function WC(){var e=this.renderer.domElement.parentElement;if(e){var t=e.getBoundingClientRect(),n=this.width=t.width,r=this.height=t.height;this.renderer.setSize(n,r,this.ratio)}else console.warn("Two.js: Attempting to fit to parent, but no parent found.")}function qC(e,t){this.width=e,this.height=t,this.trigger(Fk.Types.resize,e,t)}Dk.extend(VC,$k),Dk.extend(VC.prototype,Fk,{constructor:VC,appendTo:function(e){return e.appendChild(this.renderer.domElement),this.fit&&(this.fit.domElement!==window&&(this.fit.domElement=e,this.fit.attached=!1),this.update()),this},play:function(){return this.playing=!0,XC.init(),this.trigger(Fk.Types.play)},pause:function(){return this.playing=!1,this.trigger(Fk.Types.pause)},setPlaying:function(e){this.playing=e},release:function(e){var t,n,r;if(Dk.isObject(e)){if("function"==typeof e.unbind&&e.unbind(),e.vertices)for("function"==typeof e.vertices.unbind&&e.vertices.unbind(),t=0;t<e.vertices.length;t++)"function"==typeof(n=e.vertices[t]).unbind&&n.unbind();if(e.children)for(t=0;t<e.children.length;t++)r=e.children[t],this.release(r);return e}},update:function(){var e=!!this._lastFrame,t=Dk.performance.now();e&&(this.timeDelta=parseFloat((t-this._lastFrame).toFixed(3))),this._lastFrame=t,this.fit&&!this.fit.attached&&(LR.bind(this.fit.domElement,"resize",this.fit),this.fit.attached=!0,this.fit());var n=this.width,r=this.height,i=this.renderer;return n===i.width&&r===i.height||i.setSize(n,r,this.ratio),this.trigger(Fk.Types.update,this.frameCount,this.timeDelta),this.render()},render:function(){return this.renderer.render(),this.trigger(Fk.Types.render,this.frameCount++)},add:function(e){var t=e;return t instanceof Array||(t=Array.prototype.slice.call(arguments)),this.scene.add(t),this},remove:function(e){var t=e;return t instanceof Array||(t=Array.prototype.slice.call(arguments)),this.scene.remove(t),this},clear:function(){return this.scene.remove(this.scene.children),this},makeLine:function(e,t,n,r){var i=new lC(e,t,n,r);return this.scene.add(i),i},makeArrow:function(e,t,n,r,i){var o="number"==typeof i?i:10,a=Math.atan2(r-t,n-e),s=[new Vk(e,t,void 0,void 0,void 0,void 0,Ek.move),new Vk(n,r,void 0,void 0,void 0,void 0,Ek.line),new Vk(n-o*Math.cos(a-Math.PI/4),r-o*Math.sin(a-Math.PI/4),void 0,void 0,void 0,void 0,Ek.line),new Vk(n,r,void 0,void 0,void 0,void 0,Ek.move),new Vk(n-o*Math.cos(a+Math.PI/4),r-o*Math.sin(a+Math.PI/4),void 0,void 0,void 0,void 0,Ek.line)],l=new XR(s,!1,!1,!0);return l.noFill(),l.cap="round",l.join="round",this.scene.add(l),l},makeRectangle:function(e,t,n,r){var i=new cC(e,t,n,r);return this.scene.add(i),i},makeRoundedRectangle:function(e,t,n,r,i){var o=new uC(e,t,n,r,i);return this.scene.add(o),o},makeCircle:function(e,t,n,r){var i=new nC(e,t,n,r);return this.scene.add(i),i},makeEllipse:function(e,t,n,r,i){var o=new sC(e,t,n,r,i);return this.scene.add(o),o},makeStar:function(e,t,n,r,i){var o=new IC(e,t,n,r,i);return this.scene.add(o),o},makeCurve:function(e){var t=arguments.length,n=e;if(!Array.isArray(e)){n=[];for(var r=0;r<t;r+=2){var i=arguments[r];if("number"!=typeof i)break;var o=arguments[r+1];n.push(new Vk(i,o))}}var a=arguments[t-1],s=new XR(n,!("boolean"==typeof a?a:void 0),!0),l=s.getBoundingClientRect();return s.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(s),s},makePolygon:function(e,t,n,r){var i=new PC(e,t,n,r);return this.scene.add(i),i},makeArcSegment:function(e,t,n,r,i,o,a){var s=new TC(e,t,n,r,i,o,a);return this.scene.add(s),s},makePath:function(e){var t=arguments.length,n=e;if(!Array.isArray(e)){n=[];for(var r=0;r<t;r+=2){var i=arguments[r];if("number"!=typeof i)break;var o=arguments[r+1];n.push(new Vk(i,o))}}var a=arguments[t-1],s=new XR(n,!("boolean"==typeof a?a:void 0)),l=s.getBoundingClientRect();return"number"==typeof l.top&&"number"==typeof l.left&&"number"==typeof l.right&&"number"==typeof l.bottom&&s.center().translation.set(l.left+l.width/2,l.top+l.height/2),this.scene.add(s),s},makeText:function(e,t,n,r){var i=new hC(e,t,n,r);return this.add(i),i},makeLinearGradient:function(e,t,n,r){var i=Array.prototype.slice.call(arguments,4),o=new FR(e,t,n,r,i);return this.add(o),o},makeRadialGradient:function(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=new BR(e,t,n,r);return this.add(i),i},makeSprite:function(e,t,n,r,i,o,a){var s=new SC(e,t,n,r,i,o);return a&&s.play(),this.add(s),s},makeImageSequence:function(e,t,n,r,i){var o=new wC(e,t,n,r);return i&&o.play(),this.add(o),o},makeTexture:function(e,t){return new HR(e,t)},makeGroup:function(e){var t=e;t instanceof Array||(t=Array.prototype.slice.call(arguments));var n=new gR;return this.scene.add(n),n.add(t),n},interpret:function(e,t,n){var r=e.tagName.toLowerCase();if(n=void 0===n||n,!(r in xC))return null;var i=xC[r].call(this,e);return n?this.add(t&&i instanceof gR?i.children:i):i.parent&&i.remove(),i},load:function(e,t){var n,r,i,o=new gR,a=function(e){for(LR.temp.innerHTML=e,r=0;r<LR.temp.children.length;r++)if(n=LR.temp.children[r],/svg/i.test(n.nodeName))for(i=0;i<n.children.length;i++)o.add(this.interpret(n.children[i]));else o.add(this.interpret(n));if("function"==typeof t){var a=LR.temp.children.length<=1?LR.temp.children[0]:LR.temp.children;t(o,a)}}.bind(this);return/.*\.svg/gi.test(e)?(_C(e,a),o):(a(e),o)}});var XC=LR.getRequestAnimationFrame();function YC(){for(var e=0;e<VC.Instances.length;e++){var t=VC.Instances[e];t.playing&&t.update()}VC.nextFrameID=XC(YC)}function ZC(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}XC.init=function(){YC(),XC.init=function(){}},Dk.extend(VC,{Anchor:Vk,Collection:hR,Events:Fk,Group:gR,Matrix:Zk,Path:XR,Registry:NR,Shape:dR,Text:hC,Vector:Uk,Gradient:zR,ImageSequence:wC,LinearGradient:FR,RadialGradient:BR,Sprite:SC,Stop:DR,Texture:HR,ArcSegment:TC,Circle:nC,Ellipse:sC,Line:lC,Polygon:PC,Rectangle:cC,RoundedRectangle:uC,Star:IC,CanvasRenderer:CR,SVGRenderer:DC,WebGLRenderer:HC,Commands:Ek,Utils:Dk.extend({Error:OR,getRatio:uR,defineGetterSetter:IR,read:xC,xhr:_C},Dk,AR,lR,Ik)});ZC("");var QC=function(i){var o=i.data,a=i.maxValue,s=i.color,l=void 0===s?"red":s,c=t(i,["data","maxValue","color"]),u=m.useRef(),h=m.useRef(r(Array(o.length)).map((function(){return{x:0,y:0}}))),d=n(m.useState(null),2),f=d[0],p=d[1],g=n(function(e,t,n){const r=gp.fun(t)&&t;r&&!n&&(n=[]);const i=m.useRef(0),o=Lp(),[a]=m.useState((()=>({ctrls:[],queue:[],flush(e,t){const n=ig(e,t);return i.current>0&&!a.queue.length&&!Object.keys(n).some((t=>!e.springs[t]))?ng(e,t):new Promise((r=>{og(e,n),a.queue.push((()=>{r(ng(e,t))})),o()}))}}))),s=m.useRef(),l=[...a.ctrls],c=[],u=Op(e)||0,h=l.slice(e,u);function d(e,n){for(let i=e;i<n;i++){const e=l[i]||(l[i]=new tg(null,a.flush));let n=r?r(i,e):t[i];n&&(n=c[i]=$m(n),0==i&&(s.current=n.ref,n.ref=void 0))}}Sm((()=>{l.length=e,d(u,e)}),[e]),Sm((()=>{d(0,Math.min(u,e))}),n);const f=m.useMemo((()=>hg((()=>a.ctrls))),[]),p=l.map(((e,t)=>ig(e,c[t]))),g=ug();hp((()=>{i.current++,a.ctrls=l,s.current&&(s.current.current=f);const{queue:e}=a;e.length&&(a.queue=[],xp(e,(e=>e()))),xp(h,(e=>e.dispose())),xp(l,((e,t)=>{og(e,p[t]),e.start({default:g});const n=c[t];n&&(s.current?e.queue.push(n):e.start(n))}))})),Ap((()=>()=>{xp(a.ctrls,(e=>e.dispose()))}));const v=p.map((e=>Wh({},e)));return r||3==arguments.length?[v,f.start,f.stop]:v}(o.length,(function(e){return{x:0,y:0,onChange:function(t){var n=v[e].x.get(),r=v[e].y.get();h.current[e].x=n,h.current[e].y=r,h.current.forEach((function(e,t){var n=e.x,r=e.y;0===t?(u.current=new Il,u.current.autoClose=!0,u.current.moveTo(n,r)):u.current.lineTo(n,r),t+1===o.length&&p(u.current)}))}}})),2),v=g[0],y=g[1],b=m.useCallback((function(){var e=o.length,t=2*Math.PI/e;y((function(e){var n=t*e,r=o[e].value/a;return{delay:80*e,from:{x:0,y:0},to:{x:r*Math.cos(n),y:r*Math.sin(n)}}}))}),[o]),x=m.useCallback((function(){y((function(){return{x:0,y:0,onRest:b}}))}),[b]);return m.useEffect((function(){return b(),function(){}}),[]),m.createElement("group",e({},c,{onClick:x}),m.createElement("group",{rotation:[0,0,Math.PI/2]},m.createElement("mesh",null,f&&m.createElement("shapeBufferGeometry",{args:[f]}),m.createElement("meshBasicMaterial",{color:l,transparent:!0,blending:4}))))};QC.propTypes={};var $C=function(e){var t=e.isThinLineMode,n=e.color,r=e.points,i=void 0===r?[{x:1,y:1,z:1}]:r,o=e.isOutlineDashMode,a=e.lineWidth,s=void 0===a?1:a,l=m.useCallback((function(e){return e.setFromPoints(i)}),[i]);return t?m.createElement("line",null,m.createElement("bufferGeometry",{onUpdate:l}),m.createElement("lineBasicMaterial",{color:n})):m.createElement(mk,{points:i.map((function(e){return[e.x,e.y,0]})),color:n,lineWidth:s,dashed:o})};$C.propTypes={};var KC="BgRadarChart-module_label__2DBFO";ZC(".BgRadarChart-module_label__2DBFO {\n  border: 1px solid red;\n  color: blue;\n  white-space: nowrap; }\n");var JC=function(e){var n=e.centerPoint,r=void 0===n?[0,0,0]:n,i=e.numPolygonSide,o=e.lengthRadius,a=void 0===o?1:o,s=e.color,l=void 0===s?"aqua":s,c=e.isCenterLineDisplay,u=void 0!==c&&c,h=e.isOutlineMode,d=void 0!==h&&h,f=e.outlineColor,p=void 0===f?"black":f,g=e.centerLineColor,v=void 0===g?p:g,y=e.outOutlineStrokeWidth,b=void 0===y?1:y;e.isOutlineDashMode;var x=e.isThinLineMode,_=void 0===x||x,w=e.labelList,S=t(e,["centerPoint","numPolygonSide","lengthRadius","color","isCenterLineDisplay","isOutlineMode","outlineColor","centerLineColor","outOutlineStrokeWidth","isOutlineDashMode","isThinLineMode","labelList"]),E=m.useMemo((function(){return new VC.Polygon(r.x,r.y,a,i)}),[i,a]),M=m.useMemo((function(){var e=new Il;return e.autoClose=!0,E._collection.forEach((function(t,n){var i=t.x,o=t.y,a=[r[0]+i,r[1]+o];0===n?e.moveTo.apply(e,a):e.lineTo.apply(e,a)})),e}),[E]),T=m.useMemo((function(){return M.getPoints()}),[M]);return M&&m.createElement("group",S,m.createElement("group",{rotation:[0,0,-Math.PI/i]},!d&&m.createElement("mesh",null,m.createElement("shapeBufferGeometry",{args:[M]}),m.createElement("meshBasicMaterial",{color:l})),m.createElement($C,{color:p,points:T,lineWidth:b,isThinLineMode:_}),u&&T.map((function(e,t){var n=[{x:r[0],y:r[1],z:r[2]},e];return m.createElement(m.Fragment,null,m.createElement($C,{key:"center-".concat(t),points:n,isThinLineMode:!0,color:v}),m.createElement(wk,{center:!0,position:[e.x,e.y,e.z]},m.createElement("div",{className:KC},w[t])))}))))};JC.propTypes={centerPoint:J.array,isOutlineMode:J.bool,isCenterLineDisplay:J.bool,numPolygonSide:J.number,isOutlineDashMode:J.bool,isThinLineMode:J.bool,lengthRadius:J.number,labelList:J.array,renderExtendComponent:J.func};var eP=function(e){var t=e.numAbility,n=e.numLayer,i=void 0===n?3:n,o=e.backgroundColor,a=void 0===o?"orange":o,s=e.labelList;return m.createElement("group",null,m.createElement(JC,{numPolygonSide:t,color:a,isCenterLineDisplay:!0,labelList:s}),r(Array(i)).map((function(e,n){var r=n/i;return m.createElement(JC,{key:"layer"+n,isOutlineMode:!0,isThinLineMode:!0,numPolygonSide:t,scale:[r,r,1]})})))};eP.propTypes={labelList:J.array};var tP="ThreeRadarChart-module_ThreeRadarChart__1LNhX";ZC(".ThreeRadarChart-module_ThreeRadarChart__1LNhX {\n  font-size: 20px;\n  color: red; }\n  .ThreeRadarChart-module_ThreeRadarChart__1LNhX canvas {\n    width: 100vw;\n    height: 100vh; }\n");var nP=function(n){n.centerPoint,n.lengthRadius;var r=n.maxValue,i=void 0===r?5:r,o=n.data,a=void 0===o?[{name:"帶入感",value:5},{name:"美術",value:3},{name:"溝通",value:.5},{name:"創意",value:3},{name:"耐玩",value:5},{name:"策略",value:1}]:o,s=n.numLayer,l=void 0===s?a.length:s,c=n.control,u=t(n,["centerPoint","lengthRadius","maxValue","data","numLayer","control"]),h=m.useMemo((function(){return a.map((function(e){return e.name}))}),[a]);return m.createElement("div",{className:tP},m.createElement(wd,e({onCreated:function(e){e.camera;var t=e.gl,n=e.scene;t.setPixelRatio(window.devicePixelRatio||2),n.background=new zt(16777215)}},u),m.createElement("group",{rotation:[-Math.PI/5,-Math.PI/5,0]},m.createElement(eP,{numAbility:a.length<3?3:a.length,numLayer:l,labelList:h}),m.createElement(QC,{data:a,maxValue:i,position:[0,0,.15]})),c&&m.createElement(gk,null)))};nP.propTypes={maxValue:J.number,data:J.shape({name:J.string,value:J.number})};export{nP as ThreeRadarChart};
//# sourceMappingURL=index.es.js.map
